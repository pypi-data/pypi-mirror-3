<div metal:define-macro="users_paging" tal:omit-tag=""
       xmlns:tal="http://xml.zope.org/namespaces/tal"
       xmlns:metal="http://xml.zope.org/namespaces/metal">
  <div id="dialogBox" tal:condition="paging is not None">
    <div class="legend">
      <div class="first">${_('Users to add')}</div>
      <div class="last">
        ${form.submit_image('ccl!', _('Close'), '/Static/Images/close.png')}
      </div>
    </div>
    <div class="content">
      <div class="filter col11">
        <div class="colFirst">
          ${form.grid_text('f_login', _('Login:'))}
          ${form.grid_select('f_group', _('Group:'), [('', '')] + groups, autosubmit=True)}
        </div>
        <div class="colLast">
          ${form.grid_text('f_name', _('Name:'))}
        </div>
        <div class="submit">${form.submit('filter', _('Apply filter'), class_='button')}</div>
      </div>
      <h3 class="list">${_('Users to add')}</h3>
      <div class="listActions">
        <div class="first">${paging.pager_top()}</div>
        <div class="last">
          ${form.submit('add!#.x', _('Add users'))}
        </div>
      </div>
      <table class="list smallList">
        <caption>${_('Users')}</caption>
        <tr>
          <th class="checkbox">${form.checkbox('check_all')}</th>
          <th>${paging.sortable_column(_('Login'), 'login')}</th>
          <th>${paging.sortable_column(_('Name'), 'name')}</th>
          <th class="last">${_('Actions')}</th>
        </tr>
        <tr tal:repeat="user paging">
          <td class="checkbox">${form.checkbox('#%s' % user.user_id, id=None, class_='listCheck')}</td>
          <td>${user.login}</td>
          <td>${user.name}</td>
          <td class="last actions">
            ${form.submit_image('add!%d' % user.user_id, _('Add user'),
            '/Static/Images/action_add_one.png')}
          </td>
        </tr>
      </table>
      <div class="listPager">
        <div class="first">${paging.pager_bottom()}</div>
        <div class="last">
          ${_('Lines per page:')} ${form.select('page_size', '', paging.page_sizes, True)}
        </div>
      </div>
    </div>
  </div>
</div>