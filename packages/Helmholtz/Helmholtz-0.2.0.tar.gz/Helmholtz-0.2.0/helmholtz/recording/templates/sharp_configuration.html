{% with signal.configuration as configuration %}
{% autoescape off %}
<div class="floating_block">
 <h3>Electrode Properties</h3>
 <table class="data_container">
  <tr class="even">
   <th colspan="2">Type</th>
   <td>{{ config.method }}</td>
  </tr>
  <tr class="even">
   <th colspan="2">Solution</td>
   <td{% if not config.solution %} class="nd"{% endif %}>{{ config.solution|default:'N.D' }}</td>
  </tr>
  <tr class="even">
   <th colspan="2">Intra</td>
   <td>{{ position.intra|default_if_none:'N.D' }}</td>
  </tr>
  <tr class="even">
   <th rowspan="2">Location</td>
   <th>AP</td>
   <td{% if not position.ap_axis %} class="nd"{% endif %}>{{position.get_ap_axis_display|default:'N.D'}}</td>
  </tr>
  <tr class="even">
   <th>Lt</td>
   <td{% if not position.lt_axis %} class="nd"{% endif %}>{{position.get_lt_axis_display|default:'N.D'}}</td>
  </tr>
  <tr class="even">
   <th colspan="2">Depth</td>
   <td{% if not position.depth %} class="nd"{% endif %}>{{position.depth|default:'N.D'}}</td>
  </tr>
 </table>
 <p style="margin-top:none;margin-bottom:none;">N.D : Not Defined.</p> 
 </div>
 <div class="floating_block">
  {% if block_measurements %}
  <h3>Block Measurements</h3>
  <table class="list_of_data">
  <tr>
   {% comment %}<th>Timestamp</th>{% endcomment %}
   <th>Parameter</th>
   <th>Value</th>
   <th>Unit</th>
  </tr>
  {% for measure_base in block_measurements %}
  
  {% with measure_base.cast as measure %}
  <tr class="{% cycle odd,even %}">
   {% comment %}<td>{{ measure.timestamp }}</td>{% endcomment %}
   <td>{{ measure.parameter.label }}</td>
   <td>{{ measure.value|default_if_none:'N.D' }}</td>
   <td>{{ measure.unit }}</td>
  </tr>
  {% endwith %}
  
  {% endfor %}
  <tr>
   <th colspan="4">
    <br/>
   </th>
  </tr>
 </table>
 {% endif %}
 </div>
 
 <div class="floating_block">
 
 {% if protocol_measurements %}
 <h3>Protocol Measurements</h3>
 <table class="list_of_data">
  <tr>
   {% comment %}<th>Timestamp</th>{% endcomment %}
   <th>Parameter</th>
   <th>Value</th>
   <th>Unit</th>
  </tr>
  {% for measure_base in protocol_measurements %}
  
  {% with measure_base.cast as measure %}
  <tr class="{% cycle odd,even %}">
   {% comment %}<td>{{ measure.timestamp }}</td>{% endcomment %}
   <td>{{ measure.parameter.label }}</td>
   <td>{{ measure.value|default_if_none:'N.D' }}</td>
   <td>{{ measure.unit }}</td>
  </tr>
  {% endwith %}
  
  {% endfor %}
  <tr>
   <th colspan="4">
    <br/>
   </th>
  </tr>
 </table>
 {% endif %}
</div>
<p style="clear:both;"></p>

{% endautoescape %}
{% endwith %}