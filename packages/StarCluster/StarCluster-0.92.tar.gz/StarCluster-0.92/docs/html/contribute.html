
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Contributing to StarCluster &mdash; StarCluster v0.92 documentation</title>
    <link rel="stylesheet" href="_static/pylons.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.92',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="StarCluster v0.92 documentation" href="index.html" />
    <link rel="up" title="Master Table of Contents" href="contents.html" />
    <link rel="next" title="Hacking" href="hacking.html" />
    <link rel="prev" title="StarCluster Support" href="support.html" />
<link rel="stylesheet" href="_static/nobile.css" type="text/css" media="screen" charset="utf-8" />
<link rel="stylesheet" href="_static/neuton.css" type="text/css" media="screen" charset="utf-8" />
<!--[if lte IE 6]>
<link rel="stylesheet" href="_static/ie6.css" type="text/css" media="screen" charset="utf-8" />
<![endif]-->
<link rel="shortcut icon" href="_static/starcluster.ico"/>

  </head>
  <body>
<div class="header-small">
	
	<div class="logo-small">
		<a href="index.html">
      		<img class="logo" src="_static/logo-small.png" alt="Logo"/>
		</a>
  	</div>
</div>

    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="hacking.html" title="Hacking"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="support.html" title="StarCluster Support"
             accesskey="P">previous</a> |</li>
    	<li><a href="index.html">Home</a> &raquo;</li>
          <li><a href="contents.html" accesskey="U">Master Table of Contents</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="contributing-to-starcluster">
<h1>Contributing to StarCluster<a class="headerlink" href="#contributing-to-starcluster" title="Permalink to this headline">¶</a></h1>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><strong>Prerequisites</strong>: You need to <a class="reference external" href="http://help.github.com/set-up-git-redirect">install git</a> before following these
instructions. You should also familiarize yourself with the basic use and
work flow model of git before following these instructions. The folks over
at github put together a good <a class="reference external" href="http://gitref.org">introduction to git</a>
that you can use to get started with git.</p>
</div>
<div class="section" id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="sign-up-for-a-github-acount">
<h2>Sign-up for a github acount<a class="headerlink" href="#sign-up-for-a-github-acount" title="Permalink to this headline">¶</a></h2>
<p>StarCluster&#8217;s source code is stored on <a class="reference external" href="https://github.com">github.com</a>. It
is preferred that you use github.com to submit patches and enhancements via
<a class="reference external" href="http://help.github.com/pull-requests/">pull requests</a>. The first step is to
sign up for a <a class="reference external" href="https://github.com">github account</a>.</p>
</div>
<div class="section" id="fork-the-starcluster-project">
<h2>Fork the StarCluster project<a class="headerlink" href="#fork-the-starcluster-project" title="Permalink to this headline">¶</a></h2>
<p>Once you have a github account the next step is to <a class="reference external" href="http://help.github.com/fork-a-repo/">fork</a> the StarCluster github repository. To
do this you must first login to <a class="reference external" href="https://github.com">github</a> and then
navigate to the <a class="reference external" href="https://github.com/jtriley/StarCluster">StarCluster repository</a>. Once there click on the <strong>Fork</strong>
button towards the top right of the project page:</p>
<img alt="_images/forkproject.png" src="_images/forkproject.png" />
<p>This will create your own copy of the StarCluster repository under your github
account that you can modify and commit to. Having your own copy allows you to
work on bug fixes, docs, new features, etc. without needing special commit
access to the main StarCluster repository.</p>
</div>
<div class="section" id="setup-a-virtualenv-for-starcluster-development">
<h2>Setup a virtualenv for StarCluster development<a class="headerlink" href="#setup-a-virtualenv-for-starcluster-development" title="Permalink to this headline">¶</a></h2>
<p>When developing a Python project it&#8217;s useful to work inside an isolated Python
environment that lives inside your <em>$HOME</em> folder.  This helps to avoid
dependency version mismatches between projects and also removes the need to
obtain root priviliges to install Python modules/packages for development.</p>
<p>Fortunately there exists a couple of projects that make creating and managing
isolated Python environments quick and easy:</p>
<ul class="simple">
<li><a class="reference external" href="http://pypi.python.org/pypi/virtualenv">virtualenv</a> - Virtual Python
Environment builder</li>
<li><a class="reference external" href="http://pypi.python.org/pypi/virtualenvwrapper">virtualenvwrapper</a> - Shell
enhancements for virtualenv</li>
</ul>
<p>To get started you first need to install and configure virtualenv and
virtualenvwrapper:</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">You need <em>root</em> access to run the <em>sudo</em> commands below.</p>
</div>
<div class="highlight-ini"><pre>$ sudo easy_install virtualenv
$ sudo easy_install virtualenvwrapper
$ mkdir $HOME/.virtualenvs
$ echo "source /usr/local/bin/virtualenvwrapper.sh" &gt;&gt; $HOME/.bashrc</pre>
</div>
<p><em>If</em> you&#8217;re using <a class="reference external" href="http://www.zsh.org">zsh</a> then the last line should be
changed to:</p>
<div class="highlight-ini"><pre>$ echo "source /usr/local/bin/virtualenvwrapper.sh" &gt;&gt; $HOME/.zshrc</pre>
</div>
<p>Running these commands will install both virtualenv and virtualenvwrapper and
configure virtualenvwrapper to use <strong>$HOME/.virtualenvs</strong> as the top-level
virtual environment directory where all virtual environments are installed.</p>
<p>At this point you will either need to close your current shell and launch a new
shell or <em>re-source</em> your shell&#8217;s <em>rc</em> file:</p>
<div class="highlight-ini"><pre>$ source $HOME/.bashrc</pre>
</div>
<p>This will reload your shell&#8217;s configuration file and configure
virtualenvwrapper. The next step is to create a new virtual environment called
<em>starcluster</em> and change into that virtual environment:</p>
<div class="highlight-ini"><pre>$ mkvirtualenv --clear --no-site-packages --distribute starcluster
(starcluster)$ echo $PATH
/home/user/.virtualenvs/starcluster/bin:/usr/local/bin:/usr/bin:/bin:/opt/bin</pre>
</div>
<p>Running this command will create a new folder <em>$HOME/.virtualenvs/starcluster</em>
containing your new isolated Python environment for StarCluster. This command
will also modify your current shell&#8217;s environment to work with the StarCluster
virtual environment. As you can see from the <em>echo $PATH</em> command above your
PATH environment variable has been modified to include the virtual
environment&#8217;s <em>bin</em> directory at the front of the path. This means when you
type <em>python</em> or other Python-related commands (e.g. easy_install, pip, etc)
you will be using the virtual environment&#8217;s isolated Python installation.</p>
<p>To see a list of your virtual environments:</p>
<div class="highlight-ini"><pre>$ workon
starcluster</pre>
</div>
<p>To <em>activate</em> (or enter) a virtual environment:</p>
<div class="highlight-ini"><pre>$ workon starcluster
(starcluster)$ cdvirtualenv
(starcluster)$ pwd
/home/user/.virtualenvs/starcluster
(starcluster)$ ls
bin  build  include  lib  lib64  man  share</pre>
</div>
<p>To <em>de-activate</em> (or leave) a virtual environment:</p>
<div class="highlight-ini"><pre>(starcluster)$ deactivate
$ echo $PATH
/usr/local/bin:/usr/bin:/bin:/opt/bin</pre>
</div>
<p>Installing packages within your virtual environment is the same as outside the
virtual environment except you don&#8217;t need <em>root</em> privileges. You can use either
<em>easy_install</em> or <em>pip</em> to install Python packages/modules. Since <a class="reference external" href="http://pypi.python.org/pypi/ipython">IPython</a> is
required to use StarCluster&#8217;s development shell let&#8217;s install <a class="reference external" href="http://pypi.python.org/pypi/ipython">IPython</a> now to
test this out:</p>
<div class="highlight-ini"><pre>(starcluster)$ pip install ipython</pre>
</div>
<p>This will install <a class="reference external" href="http://pypi.python.org/pypi/ipython">IPython</a> within the virtual environment. You can verify this
using the following command:</p>
<div class="highlight-ini"><pre>(starcluster)$ which ipython
/home/user/.virtualenvs/starcluster/bin/ipython</pre>
</div>
</div>
<div class="section" id="clone-your-fork">
<h2>Clone your fork<a class="headerlink" href="#clone-your-fork" title="Permalink to this headline">¶</a></h2>
<p>Now that you have a working virtual environment for StarCluster it&#8217;s time to
check out your fork of StarCluster:</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Replace <strong>&lt;user&gt;</strong> in the <em>git clone</em> command below with your github username.</p>
</div>
<div class="highlight-ini"><pre>$ workon starcluster
(starcluster)$ cdvirtualenv
(starcluster)$ git clone &lt;user&gt;@github.com:&lt;user&gt;/StarCluster.git starcluster</pre>
</div>
<p>The <em>git clone</em> command above will checkout StarCluster&#8217;s source files to
$HOME/.virtualenvs/starcluster/starcluster. The next step is to configure
StarCluster&#8217;s Python source for development. To do this run the following
command:</p>
<div class="highlight-ini"><pre>$ workon starcluster
(starcluster)$ cd $VIRTUAL_ENV/starcluster
(starcluster)$ python setup.py develop</pre>
</div>
<p>The <em>python setup.py develop</em> command will install StarCluster into the virtual
environment&#8217;s site-packages in such a way that the sources are <em>linked</em> rather
than copied to the site-packages directory.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This has the benefit that as soon as a change is made in the StarCluster
source files the changes will show up immediately in the virtual
environment&#8217;s <a class="reference external" href="http://docs.python.org/install/index.html#how-installation-works">site-packages</a>
directory.  If you were to use <em>python setup.py install</em> you would instead
need to re-install StarCluster each time you made a change for the changes
to become active in the virtual environment&#8217;s Python installation.</p>
</div>
</div>
<div class="section" id="code-clean-up">
<h2>Code clean-up<a class="headerlink" href="#code-clean-up" title="Permalink to this headline">¶</a></h2>
<p>Before committing any code please be sure to run the <a class="reference external" href="https://github.com/jtriley/StarCluster/blob/master/check.py">check.py</a> script in the
root of your StarCluster git repository. This script runs <a class="reference external" href="http://pypi.python.org/pypi/pep8">pep8</a> and <a class="reference external" href="http://pypi.python.org/pypi/pyflakes">pyflakes</a> on all source files and outputs any
errors it finds related to pep8 formatting, syntax, import errors, undefined
variables, etc. Please fix any errors reported before committing.</p>
<p><span class="target" id="index-0"></span><a class="pep reference external" href="http://www.python.org/dev/peps/pep-0008"><strong>PEP 8</strong></a></p>
<div class="highlight-ini"><pre>$ cd $STARCLUSTER_REPO
$ pip install pep8
$ pip install pyflakes
$ ./check.py
&gt;&gt;&gt; Running pyflakes...
&gt;&gt;&gt; Running pep8...
&gt;&gt;&gt; Clean!</pre>
</div>
</div>
<div class="section" id="submit-your-changes-upstream">
<h2>Submit your changes upstream<a class="headerlink" href="#submit-your-changes-upstream" title="Permalink to this headline">¶</a></h2>
<p>Once you&#8217;ve finished fixing bugs or adding features you&#8217;re now ready to <a class="reference external" href="http://help.github.com/pull-requests/">submit
a pull request</a> so that the changes
can be merged upstream and be included in the next stable release.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Contributing to StarCluster</a><ul>
<li><a class="reference internal" href="#overview">Overview</a></li>
<li><a class="reference internal" href="#sign-up-for-a-github-acount">Sign-up for a github acount</a></li>
<li><a class="reference internal" href="#fork-the-starcluster-project">Fork the StarCluster project</a></li>
<li><a class="reference internal" href="#setup-a-virtualenv-for-starcluster-development">Setup a virtualenv for StarCluster development</a></li>
<li><a class="reference internal" href="#clone-your-fork">Clone your fork</a></li>
<li><a class="reference internal" href="#code-clean-up">Code clean-up</a></li>
<li><a class="reference internal" href="#submit-your-changes-upstream">Submit your changes upstream</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="support.html"
                        title="previous chapter">StarCluster Support</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="hacking.html"
                        title="next chapter">Hacking</a></p>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" size="18" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="hacking.html" title="Hacking"
             >next</a> |</li>
        <li class="right" >
          <a href="support.html" title="StarCluster Support"
             >previous</a> |</li>
    	<li><a href="index.html">Home</a> &raquo;</li>
          <li><a href="contents.html" >Master Table of Contents</a> &raquo;</li> 
      </ul>
    </div>


    <div class="footer">
        &copy; Copyright 2010, Software Tools for Academics and Researchers.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.0.7.
    </div>


<script type="text/javascript">
//<![CDATA[
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    //]]>
    </script><script type="text/javascript">
//<![CDATA[
    try{
        var pageTracker = _gat._getTracker("UA-1048253-12");
        pageTracker._trackPageview();
    } catch(err) {}
    //]]>
    </script>

  </body>
</html>