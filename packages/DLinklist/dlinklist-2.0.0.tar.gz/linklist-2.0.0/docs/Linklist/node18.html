<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<!--Converted with LaTeX2HTML 2008 (1.71)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>Input/Output</TITLE>
<META NAME="description" CONTENT="Input/Output">
<META NAME="keywords" CONTENT="Linklist">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META NAME="Generator" CONTENT="LaTeX2HTML v2008">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="Linklist.css">

<LINK REL="previous" HREF="node17.html">
<LINK REL="up" HREF="node12.html">
<LINK REL="next" HREF="node19.html">
</HEAD>

<BODY >

<DIV CLASS="navigation"><!--Navigation Panel-->
<A NAME="tex2html256"
  HREF="node19.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next.png"></A> 
<A NAME="tex2html252"
  HREF="node12.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up.png"></A> 
<A NAME="tex2html248"
  HREF="node17.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="prev.png"></A> 
<A NAME="tex2html254"
  HREF="node2.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents" SRC="contents.png"></A>  
<BR>
<B> Next:</B> <A NAME="tex2html257"
  HREF="node19.html">About this document ...</A>
<B> Up:</B> <A NAME="tex2html253"
  HREF="node12.html">Functions</A>
<B> Previous:</B> <A NAME="tex2html249"
  HREF="node17.html">Search</A>
 &nbsp; <B>  <A NAME="tex2html255"
  HREF="node2.html">Contents</A></B> 
<BR>
<BR></DIV>
<!--End of Navigation Panel-->

<H2><A NAME="SECTION000106000000000000000">
Input/Output</A>
</H2>
<DL>
<DT><STRONG>NAME</STRONG></DT>
<DD>&nbsp;&nbsp;&nbsp;&nbsp;
<BR>
DLL_SaveList, DLL_LoadList

<P>
</DD>
<DT><STRONG>SYNOPSIS</STRONG></DT>
<DD><PRE>
#include &lt;linklist.h&gt;

DLL_Return DLL_SaveList(List *list, const char *path);
DLL_Return DLL_LoadList(List *list, const char *path,
                        int (*pFun)(Info *, Info *))
</PRE>

<P>
</DD>
<DT><STRONG>DESCRIPTION</STRONG></DT>
<DD>&nbsp;&nbsp;&nbsp;&nbsp;
<BR>
These functions are designed to easily write and read the link list data to a disk.  They take advantage of their ability to access the <SPAN  CLASS="textit">Top Level Struct</SPAN> for saving and loading data quickly; however, this will only be useful in limited cases as most implementations will need application specific file formats.  Both return the enumerated type <SPAN  CLASS="textit">DLL_Return</SPAN> and take as their first argument, <SPAN  CLASS="textbf">list</SPAN>, the pointer returned by <SPAN  CLASS="textit">DLL_CreateList</SPAN>, and as their second argument, <SPAN  CLASS="textbf">path</SPAN>, a pointer to the file name.

<P>
<DL>
<DT><STRONG>DLL_SaveList</STRONG></DT>
<DD>&nbsp;&nbsp;&nbsp;&nbsp;
<BR>
This function saves all the <SPAN  CLASS="textit">Info</SPAN> structures including any <SPAN  CLASS="textit">NULL</SPAN> characters in the elements.  The record size is equal to, <SPAN  CLASS="textbf">infosize</SPAN>, the second argument of the <SPAN  CLASS="textit">DLL_InitializeList</SPAN> function.
<BR>
<BR>

<P>
The value <SPAN  CLASS="textbf">DLL_NULL_LIST</SPAN>, if returned, indicates that the list is empty; <SPAN  CLASS="textbf">DLL_OPEN_ERROR</SPAN> indicates that the file could not be opened for writing; <SPAN  CLASS="textbf">DLL_WRITE_ERROR</SPAN> indicates that there was an error while writing to the file meaning that the data in the list should not be trusted; <SPAN  CLASS="textbf">DLL_NOT_MODIFIED</SPAN> indicates that the list has not been modified since the last save and no updating to the file was done; and <SPAN  CLASS="textbf">DLL_NORMAL</SPAN> indicates that the function succeeded in its task.

<P>
</DD>
<DT><STRONG>DLL_LoadList</STRONG></DT>
<DD>&nbsp;&nbsp;&nbsp;&nbsp;
<BR>
This function retrieves from a file data based on the same criteria that it was saved with.  See <SPAN  CLASS="textit">DLL_SaveList</SPAN> above.  The third argument <SPAN  CLASS="textbf">pFun</SPAN> is a pointer to a sorting function the same as can be found in <SPAN  CLASS="textbf">DLL_AddRecord</SPAN>.  A <SPAN  CLASS="textit">NULL</SPAN> function pointer can be passes if no sorting is needed.  The <SPAN  CLASS="textbf">list-&gt;current_index</SPAN> will have an arbitrary value it depending on the sort algorithm used. Use one of the <SPAN  CLASS="textbf">DLL_CurrentPointerToHead</SPAN> or <SPAN  CLASS="textbf">DLL_CurrentPointerToTail</SPAN> functions to get the known location.
<BR>
<BR>

<P>
Where the return value is
<PRE>
   less than zero:     arg1 &lt; arg2,

   zero:               arg1 == arg2, or

   greater than zero:  arg1 &gt; arg2.
</PRE>

<P>
Below is an example of this function:

<P>
<PRE>
   int sort_foo(Info *record, Info *compare)
      {
      return(strcmp(rcrd-&gt;info_element,
                    cmp-&gt;info_element));
      }
</PRE>

<P>
</DD>
</DL>

<P>
</DD>
<DT><STRONG>EXAMPLE</STRONG></DT>
<DD>&nbsp;&nbsp;&nbsp;&nbsp;
<BR>
Examples of most of these functions can be seen in the source file <SPAN  CLASS="textit">dll_test.c</SPAN> used in the testing of the link list API.
</DD>
</DL>

<P>

<DIV CLASS="navigation"><HR>
<!--Navigation Panel-->
<A NAME="tex2html256"
  HREF="node19.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next.png"></A> 
<A NAME="tex2html252"
  HREF="node12.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up.png"></A> 
<A NAME="tex2html248"
  HREF="node17.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="prev.png"></A> 
<A NAME="tex2html254"
  HREF="node2.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents" SRC="contents.png"></A>  
<BR>
<B> Next:</B> <A NAME="tex2html257"
  HREF="node19.html">About this document ...</A>
<B> Up:</B> <A NAME="tex2html253"
  HREF="node12.html">Functions</A>
<B> Previous:</B> <A NAME="tex2html249"
  HREF="node17.html">Search</A>
 &nbsp; <B>  <A NAME="tex2html255"
  HREF="node2.html">Contents</A></B> </DIV>
<!--End of Navigation Panel-->
<ADDRESS>
Carl J. Nobile
2012-01-17
</ADDRESS>
</BODY>
</HTML>
