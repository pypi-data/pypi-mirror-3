# $Id: leprisme.ini e0c34b8eafc9 2012/09/01 10:36:44 patrick $

# -----------------------------------------------------------------------------
[Initialization]
directories = Container~/EPUB/Images Container~/EPUB/Audios Container~/EPUB/Videos
templates = Publidoc2XHtml Publidoc2EPub3

[template:Publidoc2XHtml]
path = Container~/EPUB
exclude = go_previous.png go_next.png go_up.png mootools.txt
exclude[!js] = Js pulse.gif

[template:Publidoc2EPub3]
path = Container~

# -----------------------------------------------------------------------------
[Input]
file_regex = \.xml$
content_regex = (<publidoc|<composition)
validate = true

[RelaxNG]
publiset = %(here)s/RelaxNG/publiset.rng
publidoc = %(here)s/RelaxNG/publidoc.rng

# -----------------------------------------------------------------------------
[Transformation]
xsl = %(here)s/Xsl/publidoc2epub3.xsl

# -----------------------------------------------------------------------------
[Output]
make_id = token
format = %(fid)s.epub
container = OCF

[container:OCF]
root = Container~
manifest = EPUB/package.opf://opf:manifest
checker = java -jar %(here)s/jars/epubcheck-3.0b4.jar %(ocffile)s
