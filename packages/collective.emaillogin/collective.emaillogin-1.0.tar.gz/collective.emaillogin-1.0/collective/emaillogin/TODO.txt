- Show e-mail address instead of login name in the login portlet.
  I tried something with IThemeSpecific but failed.

- Make email address case insensitive: you should always use lower
  case.  Preferably all combinations should work, though we should
  probably convert everything to lowercase anyway.  Lowercase should
  at least always work.  What should work:

 - Registered with mixed case:
   - password reset via email:
     - lower case: works
     - mixed case: works
     - upper case: works
   - login:
     - lower case: FAILS
       after getMemberByLoginName/authenticateCredentials change: STILL FAILS
       after migration: NOW WORKS
     - mixed case: works
       after migration: NOW FAILS
       after another authenticateCredentials change: NOW WORKS
     - upper case: FAILS
       after getMemberByLoginName/authenticateCredentials change: STILL FAILS
       after migration: NOW WORKS
  - change email in preferences and login with that new email:
     - lower case: works
     - mixed case: works
     - upper case: works
     - completely different address: works
  - Manager changes your email in preferences:
     - FAILS: login name is not changed as well.
       After setMemberProperties change: NOW WORKS

 - Registered with LOWER case:
   - password reset via email:
     - lower case: works
     - upper case: works
   - login:
     - lower case: works
     - upper case: FAILS
       after getMemberByLoginName/authenticateCredentials change: NOW WORKS
   - change email in preferences and try login with that new email:
     - lower case: works
     - upper case: works
     - completely different address: works
 - Manager changes your email in preferences:
     - FAILS: login name is not changed as well.
       After setMemberProperties change: NOW WORKS

- Migration of mixed case login names:
  <UserManager at /plone/acl_users/source_users>
  walk through _login_to_userid.items()
  and _userid_to_login here.
  Use updateUser(self, user_id, login_name) there.
  But should probably update the e-mail address too then.
  DONE.


Trying again

Registered with mixed case, UPPER@example.org:

- initial password reset:
   - automatically lowercased to upper@example.com, works

- login:
   - lower case: works
   - mixed case: works
   - upper case: works

- change email in preferences and login with that new email:
  - completely different address: works

CHANGED to new@example.org

- login:
   - lower case new: works
   - mixed case new: works
   - lower case old: fails, but that is fine
   - mixed case old: fails, but that is fine

- password reset via email:
   - lower case new: works
   - mixed case new: works
   - lower case old: fails, but that is fine
   - mixed case old: fails, but that is fine

- Manager changes your email in preferences:
  works
