<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      lang="en"
      metal:use-macro="context/prefs_main_template/macros/master"
      i18n:domain="">
<!--<metal:block metal:fill-slot="top_slot"-->
             <!--tal:define="dummy python:request.set('disable_border', 1)" />-->
<body>
<div metal:fill-slot="prefs_configlet_content">

    <h1 class="documentFirstHeading">
        Replace word contnts
    </h1>
    <div>
        <h2>Replace</h2>
        <form name="edit_form" method="post" enctype="multipart/form-data"
              action=""
              tal:attributes="action string:${context/absolute_url}/@@replace-word-controlpanel">

            content-type :
            <input type="text" name="content-type" value="" tal:attributes="value python:request.get('content-type')" /><br/>
            content-field :
            <input type="text" name="content-field" value="" tal:attributes="value python:request.get('content-field')" /><br/>
            original-word :
            <input type="text" name="original-word" value="" tal:attributes="value python:request.get('original-word')" />Regex<br/>
            replace-word :
            <input type="text" name="replace-word" value="" tal:attributes="value python:request.get('replace-word')" /><br/>
            dry-run :
            <input type="checkbox" name="dry-run" checked="checked" /><br/>
            replace-confirm :
            <input type="checkbox" name="replace-confirm"  /><br/>

            <input type="hidden" name="form.submited" value="1" />
            <input type="submit" value="Run" />
        </form>
    </div>
    <div tal:condition="python:request.get('form.submited') == '1'">
        <h2>Result</h2>
        <div tal:repeat="result view/get_replaced_content">
            <span tal:content="result/result" /> :
            <a href="" tal:content="result/title" tal:attributes="href result/url">Title</a> :
            <span tal:content="result/body" />
        </div>

    </div>
</div>

</body>

</html>