#Pipe pipe_e511ad3674c997224340524095f0806d generated by pipe2py

from pipe2py import Context
from pipe2py.modules import *


def pipe_e511ad3674c997224340524095f0806d(context, _INPUT, conf=None, **kwargs):
    "Pipeline"
    if conf is None:
        conf = {}

    if context.describe_input:
        return []

    forever = pipeforever.pipe_forever(context, None, conf=None)

    sw_125 = pipeurlbuilder.pipe_urlbuilder(context, forever, conf={u'PATH': {u'type': u'text', u'value': u'ws/sparqlproxy.php'}, u'BASE': {u'type': u'text', u'value': u'http://logd.tw.rpi.edu'}, u'PARAM': [{u'value': {u'type': u'text', u'value': u'http://logd.tw.rpi.edu/demo/feed/twc-logd-in-the-news.rss.sparql'}, u'key': {u'type': u'text', u'value': u'query-uri'}}, {u'value': {u'type': u'text', u'value': u'http://data-gov.tw.rpi.edu/ws/lodc.php'}, u'key': {u'type': u'text', u'value': u'service-uri'}}, {u'value': {u'type': u'text', u'value': u'sparql'}, u'key': {u'type': u'text', u'value': u'output'}}]})
    sw_236 = pipefetchdata.pipe_fetchdata(context, forever, conf={u'URL': {u'terminal': u'URL', u'type': u'url'}, u'path': {u'type': u'text', u'value': u'results.bindings'}}, URL = sw_125)
    sw_155 = pipecreaterss.pipe_createrss(context, sw_236, conf={u'mediaContentHeight': {u'type': u'text', u'value': ''}, u'mediaThumbURL': {u'type': u'text', u'value': ''}, u'mediaContentType': {u'type': u'text', u'value': ''}, u'description': {u'type': u'text', u'value': u'description.value'}, u'pubdate': {u'type': u'text', u'value': u'pubDate.value'}, u'author': {u'type': u'text', u'value': ''}, u'title': {u'type': u'text', u'value': u'title.value'}, u'mediaThumbHeight': {u'type': u'text', u'value': ''}, u'link': {u'type': u'text', u'value': u'link.value'}, u'mediaContentWidth': {u'type': u'text', u'value': ''}, u'mediaContentURL': {u'type': u'text', u'value': u'image.value'}, u'guid': {u'type': u'text', u'value': ''}, u'mediaThumbWidth': {u'type': u'text', u'value': ''}})
    def pipe_sw_177(context, _INPUT, conf=None, **kwargs):
        "Submodule"
        sw_177 = pipedateformat.pipe_dateformat(context, _INPUT, conf={u'format': {u'type': u'text', u'value': u'%a, %d %b %Y %H:%M:%S %z'}})
        return sw_177
    def pipe_sw_149(context, _INPUT, conf=None, **kwargs):
        "Submodule"
        sw_149 = pipedatebuilder.pipe_datebuilder(context, _INPUT, conf={u'DATE': {u'type': u'datetime', u'subkey': u'pubDate'}})
        return sw_149
    sw_141 = pipeloop.pipe_loop(context, sw_155, conf={u'assign_part': {u'type': u'text', u'value': u'all'}, u'with': {u'type': u'text', u'value': ''}, u'emit_part': {u'type': u'text', u'value': u'all'}, u'mode': {u'type': u'text', u'value': u'assign'}, u'embed': {u'type': u'module', u'value': {u'type': u'datebuilder', u'id': u'sw-149', u'conf': {u'DATE': {u'type': u'datetime', u'subkey': u'pubDate'}}}}, u'assign_to': {u'type': u'text', u'value': u'pubDate'}}, embed = pipe_sw_149)
    sw_158 = pipesort.pipe_sort(context, sw_141, conf={u'KEY': {u'field': {u'type': u'text', u'value': u'pubDate.utime'}, u'dir': {u'type': u'text', u'value': u'DESC'}}})
    sw_169 = pipeloop.pipe_loop(context, sw_158, conf={u'assign_part': {u'type': u'text', u'value': u'all'}, u'with': {u'type': u'text', u'value': u'pubDate'}, u'emit_part': {u'type': u'text', u'value': u'all'}, u'mode': {u'type': u'text', u'value': u'assign'}, u'embed': {u'type': u'module', u'value': {u'type': u'dateformat', u'id': u'sw-177', u'conf': {u'format': {u'type': u'text', u'value': u'%a, %d %b %Y %H:%M:%S %z'}}}}, u'assign_to': {u'type': u'text', u'value': u'pubDate'}}, embed = pipe_sw_177)
    _OUTPUT = pipeoutput.pipe_output(context, sw_169, conf=None)
    return _OUTPUT

if __name__ == "__main__":
    context = Context()
    p = pipe_e511ad3674c997224340524095f0806d(context, None)
    for i in p:
        print i

