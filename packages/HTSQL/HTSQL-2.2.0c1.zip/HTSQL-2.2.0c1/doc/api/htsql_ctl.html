

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>The htsql_ctl package &mdash; HTSQL v2.2.0c1 documentation</title>
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/htsqldoc.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '2.2.0c1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/htsqldoc.js"></script>
    <link rel="top" title="HTSQL v2.2.0c1 documentation" href="../index.html" />
    <link rel="up" title="HTSQL API" href="../api.html" />
    <link rel="prev" title="The htsql.tr.fn package" href="htsql.tr.fn.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="htsql.tr.fn.html" title="The htsql.tr.fn package"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">HTSQL v2.2.0c1 documentation</a> &raquo;</li>
          <li><a href="../api.html" accesskey="U">HTSQL API</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="module-htsql_ctl">
<span id="the-htsql-ctl-package"></span><h1>The <a class="reference internal" href="#module-htsql_ctl" title="htsql_ctl"><tt class="xref py py-mod docutils literal"><span class="pre">htsql_ctl</span></tt></a> package<a class="headerlink" href="#module-htsql_ctl" title="Permalink to this headline">¶</a></h1>
<div class="section" id="htsql-ctl">
<h2><a class="reference internal" href="#module-htsql_ctl" title="htsql_ctl"><tt class="xref py py-mod docutils literal"><span class="pre">htsql_ctl</span></tt></a><a class="headerlink" href="#htsql-ctl" title="Permalink to this headline">¶</a></h2>
<p>This package implements the <tt class="docutils literal"><span class="pre">htsql-ctl</span></tt> script.</p>
<dl class="class">
<dt id="htsql_ctl.HTSQL_CTL">
<em class="property">class </em><tt class="descclassname">htsql_ctl.</tt><tt class="descname">HTSQL_CTL</tt><big>(</big><em>stdin</em>, <em>stdout</em>, <em>stderr</em><big>)</big><a class="headerlink" href="#htsql_ctl.HTSQL_CTL" title="Permalink to this definition">¶</a></dt>
<dd><p>Implements the <tt class="docutils literal"><span class="pre">htsql-ctl</span></tt> script.</p>
<p>Usage:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">ctl</span> <span class="o">=</span> <span class="n">HTSQL_CTL</span><span class="p">(</span><span class="n">stdin</span><span class="p">,</span> <span class="n">stdout</span><span class="p">,</span> <span class="n">stderr</span><span class="p">)</span>
<span class="n">exit_code</span> <span class="o">=</span> <span class="n">ctl</span><span class="o">.</span><span class="n">main</span><span class="p">(</span><span class="n">argv</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</div>
<span class="target" id="module-htsql_ctl.default"></span><div class="section" id="htsql-ctl-default">
<h2><a class="reference internal" href="#module-htsql_ctl.default" title="htsql_ctl.default"><tt class="xref py py-mod docutils literal"><span class="pre">htsql_ctl.default</span></tt></a><a class="headerlink" href="#htsql-ctl-default" title="Permalink to this headline">¶</a></h2>
<p>This module implements the default routine.</p>
<dl class="class">
<dt id="htsql_ctl.default.DefaultRoutine">
<em class="property">class </em><tt class="descclassname">htsql_ctl.default.</tt><tt class="descname">DefaultRoutine</tt><big>(</big><em>ctl</em>, <em>attributes</em><big>)</big><a class="headerlink" href="#htsql_ctl.default.DefaultRoutine" title="Permalink to this definition">¶</a></dt>
<dd><p>Implements the default routine.</p>
<p>The default routine is executed when no explicit routine name is given.</p>
</dd></dl>

</div>
<span class="target" id="module-htsql_ctl.error"></span><div class="section" id="htsql-ctl-error">
<h2><a class="reference internal" href="#module-htsql_ctl.error" title="htsql_ctl.error"><tt class="xref py py-mod docutils literal"><span class="pre">htsql_ctl.error</span></tt></a><a class="headerlink" href="#htsql-ctl-error" title="Permalink to this headline">¶</a></h2>
<p>This module implements exceptions raised by command-line scripts.</p>
<dl class="exception">
<dt id="htsql_ctl.error.ScriptError">
<em class="property">exception </em><tt class="descclassname">htsql_ctl.error.</tt><tt class="descname">ScriptError</tt><big>(</big><em>detail</em><big>)</big><a class="headerlink" href="#htsql_ctl.error.ScriptError" title="Permalink to this definition">¶</a></dt>
<dd><p>A fatal application error.</p>
<dl class="docutils">
<dt><tt class="xref py py-obj docutils literal"><span class="pre">detail</span></tt></dt>
<dd>The error message.</dd>
</dl>
</dd></dl>

</div>
<span class="target" id="module-htsql_ctl.extension"></span><div class="section" id="htsql-ctl-extension">
<h2><a class="reference internal" href="#module-htsql_ctl.extension" title="htsql_ctl.extension"><tt class="xref py py-mod docutils literal"><span class="pre">htsql_ctl.extension</span></tt></a><a class="headerlink" href="#htsql-ctl-extension" title="Permalink to this headline">¶</a></h2>
<p>This module implements the <tt class="xref py py-obj docutils literal"><span class="pre">extension</span></tt> routine.</p>
</div>
<span class="target" id="module-htsql_ctl.help"></span><div class="section" id="htsql-ctl-help">
<h2><a class="reference internal" href="#module-htsql_ctl.help" title="htsql_ctl.help"><tt class="xref py py-mod docutils literal"><span class="pre">htsql_ctl.help</span></tt></a><a class="headerlink" href="#htsql-ctl-help" title="Permalink to this headline">¶</a></h2>
<p>This module implements the <tt class="xref py py-obj docutils literal"><span class="pre">help</span></tt> routine.</p>
<dl class="class">
<dt id="htsql_ctl.help.HelpRoutine">
<em class="property">class </em><tt class="descclassname">htsql_ctl.help.</tt><tt class="descname">HelpRoutine</tt><big>(</big><em>ctl</em>, <em>attributes</em><big>)</big><a class="headerlink" href="#htsql_ctl.help.HelpRoutine" title="Permalink to this definition">¶</a></dt>
<dd><p>Implements the <tt class="xref py py-obj docutils literal"><span class="pre">help</span></tt> routine.</p>
<p>When called without any parameters, it describes the application.
When called with a routine name, it describes the routine.</p>
</dd></dl>

</div>
<span class="target" id="module-htsql_ctl.option"></span><div class="section" id="htsql-ctl-option">
<h2><a class="reference internal" href="#module-htsql_ctl.option" title="htsql_ctl.option"><tt class="xref py py-mod docutils literal"><span class="pre">htsql_ctl.option</span></tt></a><a class="headerlink" href="#htsql-ctl-option" title="Permalink to this headline">¶</a></h2>
<p>This module defines script options.</p>
<dl class="class">
<dt id="htsql_ctl.option.Option">
<em class="property">class </em><tt class="descclassname">htsql_ctl.option.</tt><tt class="descname">Option</tt><big>(</big><em>attribute</em>, <em>short_name=None</em>, <em>long_name=None</em>, <em>with_value=False</em>, <em>value_name=None</em>, <em>validator=None</em>, <em>default=None</em>, <em>is_list=False</em>, <em>hint=None</em><big>)</big><a class="headerlink" href="#htsql_ctl.option.Option" title="Permalink to this definition">¶</a></dt>
<dd><p>Describes a script option.</p>
<dl class="docutils">
<dt><tt class="xref py py-obj docutils literal"><span class="pre">attribute</span></tt> (a string)</dt>
<dd>The name of the routine attribute.  When the routine is
initialized, the value of the option is assigned to the
attribute.</dd>
<dt><tt class="xref py py-obj docutils literal"><span class="pre">short_name</span></tt> (a string or <tt class="xref docutils literal"><span class="pre">None</span></tt>)</dt>
<dd>The abbrebiated form of the option (a dash + a character).</dd>
<dt><tt class="xref py py-obj docutils literal"><span class="pre">long_name</span></tt> (a string or <tt class="xref docutils literal"><span class="pre">None</span></tt>)</dt>
<dd>The full form of the option (two dashes + the option name).</dd>
<dt><tt class="xref py py-obj docutils literal"><span class="pre">with_value</span></tt> (Boolean)</dt>
<dd>If set, the option requires a parameter.</dd>
<dt><tt class="xref py py-obj docutils literal"><span class="pre">value_name</span></tt> (a string or <tt class="xref docutils literal"><span class="pre">None</span></tt>)</dt>
<dd>The name of the option parameter.</dd>
<dt><tt class="xref py py-obj docutils literal"><span class="pre">validator</span></tt> (<a class="reference internal" href="htsql.html#htsql.validator.Validator" title="htsql.validator.Validator"><tt class="xref py py-class docutils literal"><span class="pre">htsql.validator.Validator</span></tt></a> or <tt class="xref docutils literal"><span class="pre">None</span></tt>)</dt>
<dd>The validator for the option parameter.</dd>
<dt><tt class="xref py py-obj docutils literal"><span class="pre">default</span></tt></dt>
<dd>The default value of the parameter; <tt class="xref docutils literal"><span class="pre">None</span></tt> if not set.</dd>
<dt><tt class="xref py py-obj docutils literal"><span class="pre">is_list</span></tt> (Boolean)</dt>
<dd>If set, the option could be specified more than one time.
The combined values are stored as a list; the default
value for a list option is <tt class="docutils literal"><span class="pre">[]</span></tt>.</dd>
<dt><tt class="xref py py-obj docutils literal"><span class="pre">hint</span></tt> (a string or <tt class="xref docutils literal"><span class="pre">None</span></tt>)</dt>
<dd>A one-line description of the option.</dd>
</dl>
<p>When an option does not require a parameter, the value of the
option is either <tt class="xref docutils literal"><span class="pre">False</span></tt> or <tt class="xref docutils literal"><span class="pre">True</span></tt>.  If the option is
provided in the command line, the value is <tt class="xref docutils literal"><span class="pre">True</span></tt>; otherwise,
the value is <tt class="xref docutils literal"><span class="pre">False</span></tt>.</p>
<p>When an option requires a parameter, the value of the option
is determined by the parameter and the attributes <tt class="xref py py-obj docutils literal"><span class="pre">validator</span></tt>
and <tt class="xref py py-obj docutils literal"><span class="pre">default</span></tt>.  If the option is not provided, its value is
equal to <tt class="xref py py-obj docutils literal"><span class="pre">default</span></tt>.  If the option is provided, its value is
the value of the option parameter normalized by application
of <tt class="xref py py-obj docutils literal"><span class="pre">validator</span></tt>.</p>
<dl class="method">
<dt id="htsql_ctl.option.Option.get_hint">
<tt class="descname">get_hint</tt><big>(</big><big>)</big><a class="headerlink" href="#htsql_ctl.option.Option.get_hint" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a short one-line description of the option.</p>
</dd></dl>

<dl class="method">
<dt id="htsql_ctl.option.Option.get_signature">
<tt class="descname">get_signature</tt><big>(</big><big>)</big><a class="headerlink" href="#htsql_ctl.option.Option.get_signature" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the signature of the option parameters.</p>
</dd></dl>

</dd></dl>

</div>
<span class="target" id="module-htsql_ctl.regress"></span><div class="section" id="htsql-ctl-regress">
<h2><a class="reference internal" href="#module-htsql_ctl.regress" title="htsql_ctl.regress"><tt class="xref py py-mod docutils literal"><span class="pre">htsql_ctl.regress</span></tt></a><a class="headerlink" href="#htsql-ctl-regress" title="Permalink to this headline">¶</a></h2>
<p>This module implements the <tt class="xref py py-obj docutils literal"><span class="pre">regress</span></tt> routine.</p>
<dl class="class">
<dt id="htsql_ctl.regress.TermStringIO">
<em class="property">class </em><tt class="descclassname">htsql_ctl.regress.</tt><tt class="descname">TermStringIO</tt><big>(</big><em>buf</em>, <em>output</em><big>)</big><a class="headerlink" href="#htsql_ctl.regress.TermStringIO" title="Permalink to this definition">¶</a></dt>
<dd><p>A readable file-like object with an &#8220;echo&#8221;.  Whenever some content is read
from it, the same content is echoed to the specified <tt class="xref py py-obj docutils literal"><span class="pre">output</span></tt> stream.</p>
<p>Use <a class="reference internal" href="#htsql_ctl.regress.TermStringIO" title="htsql_ctl.regress.TermStringIO"><tt class="xref py py-class docutils literal"><span class="pre">TermStringIO</span></tt></a> to preserve the content of interactive
sessions with pre-recorded input.  Assign:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">sys</span><span class="o">.</span><span class="n">stdout</span> <span class="o">=</span> <span class="n">StringIO</span><span class="o">.</span><span class="n">StringIO</span><span class="p">()</span>
<span class="n">sys</span><span class="o">.</span><span class="n">stdin</span> <span class="o">=</span> <span class="n">TermStringIO</span><span class="p">(</span><span class="nb">input</span><span class="p">,</span> <span class="n">sys</span><span class="o">.</span><span class="n">stdout</span><span class="p">)</span>
</pre></div>
</div>
<p>where <tt class="xref py py-obj docutils literal"><span class="pre">input</span></tt> contains the pre-recorded input data.  After the
session is done, the content of <tt class="xref py py-obj docutils literal"><span class="pre">sys.stdout</span></tt> will be the same as
if the session was performed on a real terminal with echo enabled.</p>
<dl class="docutils">
<dt><tt class="xref py py-obj docutils literal"><span class="pre">buf</span></tt> (a string)</dt>
<dd>The content of the stream.</dd>
<dt><tt class="xref py py-obj docutils literal"><span class="pre">output</span></tt> (a writable file-like object)</dt>
<dd>A stream that records data being read.</dd>
</dl>
</dd></dl>

<dl class="class">
<dt id="htsql_ctl.regress.Field">
<em class="property">class </em><tt class="descclassname">htsql_ctl.regress.</tt><tt class="descname">Field</tt><big>(</big><em>attribute</em>, <em>val</em>, <em>default=&lt;object object at 0x8b33b80&gt;</em>, <em>hint=None</em><big>)</big><a class="headerlink" href="#htsql_ctl.regress.Field" title="Permalink to this definition">¶</a></dt>
<dd><p>Describes a parameter of test data.</p>
<dl class="docutils">
<dt><tt class="xref py py-obj docutils literal"><span class="pre">attribute</span></tt> (a string)</dt>
<dd>The name of the attribute that contains the field value.</dd>
<dt><tt class="xref py py-obj docutils literal"><span class="pre">val</span></tt> (<a class="reference internal" href="htsql.html#htsql.validator.Validator" title="htsql.validator.Validator"><tt class="xref py py-class docutils literal"><span class="pre">htsql.validator.Validator</span></tt></a>)</dt>
<dd>The validator for the field values.</dd>
<dt><tt class="xref py py-obj docutils literal"><span class="pre">default</span></tt></dt>
<dd>The default value of the field.  If not provided, the field
cannot be omitted.  The <tt class="xref py py-obj docutils literal"><span class="pre">is_mandatory</span></tt> attribute indicates if
the <tt class="xref py py-obj docutils literal"><span class="pre">default</span></tt> value is provided.</dd>
<dt><tt class="xref py py-obj docutils literal"><span class="pre">hint</span></tt> (a string or <tt class="xref docutils literal"><span class="pre">None</span></tt>)</dt>
<dd>A short one-line description of the field.</dd>
</dl>
<dl class="method">
<dt id="htsql_ctl.regress.Field.get_hint">
<tt class="descname">get_hint</tt><big>(</big><big>)</big><a class="headerlink" href="#htsql_ctl.regress.Field.get_hint" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns short one-line description of the field.</p>
</dd></dl>

<dl class="method">
<dt id="htsql_ctl.regress.Field.get_signature">
<tt class="descname">get_signature</tt><big>(</big><big>)</big><a class="headerlink" href="#htsql_ctl.regress.Field.get_signature" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the field name.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="htsql_ctl.regress.AnyField">
<em class="property">class </em><tt class="descclassname">htsql_ctl.regress.</tt><tt class="descname">AnyField</tt><a class="headerlink" href="#htsql_ctl.regress.AnyField" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicates that test data may contain extra fields.</p>
<p>Add <tt class="docutils literal"><span class="pre">AnyField()</span></tt> to the <tt class="xref py py-obj docutils literal"><span class="pre">fields</span></tt> list to indicate that YAML
representation of test data may contain some attributes not
described by other fields.  These extra attributes will be
silently ignored.</p>
</dd></dl>

<dl class="class">
<dt id="htsql_ctl.regress.TestData">
<em class="property">class </em><tt class="descclassname">htsql_ctl.regress.</tt><tt class="descname">TestData</tt><big>(</big><em>routine</em>, <em>case_class</em>, <em>attributes</em>, <em>location=None</em><big>)</big><a class="headerlink" href="#htsql_ctl.regress.TestData" title="Permalink to this definition">¶</a></dt>
<dd><p>Represents input or output data of a test case.</p>
<p>This is an abstract class.  Create a subclass of <a class="reference internal" href="#htsql_ctl.regress.TestData" title="htsql_ctl.regress.TestData"><tt class="xref py py-class docutils literal"><span class="pre">TestData</span></tt></a>
to describe input or output data for a specific test kind.  You need
to specify the format of test data using the <tt class="xref py py-obj docutils literal"><span class="pre">fields</span></tt> class attribute.</p>
<p>The <tt class="xref py py-obj docutils literal"><span class="pre">fields</span></tt> attribute is a list of <a class="reference internal" href="#htsql_ctl.regress.Field" title="htsql_ctl.regress.Field"><tt class="xref py py-class docutils literal"><span class="pre">Field</span></tt></a> instances.  Each
field describes an attribute of test data.</p>
<p>Instances if <a class="reference internal" href="#htsql_ctl.regress.TestData" title="htsql_ctl.regress.TestData"><tt class="xref py py-class docutils literal"><span class="pre">TestData</span></tt></a> are YAML-serializable.  A instance of
a <a class="reference internal" href="#htsql_ctl.regress.TestData" title="htsql_ctl.regress.TestData"><tt class="xref py py-class docutils literal"><span class="pre">TestData</span></tt></a> subclass is represented as a mapping YAML node.
The sets of keys and the format of the values come from the <tt class="xref py py-obj docutils literal"><span class="pre">fields</span></tt>
list.  Add an <a class="reference internal" href="#htsql_ctl.regress.AnyField" title="htsql_ctl.regress.AnyField"><tt class="xref py py-class docutils literal"><span class="pre">AnyField</span></tt></a> instance to <tt class="xref py py-obj docutils literal"><span class="pre">fields</span></tt> to indicate
that the mapping node may contain some extra fields (which are to
be ignored).</p>
<p>The constructor of <a class="reference internal" href="#htsql_ctl.regress.TestData" title="htsql_ctl.regress.TestData"><tt class="xref py py-class docutils literal"><span class="pre">TestData</span></tt></a> accepts the following arguments:</p>
<dl class="docutils">
<dt><tt class="xref py py-obj docutils literal"><span class="pre">routine</span></tt> (<a class="reference internal" href="#htsql_ctl.regress.RegressRoutine" title="htsql_ctl.regress.RegressRoutine"><tt class="xref py py-class docutils literal"><span class="pre">RegressRoutine</span></tt></a>)</dt>
<dd>The routine that started the testing.</dd>
<dt><tt class="xref py py-obj docutils literal"><span class="pre">case_class</span></tt> (a subclass of <a class="reference internal" href="#htsql_ctl.regress.TestCase" title="htsql_ctl.regress.TestCase"><tt class="xref py py-class docutils literal"><span class="pre">TestCase</span></tt></a>)</dt>
<dd>A test type.  The object being constructed is an instance
of either <tt class="xref py py-obj docutils literal"><span class="pre">case_class.Input</span></tt> or <tt class="xref py py-obj docutils literal"><span class="pre">case_class.Output</span></tt>.</dd>
<dt><tt class="xref py py-obj docutils literal"><span class="pre">attributes</span></tt> (a dictionary)</dt>
<dd>A dictionary of attributes and their values.  The set of
attributes is declared using the <tt class="xref py py-obj docutils literal"><span class="pre">fields</span></tt> class variable.</dd>
<dt><tt class="xref py py-obj docutils literal"><span class="pre">location</span></tt> (a string or <tt class="xref docutils literal"><span class="pre">None</span></tt>)</dt>
<dd>When the test data is loaded from a YAML file, <tt class="xref py py-obj docutils literal"><span class="pre">location</span></tt>
indicates the location of the corresponding YAML node.</dd>
</dl>
<dl class="method">
<dt id="htsql_ctl.regress.TestData.init_attributes">
<tt class="descname">init_attributes</tt><big>(</big><big>)</big><a class="headerlink" href="#htsql_ctl.regress.TestData.init_attributes" title="Permalink to this definition">¶</a></dt>
<dd><p>Normalize field values.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="htsql_ctl.regress.TestCase">
<em class="property">class </em><tt class="descclassname">htsql_ctl.regress.</tt><tt class="descname">TestCase</tt><big>(</big><em>routine</em>, <em>state</em>, <em>input</em>, <em>output</em><big>)</big><a class="headerlink" href="#htsql_ctl.regress.TestCase" title="Permalink to this definition">¶</a></dt>
<dd><p>Describes a test type.</p>
<p>This an abstract class.  Create a subclass of <a class="reference internal" href="#htsql_ctl.regress.TestCase" title="htsql_ctl.regress.TestCase"><tt class="xref py py-class docutils literal"><span class="pre">TestCase</span></tt></a>
to describe a new type of test case.  When subclassing, define
the following class attributes:</p>
<dl class="docutils">
<dt><tt class="xref py py-obj docutils literal"><span class="pre">name</span></tt> (a string)</dt>
<dd>The name of the test.</dd>
<dt><tt class="xref py py-obj docutils literal"><span class="pre">hint</span></tt> (a string)</dt>
<dd>Short one-line description of the test.</dd>
<dt><tt class="xref py py-obj docutils literal"><span class="pre">help</span></tt> (a string)</dt>
<dd>Long description of the test.</dd>
<dt><tt class="xref py py-obj docutils literal"><span class="pre">Input</span></tt> (a subclass of <a class="reference internal" href="#htsql_ctl.regress.TestData" title="htsql_ctl.regress.TestData"><tt class="xref py py-class docutils literal"><span class="pre">TestData</span></tt></a>)</dt>
<dd>The format of the test input.</dd>
<dt><tt class="xref py py-obj docutils literal"><span class="pre">Output</span></tt> (a subclass of <a class="reference internal" href="#htsql_ctl.regress.TestData" title="htsql_ctl.regress.TestData"><tt class="xref py py-class docutils literal"><span class="pre">TestData</span></tt></a> or <tt class="xref docutils literal"><span class="pre">None</span></tt>)</dt>
<dd>The format of the test output.</dd>
</dl>
<p>You also need to override methods <a class="reference internal" href="#htsql_ctl.regress.TestCase.verify" title="htsql_ctl.regress.TestCase.verify"><tt class="xref py py-meth docutils literal"><span class="pre">verify()</span></tt></a> and <a class="reference internal" href="#htsql_ctl.regress.TestCase.train" title="htsql_ctl.regress.TestCase.train"><tt class="xref py py-meth docutils literal"><span class="pre">train()</span></tt></a>
to specify how to execute the test case in a normal and in a train mode.</p>
<p>The constructor of <a class="reference internal" href="#htsql_ctl.regress.TestCase" title="htsql_ctl.regress.TestCase"><tt class="xref py py-class docutils literal"><span class="pre">TestCase</span></tt></a> takes the following arguments:</p>
<dl class="docutils">
<dt><tt class="xref py py-obj docutils literal"><span class="pre">routine</span></tt> (<a class="reference internal" href="#htsql_ctl.regress.RegressRoutine" title="htsql_ctl.regress.RegressRoutine"><tt class="xref py py-class docutils literal"><span class="pre">RegressRoutine</span></tt></a>)</dt>
<dd>The routine that started the testing.</dd>
<dt><tt class="xref py py-obj docutils literal"><span class="pre">state</span></tt></dt>
<dd>An object keeping the mutable testing state.</dd>
<dt><tt class="xref py py-obj docutils literal"><span class="pre">input</span></tt> (an instance of <tt class="xref py py-obj docutils literal"><span class="pre">Input</span></tt>)</dt>
<dd>Input test data.</dd>
<dt><tt class="xref py py-obj docutils literal"><span class="pre">output</span></tt> (an instance of <tt class="xref py py-obj docutils literal"><span class="pre">Output</span></tt> or <tt class="xref docutils literal"><span class="pre">None</span></tt>)</dt>
<dd>Expected output test data.</dd>
</dl>
<dl class="classmethod">
<dt id="htsql_ctl.regress.TestCase.get_hint">
<em class="property">classmethod </em><tt class="descname">get_hint</tt><big>(</big><big>)</big><a class="headerlink" href="#htsql_ctl.regress.TestCase.get_hint" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns short one-line description of the test case.</p>
</dd></dl>

<dl class="classmethod">
<dt id="htsql_ctl.regress.TestCase.get_help">
<em class="property">classmethod </em><tt class="descname">get_help</tt><big>(</big><big>)</big><a class="headerlink" href="#htsql_ctl.regress.TestCase.get_help" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns long description of the test case.</p>
</dd></dl>

<dl class="classmethod">
<dt id="htsql_ctl.regress.TestCase.matches">
<em class="property">classmethod </em><tt class="descname">matches</tt><big>(</big><em>input</em>, <em>output</em><big>)</big><a class="headerlink" href="#htsql_ctl.regress.TestCase.matches" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks if the given input and output records belong to the same
test case.</p>
<p>Note that we assume that both test input and test output have
a field with the same attribute name.  This attribute is called
the key attribute.  Input data matches output data when the
values of their key attribute are equal.</p>
</dd></dl>

<dl class="method">
<dt id="htsql_ctl.regress.TestCase.get_suites">
<tt class="descname">get_suites</tt><big>(</big><big>)</big><a class="headerlink" href="#htsql_ctl.regress.TestCase.get_suites" title="Permalink to this definition">¶</a></dt>
<dd><p>For container test cases, returns a set of test suites that belong
to the test case; otherwise returns an empty set.</p>
</dd></dl>

<dl class="method">
<dt id="htsql_ctl.regress.TestCase.out">
<tt class="descname">out</tt><big>(</big><em>*values</em>, <em>**options</em><big>)</big><a class="headerlink" href="#htsql_ctl.regress.TestCase.out" title="Permalink to this definition">¶</a></dt>
<dd><p>Print values to the standard output stream.</p>
<p><a class="reference internal" href="#htsql_ctl.regress.TestCase.out" title="htsql_ctl.regress.TestCase.out"><tt class="xref py py-meth docutils literal"><span class="pre">out()</span></tt></a> supports the same options as
<tt class="xref py py-meth docutils literal"><span class="pre">htsql.ctl.script.Script.out()</span></tt> and an extra option:</p>
<dl class="docutils">
<dt><tt class="xref py py-obj docutils literal"><span class="pre">indent</span></tt></dt>
<dd>A number of spaces to print before the first value,
default is <tt class="docutils literal"><span class="pre">0</span></tt>.</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="htsql_ctl.regress.TestCase.ask">
<tt class="descname">ask</tt><big>(</big><em>message</em>, <em>choices</em><big>)</big><a class="headerlink" href="#htsql_ctl.regress.TestCase.ask" title="Permalink to this definition">¶</a></dt>
<dd><p>Asks the user a question; returns the reply.</p>
<dl class="docutils">
<dt><tt class="xref py py-obj docutils literal"><span class="pre">message</span></tt> (a string)</dt>
<dd>The question.</dd>
<dt><tt class="xref py py-obj docutils literal"><span class="pre">choices</span></tt> (a list of strings)</dt>
<dd>The list of valid replies.</dd>
</dl>
<p>Typically the question has the form:</p>
<div class="highlight-python"><pre>Press ENTER to perform &lt;the default action&gt;,
      'x'+ENTER to perform &lt;another action&gt;,
      'y'+ENTER to perform &lt;another action&gt;,
      'z'+ENTER to perform &lt;another action&gt;.</pre>
</div>
<p>In this case, <tt class="xref py py-obj docutils literal"><span class="pre">choices</span></tt> should be equal to:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">[</span><span class="s">&#39;&#39;</span><span class="p">,</span> <span class="s">&#39;x&#39;</span><span class="p">,</span> <span class="s">&#39;y&#39;</span><span class="p">,</span> <span class="s">&#39;z&#39;</span><span class="p">]</span>
</pre></div>
</div>
<p>The reply is stripped of leading and trailing whitespaces
and translated to the lower case.</p>
</dd></dl>

<dl class="method">
<dt id="htsql_ctl.regress.TestCase.ask_halt">
<tt class="descname">ask_halt</tt><big>(</big><big>)</big><a class="headerlink" href="#htsql_ctl.regress.TestCase.ask_halt" title="Permalink to this definition">¶</a></dt>
<dd><p>Ask if the user wants to halt the tests.</p>
<p>Returns <tt class="xref py py-obj docutils literal"><span class="pre">DO_HALT</span></tt> or <tt class="xref py py-obj docutils literal"><span class="pre">DO_CONTINUE</span></tt>.</p>
</dd></dl>

<dl class="method">
<dt id="htsql_ctl.regress.TestCase.ask_record">
<tt class="descname">ask_record</tt><big>(</big><big>)</big><a class="headerlink" href="#htsql_ctl.regress.TestCase.ask_record" title="Permalink to this definition">¶</a></dt>
<dd><p>Ask if the user wants to remember the new output of a test case.</p>
<p>Returns <tt class="xref py py-obj docutils literal"><span class="pre">DO_RECORD</span></tt>, <tt class="xref py py-obj docutils literal"><span class="pre">DO_SKIP</span></tt>, or <tt class="xref py py-obj docutils literal"><span class="pre">DO_HALT</span></tt>.</p>
</dd></dl>

<dl class="method">
<dt id="htsql_ctl.regress.TestCase.ask_save">
<tt class="descname">ask_save</tt><big>(</big><big>)</big><a class="headerlink" href="#htsql_ctl.regress.TestCase.ask_save" title="Permalink to this definition">¶</a></dt>
<dd><p>Ask if the user wants to save the updated output data.</p>
<p>Returns <tt class="xref py py-obj docutils literal"><span class="pre">DO_SAVE</span></tt> or <tt class="xref py py-obj docutils literal"><span class="pre">DO_DISCARD</span></tt>.</p>
</dd></dl>

<dl class="method">
<dt id="htsql_ctl.regress.TestCase.out_exception">
<tt class="descname">out_exception</tt><big>(</big><em>exc_info</em><big>)</big><a class="headerlink" href="#htsql_ctl.regress.TestCase.out_exception" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints an exception traceback.</p>
</dd></dl>

<dl class="method">
<dt id="htsql_ctl.regress.TestCase.out_sep">
<tt class="descname">out_sep</tt><big>(</big><em>sep='-'</em>, <em>length=72</em><big>)</big><a class="headerlink" href="#htsql_ctl.regress.TestCase.out_sep" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints a separator: a long line of dashes.</p>
</dd></dl>

<dl class="method">
<dt id="htsql_ctl.regress.TestCase.out_header">
<tt class="descname">out_header</tt><big>(</big><big>)</big><a class="headerlink" href="#htsql_ctl.regress.TestCase.out_header" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints a nice header describing the test case.</p>
</dd></dl>

<dl class="method">
<dt id="htsql_ctl.regress.TestCase.halted">
<tt class="descname">halted</tt><big>(</big><em>message=None</em><big>)</big><a class="headerlink" href="#htsql_ctl.regress.TestCase.halted" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicate that the test case failed and stop the tests.</p>
</dd></dl>

<dl class="method">
<dt id="htsql_ctl.regress.TestCase.failed">
<tt class="descname">failed</tt><big>(</big><em>message=None</em><big>)</big><a class="headerlink" href="#htsql_ctl.regress.TestCase.failed" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicate that the test case failed; stop the tests unless
<tt class="docutils literal"><span class="pre">--force</span></tt> or <tt class="docutils literal"><span class="pre">--train</span></tt> flags are set.</p>
</dd></dl>

<dl class="method">
<dt id="htsql_ctl.regress.TestCase.updated">
<tt class="descname">updated</tt><big>(</big><em>message=None</em><big>)</big><a class="headerlink" href="#htsql_ctl.regress.TestCase.updated" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicate that the output of the test case has been updated.</p>
</dd></dl>

<dl class="method">
<dt id="htsql_ctl.regress.TestCase.passed">
<tt class="descname">passed</tt><big>(</big><em>message=None</em><big>)</big><a class="headerlink" href="#htsql_ctl.regress.TestCase.passed" title="Permalink to this definition">¶</a></dt>
<dd><p>Indicate that the test case passed.</p>
</dd></dl>

<dl class="method">
<dt id="htsql_ctl.regress.TestCase.verify">
<tt class="descname">verify</tt><big>(</big><big>)</big><a class="headerlink" href="#htsql_ctl.regress.TestCase.verify" title="Permalink to this definition">¶</a></dt>
<dd><p>Executes the test case.</p>
<p>This method runs the test case with the given input data.
If the test completed without errors, compare the produced
output with the given expected output.</p>
<p>The test case fails if</p>
<ul class="simple">
<li>the test failed to complete without errors;</li>
<li>or the expected test output is not provided;</li>
<li>or the expected test output is not equal to the actual test output.</li>
</ul>
<p>Some test cases may not generate output; in this case the test
passes if it is completed without errors.</p>
</dd></dl>

<dl class="method">
<dt id="htsql_ctl.regress.TestCase.train">
<tt class="descname">train</tt><big>(</big><big>)</big><a class="headerlink" href="#htsql_ctl.regress.TestCase.train" title="Permalink to this definition">¶</a></dt>
<dd><p>Executes the test case in the training mode; returns the output data.</p>
<p>In the train mode, when the expected test output is not equal to the
actual test output, the user is given a choice to update the expected
test output.</p>
<p>Note that when the output has not been changed or the user refused
to update it, the method must return the original output data,
<tt class="docutils literal"><span class="pre">self.output</span></tt>.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="htsql_ctl.regress.SkipTestCase">
<em class="property">class </em><tt class="descclassname">htsql_ctl.regress.</tt><tt class="descname">SkipTestCase</tt><big>(</big><em>routine</em>, <em>state</em>, <em>input</em>, <em>output</em><big>)</big><a class="headerlink" href="#htsql_ctl.regress.SkipTestCase" title="Permalink to this definition">¶</a></dt>
<dd><p>Implements a skippable test case.</p>
<p>This is an abstract mixin class; subclasses should call <a class="reference internal" href="#htsql_ctl.regress.SkipTestCase.skipped" title="htsql_ctl.regress.SkipTestCase.skipped"><tt class="xref py py-meth docutils literal"><span class="pre">skipped()</span></tt></a>
to check if the test case is enabled or not.</p>
<dl class="method">
<dt id="htsql_ctl.regress.SkipTestCase.skipped">
<tt class="descname">skipped</tt><big>(</big><big>)</big><a class="headerlink" href="#htsql_ctl.regress.SkipTestCase.skipped" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks if the test is disabled.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="htsql_ctl.regress.DefineTestCase">
<em class="property">class </em><tt class="descclassname">htsql_ctl.regress.</tt><tt class="descname">DefineTestCase</tt><big>(</big><em>routine</em>, <em>state</em>, <em>input</em>, <em>output</em><big>)</big><a class="headerlink" href="#htsql_ctl.regress.DefineTestCase" title="Permalink to this definition">¶</a></dt>
<dd><p>Activates a named toggle.</p>
</dd></dl>

<dl class="class">
<dt id="htsql_ctl.regress.RunAndCompareTestCase">
<em class="property">class </em><tt class="descclassname">htsql_ctl.regress.</tt><tt class="descname">RunAndCompareTestCase</tt><big>(</big><em>routine</em>, <em>state</em>, <em>input</em>, <em>output</em><big>)</big><a class="headerlink" href="#htsql_ctl.regress.RunAndCompareTestCase" title="Permalink to this definition">¶</a></dt>
<dd><p>Implements common methods for a broad category of test cases.</p>
<p>This class implements common scenario: run the test, get the output
and compare it with the expected output.</p>
<p>This is an abstract class; create a subclass to implement a concrete
test case.  The following methods has to be overridden: <a class="reference internal" href="#htsql_ctl.regress.RunAndCompareTestCase.execute" title="htsql_ctl.regress.RunAndCompareTestCase.execute"><tt class="xref py py-meth docutils literal"><span class="pre">execute()</span></tt></a>,
<a class="reference internal" href="#htsql_ctl.regress.RunAndCompareTestCase.render" title="htsql_ctl.regress.RunAndCompareTestCase.render"><tt class="xref py py-meth docutils literal"><span class="pre">render()</span></tt></a> and <a class="reference internal" href="#htsql_ctl.regress.RunAndCompareTestCase.differs" title="htsql_ctl.regress.RunAndCompareTestCase.differs"><tt class="xref py py-meth docutils literal"><span class="pre">differs()</span></tt></a>.</p>
<dl class="method">
<dt id="htsql_ctl.regress.RunAndCompareTestCase.out_lines">
<tt class="descname">out_lines</tt><big>(</big><em>lines</em>, <em>indent=0</em><big>)</big><a class="headerlink" href="#htsql_ctl.regress.RunAndCompareTestCase.out_lines" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints the lines with the specified identation.</p>
</dd></dl>

<dl class="method">
<dt id="htsql_ctl.regress.RunAndCompareTestCase.out_diff">
<tt class="descname">out_diff</tt><big>(</big><em>old_output</em>, <em>new_output</em><big>)</big><a class="headerlink" href="#htsql_ctl.regress.RunAndCompareTestCase.out_diff" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints the delta between two test outputs.</p>
</dd></dl>

<dl class="method">
<dt id="htsql_ctl.regress.RunAndCompareTestCase.render">
<tt class="descname">render</tt><big>(</big><em>output</em><big>)</big><a class="headerlink" href="#htsql_ctl.regress.RunAndCompareTestCase.render" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts the output data to a list of lines.</p>
</dd></dl>

<dl class="method">
<dt id="htsql_ctl.regress.RunAndCompareTestCase.execute">
<tt class="descname">execute</tt><big>(</big><big>)</big><a class="headerlink" href="#htsql_ctl.regress.RunAndCompareTestCase.execute" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs the test case; returns the produced output.</p>
<p>Returns <tt class="xref docutils literal"><span class="pre">None</span></tt> if an error occured when running the test case.</p>
</dd></dl>

<dl class="method">
<dt id="htsql_ctl.regress.RunAndCompareTestCase.differs">
<tt class="descname">differs</tt><big>(</big><em>old_output</em>, <em>new_output</em><big>)</big><a class="headerlink" href="#htsql_ctl.regress.RunAndCompareTestCase.differs" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks if the actual test output differs from the expected test output.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="htsql_ctl.regress.AppTestCase">
<em class="property">class </em><tt class="descclassname">htsql_ctl.regress.</tt><tt class="descname">AppTestCase</tt><big>(</big><em>routine</em>, <em>state</em>, <em>input</em>, <em>output</em><big>)</big><a class="headerlink" href="#htsql_ctl.regress.AppTestCase" title="Permalink to this definition">¶</a></dt>
<dd><p>Configures the HTSQL application.</p>
</dd></dl>

<dl class="class">
<dt id="htsql_ctl.regress.LoadAppTestCase">
<em class="property">class </em><tt class="descclassname">htsql_ctl.regress.</tt><tt class="descname">LoadAppTestCase</tt><big>(</big><em>routine</em>, <em>state</em>, <em>input</em>, <em>output</em><big>)</big><a class="headerlink" href="#htsql_ctl.regress.LoadAppTestCase" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads an existing configuration of an HTSQL application.</p>
</dd></dl>

<dl class="class">
<dt id="htsql_ctl.regress.IncludeTestCase">
<em class="property">class </em><tt class="descclassname">htsql_ctl.regress.</tt><tt class="descname">IncludeTestCase</tt><big>(</big><em>routine</em>, <em>state</em>, <em>input</em>, <em>output</em><big>)</big><a class="headerlink" href="#htsql_ctl.regress.IncludeTestCase" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads input test data from a file.</p>
</dd></dl>

<dl class="class">
<dt id="htsql_ctl.regress.SuiteTestCase">
<em class="property">class </em><tt class="descclassname">htsql_ctl.regress.</tt><tt class="descname">SuiteTestCase</tt><big>(</big><em>routine</em>, <em>state</em>, <em>input</em>, <em>output</em><big>)</big><a class="headerlink" href="#htsql_ctl.regress.SuiteTestCase" title="Permalink to this definition">¶</a></dt>
<dd><p>Implements a container of test cases.</p>
</dd></dl>

<dl class="class">
<dt id="htsql_ctl.regress.QueryTestCase">
<em class="property">class </em><tt class="descclassname">htsql_ctl.regress.</tt><tt class="descname">QueryTestCase</tt><big>(</big><em>routine</em>, <em>state</em>, <em>input</em>, <em>output</em><big>)</big><a class="headerlink" href="#htsql_ctl.regress.QueryTestCase" title="Permalink to this definition">¶</a></dt>
<dd><p>Performs an HTSQL query.</p>
</dd></dl>

<dl class="class">
<dt id="htsql_ctl.regress.CtlTestCase">
<em class="property">class </em><tt class="descclassname">htsql_ctl.regress.</tt><tt class="descname">CtlTestCase</tt><big>(</big><em>routine</em>, <em>state</em>, <em>input</em>, <em>output</em><big>)</big><a class="headerlink" href="#htsql_ctl.regress.CtlTestCase" title="Permalink to this definition">¶</a></dt>
<dd><p>Executes a script routine.</p>
</dd></dl>

<dl class="class">
<dt id="htsql_ctl.regress.Fork">
<em class="property">class </em><tt class="descclassname">htsql_ctl.regress.</tt><tt class="descname">Fork</tt><big>(</big><em>process</em>, <em>temp_path</em><big>)</big><a class="headerlink" href="#htsql_ctl.regress.Fork" title="Permalink to this definition">¶</a></dt>
<dd><p>Keeps information on the started processes.</p>
<p>Class attributes:</p>
<dl class="docutils">
<dt><tt class="xref py py-obj docutils literal"><span class="pre">active_forks</span></tt></dt>
<dd>The global list of active processes.</dd>
<dt><tt class="xref py py-obj docutils literal"><span class="pre">is_atexit_registered</span></tt></dt>
<dd>Indicates whether an <tt class="xref py py-func docutils literal"><span class="pre">atexit.atexit()</span></tt> callable was registered.
The callable is called when the script is about to finish and kills
any remaining active processes.</dd>
</dl>
<p>Attributes:</p>
<dl class="docutils">
<dt><tt class="xref py py-obj docutils literal"><span class="pre">process</span></tt> (an instance of <tt class="xref py py-class docutils literal"><span class="pre">subprocess.Popen</span></tt>)</dt>
<dd>The wrapped process.</dd>
<dt><tt class="xref py py-obj docutils literal"><span class="pre">temp_path</span></tt> (a string)</dt>
<dd>A directory containing two files: <tt class="xref py py-obj docutils literal"><span class="pre">input</span></tt> and <tt class="xref py py-obj docutils literal"><span class="pre">output</span></tt>, which
keeps the content of the standard input and the standard output
respectively.</dd>
</dl>
<dl class="classmethod">
<dt id="htsql_ctl.regress.Fork.start">
<em class="property">classmethod </em><tt class="descname">start</tt><big>(</big><em>executable</em>, <em>arguments</em>, <em>input</em><big>)</big><a class="headerlink" href="#htsql_ctl.regress.Fork.start" title="Permalink to this definition">¶</a></dt>
<dd><p>Starts a new process.</p>
<dl class="docutils">
<dt><tt class="xref py py-obj docutils literal"><span class="pre">executable</span></tt></dt>
<dd>The path to the executable.</dd>
<dt><tt class="xref py py-obj docutils literal"><span class="pre">arguments</span></tt></dt>
<dd>The list of arguments (not including the executable).</dd>
<dt><tt class="xref py py-obj docutils literal"><span class="pre">input</span></tt></dt>
<dd>The content of the standard input.</dd>
</dl>
<p>Returns a new <a class="reference internal" href="#htsql_ctl.regress.Fork" title="htsql_ctl.regress.Fork"><tt class="xref py py-class docutils literal"><span class="pre">Fork</span></tt></a> instance.</p>
</dd></dl>

<dl class="method">
<dt id="htsql_ctl.regress.Fork.end">
<tt class="descname">end</tt><big>(</big><big>)</big><a class="headerlink" href="#htsql_ctl.regress.Fork.end" title="Permalink to this definition">¶</a></dt>
<dd><p>Ends the process.</p>
<p>Returns the content of the standard output.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="htsql_ctl.regress.StartCtlTestCase">
<em class="property">class </em><tt class="descclassname">htsql_ctl.regress.</tt><tt class="descname">StartCtlTestCase</tt><big>(</big><em>routine</em>, <em>state</em>, <em>input</em>, <em>output</em><big>)</big><a class="headerlink" href="#htsql_ctl.regress.StartCtlTestCase" title="Permalink to this definition">¶</a></dt>
<dd><p>Starts a long-running routine.</p>
</dd></dl>

<dl class="class">
<dt id="htsql_ctl.regress.EndCtlTestCase">
<em class="property">class </em><tt class="descclassname">htsql_ctl.regress.</tt><tt class="descname">EndCtlTestCase</tt><big>(</big><em>routine</em>, <em>state</em>, <em>input</em>, <em>output</em><big>)</big><a class="headerlink" href="#htsql_ctl.regress.EndCtlTestCase" title="Permalink to this definition">¶</a></dt>
<dd><p>Terminates a long-running routine.</p>
</dd></dl>

<dl class="class">
<dt id="htsql_ctl.regress.PythonCodeTestCase">
<em class="property">class </em><tt class="descclassname">htsql_ctl.regress.</tt><tt class="descname">PythonCodeTestCase</tt><big>(</big><em>routine</em>, <em>state</em>, <em>input</em>, <em>output</em><big>)</big><a class="headerlink" href="#htsql_ctl.regress.PythonCodeTestCase" title="Permalink to this definition">¶</a></dt>
<dd><p>Executes arbitrary Python code.</p>
</dd></dl>

<dl class="class">
<dt id="htsql_ctl.regress.PythonCodeIncludeTestCase">
<em class="property">class </em><tt class="descclassname">htsql_ctl.regress.</tt><tt class="descname">PythonCodeIncludeTestCase</tt><big>(</big><em>routine</em>, <em>state</em>, <em>input</em>, <em>output</em><big>)</big><a class="headerlink" href="#htsql_ctl.regress.PythonCodeIncludeTestCase" title="Permalink to this definition">¶</a></dt>
<dd><p>Executes arbitrary Python code loaded from a file.</p>
</dd></dl>

<dl class="class">
<dt id="htsql_ctl.regress.SQLTestCase">
<em class="property">class </em><tt class="descclassname">htsql_ctl.regress.</tt><tt class="descname">SQLTestCase</tt><big>(</big><em>routine</em>, <em>state</em>, <em>input</em>, <em>output</em><big>)</big><a class="headerlink" href="#htsql_ctl.regress.SQLTestCase" title="Permalink to this definition">¶</a></dt>
<dd><p>Executes a SQL query.</p>
<dl class="method">
<dt id="htsql_ctl.regress.SQLTestCase.load">
<tt class="descname">load</tt><big>(</big><big>)</big><a class="headerlink" href="#htsql_ctl.regress.SQLTestCase.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the SQL data to execute.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="htsql_ctl.regress.SQLIncludeTestCase">
<em class="property">class </em><tt class="descclassname">htsql_ctl.regress.</tt><tt class="descname">SQLIncludeTestCase</tt><big>(</big><em>routine</em>, <em>state</em>, <em>input</em>, <em>output</em><big>)</big><a class="headerlink" href="#htsql_ctl.regress.SQLIncludeTestCase" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads SQL queries from a file and executes them.</p>
</dd></dl>

<dl class="class">
<dt id="htsql_ctl.regress.WriteToFileTestCase">
<em class="property">class </em><tt class="descclassname">htsql_ctl.regress.</tt><tt class="descname">WriteToFileTestCase</tt><big>(</big><em>routine</em>, <em>state</em>, <em>input</em>, <em>output</em><big>)</big><a class="headerlink" href="#htsql_ctl.regress.WriteToFileTestCase" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes some data to a file.</p>
</dd></dl>

<dl class="class">
<dt id="htsql_ctl.regress.ReadFromFileTestCase">
<em class="property">class </em><tt class="descclassname">htsql_ctl.regress.</tt><tt class="descname">ReadFromFileTestCase</tt><big>(</big><em>routine</em>, <em>state</em>, <em>input</em>, <em>output</em><big>)</big><a class="headerlink" href="#htsql_ctl.regress.ReadFromFileTestCase" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads the file content.</p>
</dd></dl>

<dl class="class">
<dt id="htsql_ctl.regress.RemoveFilesTestCase">
<em class="property">class </em><tt class="descclassname">htsql_ctl.regress.</tt><tt class="descname">RemoveFilesTestCase</tt><big>(</big><em>routine</em>, <em>state</em>, <em>input</em>, <em>output</em><big>)</big><a class="headerlink" href="#htsql_ctl.regress.RemoveFilesTestCase" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes the specified files.</p>
</dd></dl>

<dl class="class">
<dt id="htsql_ctl.regress.MakeDirTestCase">
<em class="property">class </em><tt class="descclassname">htsql_ctl.regress.</tt><tt class="descname">MakeDirTestCase</tt><big>(</big><em>routine</em>, <em>state</em>, <em>input</em>, <em>output</em><big>)</big><a class="headerlink" href="#htsql_ctl.regress.MakeDirTestCase" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a directory.</p>
</dd></dl>

<dl class="class">
<dt id="htsql_ctl.regress.RemoveDirTestCase">
<em class="property">class </em><tt class="descclassname">htsql_ctl.regress.</tt><tt class="descname">RemoveDirTestCase</tt><big>(</big><em>routine</em>, <em>state</em>, <em>input</em>, <em>output</em><big>)</big><a class="headerlink" href="#htsql_ctl.regress.RemoveDirTestCase" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes a directory.</p>
</dd></dl>

<dl class="class">
<dt id="htsql_ctl.regress.TestState">
<em class="property">class </em><tt class="descclassname">htsql_ctl.regress.</tt><tt class="descname">TestState</tt><big>(</big><em>app=None</em>, <em>forks=None</em>, <em>toggles=None</em>, <em>saves=None</em>, <em>with_all_suites=False</em>, <em>passed=0</em>, <em>failed=0</em>, <em>updated=0</em>, <em>is_exiting=False</em><big>)</big><a class="headerlink" href="#htsql_ctl.regress.TestState" title="Permalink to this definition">¶</a></dt>
<dd><p>Keeps the mutable state of the testing process.</p>
<dl class="docutils">
<dt><tt class="xref py py-obj docutils literal"><span class="pre">app</span></tt></dt>
<dd>The current HTSQL application.</dd>
<dt><tt class="xref py py-obj docutils literal"><span class="pre">forks</span></tt></dt>
<dd>A mapping from command-line parameters to <a class="reference internal" href="#htsql_ctl.regress.Fork" title="htsql_ctl.regress.Fork"><tt class="xref py py-class docutils literal"><span class="pre">Fork</span></tt></a>
instances; contains long-running applications.</dd>
<dt><tt class="xref py py-obj docutils literal"><span class="pre">toggles</span></tt></dt>
<dd>A set of active named toggles.</dd>
<dt><tt class="xref py py-obj docutils literal"><span class="pre">saves</span></tt></dt>
<dd>A mapping of named application configurations.</dd>
<dt><tt class="xref py py-obj docutils literal"><span class="pre">with_all_suites</span></tt></dt>
<dd>Indicates that the current suite or one of its ancestors
was explicitly selected by the user.</dd>
<dt><tt class="xref py py-obj docutils literal"><span class="pre">passed</span></tt></dt>
<dd>The current number of passed tests.</dd>
<dt><tt class="xref py py-obj docutils literal"><span class="pre">failed</span></tt></dt>
<dd>The current number of failed tests.</dd>
<dt><tt class="xref py py-obj docutils literal"><span class="pre">updated</span></tt></dt>
<dd>The current number of updated tests.</dd>
<dt><tt class="xref py py-obj docutils literal"><span class="pre">is_exiting</span></tt></dt>
<dd>Indicates whether the user asked to halt the testing.</dd>
</dl>
<dl class="method">
<dt id="htsql_ctl.regress.TestState.push">
<tt class="descname">push</tt><big>(</big><em>other</em><big>)</big><a class="headerlink" href="#htsql_ctl.regress.TestState.push" title="Permalink to this definition">¶</a></dt>
<dd><p>Push the state data to a derived state.</p>
<dl class="docutils">
<dt><tt class="xref py py-obj docutils literal"><span class="pre">other</span></tt> (<a class="reference internal" href="#htsql_ctl.regress.TestState" title="htsql_ctl.regress.TestState"><tt class="xref py py-class docutils literal"><span class="pre">TestState</span></tt></a>)</dt>
<dd>A derived state, the state created by a suite for
the suite test cases.</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="htsql_ctl.regress.TestState.pull">
<tt class="descname">pull</tt><big>(</big><em>other</em><big>)</big><a class="headerlink" href="#htsql_ctl.regress.TestState.pull" title="Permalink to this definition">¶</a></dt>
<dd><p>Pull the state from a derived state.</p>
<p>Note that only statistical information is pulled from
the derived state.</p>
<dl class="docutils">
<dt><tt class="xref py py-obj docutils literal"><span class="pre">other</span></tt> (<a class="reference internal" href="#htsql_ctl.regress.TestState" title="htsql_ctl.regress.TestState"><tt class="xref py py-class docutils literal"><span class="pre">TestState</span></tt></a>)</dt>
<dd>A derived state, the state created by a suite for
the suite test cases.</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="htsql_ctl.regress.RegressYAMLLoader">
<em class="property">class </em><tt class="descclassname">htsql_ctl.regress.</tt><tt class="descname">RegressYAMLLoader</tt><big>(</big><em>routine</em>, <em>with_input</em>, <em>with_output</em>, <em>stream</em><big>)</big><a class="headerlink" href="#htsql_ctl.regress.RegressYAMLLoader" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads test data from a YAML file.</p>
<dl class="docutils">
<dt><tt class="xref py py-obj docutils literal"><span class="pre">routine</span></tt> (<a class="reference internal" href="#htsql_ctl.regress.RegressRoutine" title="htsql_ctl.regress.RegressRoutine"><tt class="xref py py-class docutils literal"><span class="pre">RegressRoutine</span></tt></a>)</dt>
<dd>The testing engine.</dd>
<dt><tt class="xref py py-obj docutils literal"><span class="pre">with_input</span></tt> (Boolean)</dt>
<dd>Indicates that the YAML file contains input records.</dd>
<dt><tt class="xref py py-obj docutils literal"><span class="pre">with_output</span></tt> (Boolean)</dt>
<dd>Indicates that the YAML file contains output records.</dd>
<dt><tt class="xref py py-obj docutils literal"><span class="pre">stream</span></tt> (a file or a file-like object)</dt>
<dd>The YAML stream.</dd>
</dl>
<dl class="method">
<dt id="htsql_ctl.regress.RegressYAMLLoader.load">
<tt class="descname">load</tt><big>(</big><big>)</big><a class="headerlink" href="#htsql_ctl.regress.RegressYAMLLoader.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads test data from the YAML stream.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="htsql_ctl.regress.RegressYAMLDumper">
<em class="property">class </em><tt class="descclassname">htsql_ctl.regress.</tt><tt class="descname">RegressYAMLDumper</tt><big>(</big><em>routine</em>, <em>with_input</em>, <em>with_output</em>, <em>stream</em>, <em>**keywords</em><big>)</big><a class="headerlink" href="#htsql_ctl.regress.RegressYAMLDumper" title="Permalink to this definition">¶</a></dt>
<dd><p>Dumps test data to a YAML file.</p>
<dl class="docutils">
<dt><tt class="xref py py-obj docutils literal"><span class="pre">routine</span></tt> (<a class="reference internal" href="#htsql_ctl.regress.RegressRoutine" title="htsql_ctl.regress.RegressRoutine"><tt class="xref py py-class docutils literal"><span class="pre">RegressRoutine</span></tt></a>)</dt>
<dd>The testing engine.</dd>
<dt><tt class="xref py py-obj docutils literal"><span class="pre">with_input</span></tt> (Boolean)</dt>
<dd>Indicates that the YAML file will contain input records.</dd>
<dt><tt class="xref py py-obj docutils literal"><span class="pre">with_output</span></tt> (Boolean)</dt>
<dd>Indicates that the YAML file will contain output records.</dd>
<dt><tt class="xref py py-obj docutils literal"><span class="pre">stream</span></tt> (a file or a file-like object)</dt>
<dd>The stream where the YAML document is written.</dd>
</dl>
<dl class="method">
<dt id="htsql_ctl.regress.RegressYAMLDumper.dump">
<tt class="descname">dump</tt><big>(</big><em>data</em><big>)</big><a class="headerlink" href="#htsql_ctl.regress.RegressYAMLDumper.dump" title="Permalink to this definition">¶</a></dt>
<dd><p>Dumps the data to the YAML stream.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="htsql_ctl.regress.RegressRoutine">
<em class="property">class </em><tt class="descclassname">htsql_ctl.regress.</tt><tt class="descname">RegressRoutine</tt><big>(</big><em>ctl</em>, <em>attributes</em><big>)</big><a class="headerlink" href="#htsql_ctl.regress.RegressRoutine" title="Permalink to this definition">¶</a></dt>
<dd><p>Implements the <tt class="xref py py-obj docutils literal"><span class="pre">regress</span></tt> routine.</p>
<dl class="attribute">
<dt id="htsql_ctl.regress.RegressRoutine.state_class">
<tt class="descname">state_class</tt><a class="headerlink" href="#htsql_ctl.regress.RegressRoutine.state_class" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#htsql_ctl.regress.TestState" title="htsql_ctl.regress.TestState"><tt class="xref py py-class docutils literal"><span class="pre">TestState</span></tt></a></p>
</dd></dl>

<dl class="classmethod">
<dt id="htsql_ctl.regress.RegressRoutine.get_help">
<em class="property">classmethod </em><tt class="descname">get_help</tt><big>(</big><em>**substitutes</em><big>)</big><a class="headerlink" href="#htsql_ctl.regress.RegressRoutine.get_help" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a long description of the routine.</p>
</dd></dl>

<dl class="classmethod">
<dt id="htsql_ctl.regress.RegressRoutine.get_feature">
<em class="property">classmethod </em><tt class="descname">get_feature</tt><big>(</big><em>name</em><big>)</big><a class="headerlink" href="#htsql_ctl.regress.RegressRoutine.get_feature" title="Permalink to this definition">¶</a></dt>
<dd><p>Finds the test case by name.</p>
</dd></dl>

</dd></dl>

</div>
<span class="target" id="module-htsql_ctl.request"></span><div class="section" id="htsql-ctl-request">
<h2><a class="reference internal" href="#module-htsql_ctl.request" title="htsql_ctl.request"><tt class="xref py py-mod docutils literal"><span class="pre">htsql_ctl.request</span></tt></a><a class="headerlink" href="#htsql-ctl-request" title="Permalink to this headline">¶</a></h2>
<p>This module implements the <tt class="xref py py-obj docutils literal"><span class="pre">get</span></tt> and <tt class="xref py py-obj docutils literal"><span class="pre">post</span></tt> routines.</p>
<dl class="class">
<dt id="htsql_ctl.request.Request">
<em class="property">class </em><tt class="descclassname">htsql_ctl.request.</tt><tt class="descname">Request</tt><big>(</big><em>environ</em><big>)</big><a class="headerlink" href="#htsql_ctl.request.Request" title="Permalink to this definition">¶</a></dt>
<dd><p>Represents a WSGI request.</p>
<dl class="docutils">
<dt><tt class="xref py py-obj docutils literal"><span class="pre">environ</span></tt></dt>
<dd>A WSGI <tt class="xref py py-obj docutils literal"><span class="pre">environ</span></tt> dictionary.</dd>
</dl>
<dl class="classmethod">
<dt id="htsql_ctl.request.Request.prepare">
<em class="property">classmethod </em><tt class="descname">prepare</tt><big>(</big><em>method</em>, <em>query</em>, <em>remote_user=None</em>, <em>content_type=None</em>, <em>content_body=None</em>, <em>extra_headers=None</em><big>)</big><a class="headerlink" href="#htsql_ctl.request.Request.prepare" title="Permalink to this definition">¶</a></dt>
<dd><p>Produces a <a class="reference internal" href="#htsql_ctl.request.Request" title="htsql_ctl.request.Request"><tt class="xref py py-class docutils literal"><span class="pre">Request</span></tt></a> object from the given parameters.</p>
<dl class="docutils">
<dt><tt class="xref py py-obj docutils literal"><span class="pre">method</span></tt> (<tt class="docutils literal"><span class="pre">'GET'</span></tt> or <tt class="docutils literal"><span class="pre">'POST'</span></tt>)</dt>
<dd>The HTTP request method.</dd>
<dt><tt class="xref py py-obj docutils literal"><span class="pre">query</span></tt> (a string)</dt>
<dd>The path and the query parts of the URI.</dd>
<dt><tt class="xref py py-obj docutils literal"><span class="pre">remote_user</span></tt> (a string or <tt class="xref docutils literal"><span class="pre">None</span></tt>)</dt>
<dd>The name of the authenticated user.</dd>
<dt><tt class="xref py py-obj docutils literal"><span class="pre">content_type</span></tt> (a string or <tt class="xref docutils literal"><span class="pre">None</span></tt>)</dt>
<dd>The content type of the POST data, used only when <tt class="xref py py-obj docutils literal"><span class="pre">method</span></tt> is
<tt class="docutils literal"><span class="pre">'POST'</span></tt>.  If not provided, guessed from the file name of the
<tt class="xref py py-obj docutils literal"><span class="pre">content_body</span></tt> stream.  If that fails,
<tt class="docutils literal"><span class="pre">'application/octet-stream'</span></tt> is used.</dd>
<dt><tt class="xref py py-obj docutils literal"><span class="pre">content_body</span></tt> (a string, a file or a file-like object or <tt class="xref docutils literal"><span class="pre">None</span></tt>)</dt>
<dd>The body of the HTTP request, used only when <tt class="xref py py-obj docutils literal"><span class="pre">method</span></tt> is
<tt class="docutils literal"><span class="pre">'POST'</span></tt>.</dd>
<dt><tt class="xref py py-obj docutils literal"><span class="pre">extra_headers</span></tt> (a dictionary or <tt class="xref docutils literal"><span class="pre">None</span></tt>)</dt>
<dd>A dictionary of HTTP headers.</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="htsql_ctl.request.Request.execute">
<tt class="descname">execute</tt><big>(</big><em>app</em><big>)</big><a class="headerlink" href="#htsql_ctl.request.Request.execute" title="Permalink to this definition">¶</a></dt>
<dd><p>Executes the request against the given WSGI application.</p>
<dl class="docutils">
<dt><tt class="xref py py-obj docutils literal"><span class="pre">app</span></tt></dt>
<dd>A WSGI application.</dd>
</dl>
<p>Returns a <a class="reference internal" href="#htsql_ctl.request.Response" title="htsql_ctl.request.Response"><tt class="xref py py-class docutils literal"><span class="pre">Response</span></tt></a> object.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="htsql_ctl.request.Response">
<em class="property">class </em><tt class="descclassname">htsql_ctl.request.</tt><tt class="descname">Response</tt><a class="headerlink" href="#htsql_ctl.request.Response" title="Permalink to this definition">¶</a></dt>
<dd><p>Represents a response to a WSGI request.</p>
<dl class="docutils">
<dt><tt class="xref py py-obj docutils literal"><span class="pre">status</span></tt> (a string)</dt>
<dd>The HTTP status line.</dd>
<dt><tt class="xref py py-obj docutils literal"><span class="pre">headers</span></tt> (a list of pairs)</dt>
<dd>The HTTP headers.</dd>
<dt><tt class="xref py py-obj docutils literal"><span class="pre">body</span></tt> (a string)</dt>
<dd>The HTTP body.</dd>
<dt><tt class="xref py py-obj docutils literal"><span class="pre">exc_info</span></tt> (a tuple <tt class="docutils literal"><span class="pre">(type,</span> <span class="pre">value,</span> <span class="pre">traceback)</span></tt> or <tt class="xref docutils literal"><span class="pre">None</span></tt>)</dt>
<dd>Any exception occured when the request was executed.</dd>
</dl>
<dl class="method">
<dt id="htsql_ctl.request.Response.set">
<tt class="descname">set</tt><big>(</big><em>**attributes</em><big>)</big><a class="headerlink" href="#htsql_ctl.request.Response.set" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates the response parameters.</p>
</dd></dl>

<dl class="method">
<dt id="htsql_ctl.request.Response.complete">
<tt class="descname">complete</tt><big>(</big><big>)</big><a class="headerlink" href="#htsql_ctl.request.Response.complete" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns <tt class="xref docutils literal"><span class="pre">True</span></tt> if the response is complete; <tt class="xref docutils literal"><span class="pre">False</span></tt> otherwise.</p>
<p>The response is considered valid if the HTTP status, headers and
body are set and valid and no exception occured during the execution
of the request.</p>
</dd></dl>

<dl class="method">
<dt id="htsql_ctl.request.Response.dump">
<tt class="descname">dump</tt><big>(</big><em>stream</em>, <em>with_headers=False</em><big>)</big><a class="headerlink" href="#htsql_ctl.request.Response.dump" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes the response to the output stream.</p>
<dl class="docutils">
<dt><tt class="xref py py-obj docutils literal"><span class="pre">stream</span></tt> (a file or a file-like object)</dt>
<dd>The stream where to write the response.</dd>
<dt><tt class="xref py py-obj docutils literal"><span class="pre">with_headers</span></tt></dt>
<dd>Indicates whether the status line and the headers should
also be written.</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="htsql_ctl.request.GetPostBaseRoutine">
<em class="property">class </em><tt class="descclassname">htsql_ctl.request.</tt><tt class="descname">GetPostBaseRoutine</tt><big>(</big><em>ctl</em>, <em>attributes</em><big>)</big><a class="headerlink" href="#htsql_ctl.request.GetPostBaseRoutine" title="Permalink to this definition">¶</a></dt>
<dd><p>Implements the common methods for the <tt class="xref py py-obj docutils literal"><span class="pre">get</span></tt> and <tt class="xref py py-obj docutils literal"><span class="pre">post</span></tt> routines.</p>
<p>Both routines take a connection URI and an HTSQL query as arguments
and execute an HTTP request.</p>
</dd></dl>

<dl class="class">
<dt id="htsql_ctl.request.GetRoutine">
<em class="property">class </em><tt class="descclassname">htsql_ctl.request.</tt><tt class="descname">GetRoutine</tt><big>(</big><em>ctl</em>, <em>attributes</em><big>)</big><a class="headerlink" href="#htsql_ctl.request.GetRoutine" title="Permalink to this definition">¶</a></dt>
<dd><p>Implements the <tt class="xref py py-obj docutils literal"><span class="pre">get</span></tt> routine.</p>
<p>The routine executes an HTSQL query over the specified database.</p>
</dd></dl>

<dl class="class">
<dt id="htsql_ctl.request.PostRoutine">
<em class="property">class </em><tt class="descclassname">htsql_ctl.request.</tt><tt class="descname">PostRoutine</tt><big>(</big><em>ctl</em>, <em>attributes</em><big>)</big><a class="headerlink" href="#htsql_ctl.request.PostRoutine" title="Permalink to this definition">¶</a></dt>
<dd><p>Implements the <tt class="xref py py-obj docutils literal"><span class="pre">post</span></tt> routine.</p>
<p>The routine executes an HTSQL query with POST data over the specified
database.</p>
</dd></dl>

</div>
<span class="target" id="module-htsql_ctl.routine"></span><div class="section" id="htsql-ctl-routine">
<h2><a class="reference internal" href="#module-htsql_ctl.routine" title="htsql_ctl.routine"><tt class="xref py py-mod docutils literal"><span class="pre">htsql_ctl.routine</span></tt></a><a class="headerlink" href="#htsql-ctl-routine" title="Permalink to this headline">¶</a></h2>
<p>This module defines basic classes for implementing script routines.</p>
<dl class="class">
<dt id="htsql_ctl.routine.Argument">
<em class="property">class </em><tt class="descclassname">htsql_ctl.routine.</tt><tt class="descname">Argument</tt><big>(</big><em>attribute</em>, <em>validator</em>, <em>default=&lt;object object at 0x8b33770&gt;</em>, <em>is_list=False</em>, <em>hint=None</em><big>)</big><a class="headerlink" href="#htsql_ctl.routine.Argument" title="Permalink to this definition">¶</a></dt>
<dd><p>Describes an argument of a script routine.</p>
<dl class="docutils">
<dt><tt class="xref py py-obj docutils literal"><span class="pre">attribute</span></tt> (a string)</dt>
<dd>The name of the routine attribute.  When the routine is
initialized, the value of the argument is assigned to
the attribute.</dd>
<dt><tt class="xref py py-obj docutils literal"><span class="pre">validator</span></tt> (<a class="reference internal" href="htsql.html#htsql.validator.Validator" title="htsql.validator.Validator"><tt class="xref py py-class docutils literal"><span class="pre">htsql.validator.Validator</span></tt></a>)</dt>
<dd>The validator for the argument value.</dd>
<dt><tt class="xref py py-obj docutils literal"><span class="pre">default</span></tt></dt>
<dd>The default value of the argument.  If <tt class="xref py py-obj docutils literal"><span class="pre">default</span></tt> is not
provided, the argument value is always required.
The <tt class="xref py py-obj docutils literal"><span class="pre">is_mandatory</span></tt> attribute indicates if the default
value is omitted.</dd>
<dt><tt class="xref py py-obj docutils literal"><span class="pre">is_list</span></tt> (Boolean)</dt>
<dd>If set, the argument may accept more than one parameter.
In this case, the argument value is a list of parameters.</dd>
<dt><tt class="xref py py-obj docutils literal"><span class="pre">hint</span></tt> (a string or <tt class="xref docutils literal"><span class="pre">None</span></tt>)</dt>
<dd>A short one-line description of the argument.</dd>
</dl>
<dl class="method">
<dt id="htsql_ctl.routine.Argument.get_hint">
<tt class="descname">get_hint</tt><big>(</big><big>)</big><a class="headerlink" href="#htsql_ctl.routine.Argument.get_hint" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a short one-line description of the argument.</p>
</dd></dl>

<dl class="method">
<dt id="htsql_ctl.routine.Argument.get_signature">
<tt class="descname">get_signature</tt><big>(</big><big>)</big><a class="headerlink" href="#htsql_ctl.routine.Argument.get_signature" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the argument signature.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="htsql_ctl.routine.Routine">
<em class="property">class </em><tt class="descclassname">htsql_ctl.routine.</tt><tt class="descname">Routine</tt><big>(</big><em>ctl</em>, <em>attributes</em><big>)</big><a class="headerlink" href="#htsql_ctl.routine.Routine" title="Permalink to this definition">¶</a></dt>
<dd><p>Describes a script routine.</p>
<p><a class="reference internal" href="#htsql_ctl.routine.Routine" title="htsql_ctl.routine.Routine"><tt class="xref py py-class docutils literal"><span class="pre">Routine</span></tt></a> is a base abstract class for implementing
a script routine.  To create a concrete routine, subclass
<a class="reference internal" href="#htsql_ctl.routine.Routine" title="htsql_ctl.routine.Routine"><tt class="xref py py-class docutils literal"><span class="pre">Routine</span></tt></a>, declare the routine name, arguments and
options, and override <a class="reference internal" href="#htsql_ctl.routine.Routine.run" title="htsql_ctl.routine.Routine.run"><tt class="xref py py-meth docutils literal"><span class="pre">run()</span></tt></a>.</p>
<p>The following class attributes should be overridden.</p>
<dl class="docutils">
<dt><tt class="xref py py-obj docutils literal"><span class="pre">name</span></tt> (a string)</dt>
<dd>The name of the routine.  The name must be unique across
all routines of the script.  If equal to <tt class="docutils literal"><span class="pre">''</span></tt>, the
routine is called when the script is executed without
any parameters.</dd>
<dt><tt class="xref py py-obj docutils literal"><span class="pre">aliases</span></tt> (a list of strings)</dt>
<dd>The list of alternative routine names.</dd>
<dt><tt class="xref py py-obj docutils literal"><span class="pre">arguments</span></tt> (a list of <a class="reference internal" href="#htsql_ctl.routine.Argument" title="htsql_ctl.routine.Argument"><tt class="xref py py-class docutils literal"><span class="pre">Argument</span></tt></a>)</dt>
<dd>The list of routine arguments.</dd>
<dt><tt class="xref py py-obj docutils literal"><span class="pre">options</span></tt> (a list of <tt class="xref py py-class docutils literal"><span class="pre">htsql.ctl.option.Option</span></tt>)</dt>
<dd>The list of routine options.</dd>
<dt><tt class="xref py py-obj docutils literal"><span class="pre">hint</span></tt> (a string or <tt class="xref docutils literal"><span class="pre">None</span></tt>)</dt>
<dd>A one-line description of the routine.</dd>
<dt><tt class="xref py py-obj docutils literal"><span class="pre">help</span></tt> (a string or <tt class="xref docutils literal"><span class="pre">None</span></tt>)</dt>
<dd>A long description of the routine.  Keep the line width
at 72 characters.</dd>
</dl>
<p>The constructor of <a class="reference internal" href="#htsql_ctl.routine.Routine" title="htsql_ctl.routine.Routine"><tt class="xref py py-class docutils literal"><span class="pre">Routine</span></tt></a> accepts the following arguments:</p>
<dl class="docutils">
<dt><tt class="xref py py-obj docutils literal"><span class="pre">ctl</span></tt></dt>
<dd>The script; an instance of <tt class="xref py py-class docutils literal"><span class="pre">htsql.ctl.script.Script</span></tt> or
of its subclass.</dd>
<dt><tt class="xref py py-obj docutils literal"><span class="pre">attributes</span></tt></dt>
<dd>A dictionary mapping attribute names to attribute values.
The attribute names correspond to the routine arguments and
options; the values are obtained by parsing the command-line
parameters.</dd>
</dl>
<dl class="classmethod">
<dt id="htsql_ctl.routine.Routine.get_hint">
<em class="property">classmethod </em><tt class="descname">get_hint</tt><big>(</big><big>)</big><a class="headerlink" href="#htsql_ctl.routine.Routine.get_hint" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a short one-line description of the routine.</p>
</dd></dl>

<dl class="classmethod">
<dt id="htsql_ctl.routine.Routine.get_help">
<em class="property">classmethod </em><tt class="descname">get_help</tt><big>(</big><em>**substitutes</em><big>)</big><a class="headerlink" href="#htsql_ctl.routine.Routine.get_help" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a long description of the routine.</p>
</dd></dl>

<dl class="classmethod">
<dt id="htsql_ctl.routine.Routine.get_signature">
<em class="property">classmethod </em><tt class="descname">get_signature</tt><big>(</big><big>)</big><a class="headerlink" href="#htsql_ctl.routine.Routine.get_signature" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the routine signature.</p>
</dd></dl>

<dl class="classmethod">
<dt id="htsql_ctl.routine.Routine.get_feature">
<em class="property">classmethod </em><tt class="descname">get_feature</tt><big>(</big><em>name</em><big>)</big><a class="headerlink" href="#htsql_ctl.routine.Routine.get_feature" title="Permalink to this definition">¶</a></dt>
<dd><p>Finds some routine feature by name.</p>
</dd></dl>

<dl class="method">
<dt id="htsql_ctl.routine.Routine.run">
<tt class="descname">run</tt><big>(</big><big>)</big><a class="headerlink" href="#htsql_ctl.routine.Routine.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Executes the routine.  Returns an exit code.</p>
</dd></dl>

</dd></dl>

</div>
<span class="target" id="module-htsql_ctl.script"></span><div class="section" id="htsql-ctl-script">
<h2><a class="reference internal" href="#module-htsql_ctl.script" title="htsql_ctl.script"><tt class="xref py py-mod docutils literal"><span class="pre">htsql_ctl.script</span></tt></a><a class="headerlink" href="#htsql-ctl-script" title="Permalink to this headline">¶</a></h2>
<p>This module implements a command-line application with subcommands.</p>
<dl class="class">
<dt id="htsql_ctl.script.Script">
<em class="property">class </em><tt class="descclassname">htsql_ctl.script.</tt><tt class="descname">Script</tt><big>(</big><em>stdin</em>, <em>stdout</em>, <em>stderr</em><big>)</big><a class="headerlink" href="#htsql_ctl.script.Script" title="Permalink to this definition">¶</a></dt>
<dd><p>Implements a command-line application with the following interface:</p>
<div class="highlight-python"><pre>ctl &lt;routine&gt; &lt;options&gt; &lt;arguments&gt;</pre>
</div>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">ctl</span></tt></dt>
<dd>The name of the script.</dd>
<dt><tt class="docutils literal"><span class="pre">&lt;routine&gt;</span></tt></dt>
<dd>The name of the subcommand.</dd>
<dt><tt class="docutils literal"><span class="pre">&lt;options&gt;</span></tt></dt>
<dd><p class="first">A list of routine options.  The set of supported options is
routine-specific.</p>
<p>Each option may be written using either an abbreviated form
(a dash + a character) or a full form (two dashes + the option
name).  For instance, the <tt class="xref py py-obj docutils literal"><span class="pre">quiet</span></tt> option may be written as
<tt class="docutils literal"><span class="pre">-q</span></tt> or as <tt class="docutils literal"><span class="pre">--quiet</span></tt>.</p>
<p>Some options expect a parameter, which should then follow
the option name.  For instance, the <tt class="xref py py-obj docutils literal"><span class="pre">input</span></tt> option expects
a file name parameter, which could be passed using one
of the following forms:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">-iFILE</span></tt></li>
<li><tt class="docutils literal"><span class="pre">-i</span> <span class="pre">FILE</span></tt></li>
<li><tt class="docutils literal"><span class="pre">--input=FILE</span></tt></li>
<li><tt class="docutils literal"><span class="pre">--input</span> <span class="pre">FILE</span></tt></li>
</ul>
<p>Two or more options written using an abbreviated form could
share the leading dash.  For instance, <tt class="docutils literal"><span class="pre">-q</span> <span class="pre">-iFILE</span></tt> could
also be written as <tt class="docutils literal"><span class="pre">-qiFILE</span></tt>.  When this form is used, only
the last option in the list could accept a parameter.</p>
<p class="last">Note that the order and the position of options in the command
line is not fixed.  In particular, an option could preceed
the routine name or follow a routine argument.  Use special
parameter <tt class="docutils literal"><span class="pre">--</span></tt> to indicate that there are no more options
in the list of the remaining parameters.  This is useful when
a routine argument starts with a dash.</p>
</dd>
<dt><tt class="docutils literal"><span class="pre">&lt;arguments&gt;</span></tt></dt>
<dd>A list of parameters of the routine.  The number and the form
of the arguments are routine-specific.</dd>
</dl>
<p><a class="reference internal" href="#htsql_ctl.script.Script" title="htsql_ctl.script.Script"><tt class="xref py py-class docutils literal"><span class="pre">Script</span></tt></a> is the base abstract class implementing a command-line
application with subcommands.  To create a concrete application,
do the following:</p>
<ol class="arabic simple">
<li>Create a subclass of <a class="reference internal" href="#htsql_ctl.script.Script" title="htsql_ctl.script.Script"><tt class="xref py py-class docutils literal"><span class="pre">Script</span></tt></a> overriding the class
attributes <tt class="xref py py-obj docutils literal"><span class="pre">routines</span></tt>, <tt class="xref py py-obj docutils literal"><span class="pre">hint</span></tt>, <tt class="xref py py-obj docutils literal"><span class="pre">help</span></tt>, and <tt class="xref py py-obj docutils literal"><span class="pre">copyright</span></tt>.</li>
<li>The attribute <tt class="xref py py-obj docutils literal"><span class="pre">routines</span></tt> should be a list of
<tt class="xref py py-class docutils literal"><span class="pre">htsql.ctl.routine.Routine</span></tt> subclasses.  Each subclass
implements an application routine.</li>
<li>The attributes  <tt class="xref py py-obj docutils literal"><span class="pre">hint</span></tt>, <tt class="xref py py-obj docutils literal"><span class="pre">help</span></tt>, and <tt class="xref py py-obj docutils literal"><span class="pre">copyright</span></tt> should provide
a short one-line description of the application, a longer
description or the application, and a copyright notice
respectively.  They are displayed when the application is
called without any parameters.</li>
</ol>
<p>The constructor of <a class="reference internal" href="#htsql_ctl.script.Script" title="htsql_ctl.script.Script"><tt class="xref py py-class docutils literal"><span class="pre">Script</span></tt></a> accepts the following arguments:</p>
<dl class="docutils">
<dt><tt class="xref py py-obj docutils literal"><span class="pre">stdin</span></tt></dt>
<dd>A file or a file-like object representing the standard input
stream.</dd>
<dt><tt class="xref py py-obj docutils literal"><span class="pre">stdout</span></tt></dt>
<dd>A file or a file-like object representing the standard output
stream.</dd>
<dt><tt class="xref py py-obj docutils literal"><span class="pre">stderr</span></tt></dt>
<dd>A file or a file-like object representing the standard error
stream.</dd>
</dl>
<dl class="method">
<dt id="htsql_ctl.script.Script.main">
<tt class="descname">main</tt><big>(</big><em>argv</em><big>)</big><a class="headerlink" href="#htsql_ctl.script.Script.main" title="Permalink to this definition">¶</a></dt>
<dd><p>Execute the application.</p>
<dl class="docutils">
<dt><tt class="xref py py-obj docutils literal"><span class="pre">argv</span></tt> (a list of strings)</dt>
<dd>The first element of the list is the path to the application.
The remaining elements of the list are the application
parameters.</dd>
</dl>
<p>Returns an exit status suitable for passing to <tt class="xref py py-func docutils literal"><span class="pre">sys.exit()</span></tt>.
The exit status could be <tt class="xref docutils literal"><span class="pre">None</span></tt>, an integer value, or an exception
object.  Note that when a non-integer value is passed to
<tt class="xref py py-func docutils literal"><span class="pre">sys.exit()</span></tt>, the value is printed and the system exit code
is set to one.</p>
</dd></dl>

<dl class="method">
<dt id="htsql_ctl.script.Script.out">
<tt class="descname">out</tt><big>(</big><em>*values</em>, <em>**options</em><big>)</big><a class="headerlink" href="#htsql_ctl.script.Script.out" title="Permalink to this definition">¶</a></dt>
<dd><p>Print the values to the standard output stream.</p>
<p>Supported options are:</p>
<dl class="docutils">
<dt><tt class="xref py py-obj docutils literal"><span class="pre">sep</span></tt></dt>
<dd>A string to print between values, default is <tt class="docutils literal"><span class="pre">'</span> <span class="pre">'</span></tt>.</dd>
<dt><tt class="xref py py-obj docutils literal"><span class="pre">end</span></tt></dt>
<dd>A string to print after the last value, default is <tt class="docutils literal"><span class="pre">'\n'</span></tt>.</dd>
<dt><tt class="xref py py-obj docutils literal"><span class="pre">file</span></tt></dt>
<dd>A file or a file-like object, default is <tt class="xref py py-obj docutils literal"><span class="pre">stdout</span></tt>.</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="htsql_ctl.script.Script.err">
<tt class="descname">err</tt><big>(</big><em>*values</em>, <em>**options</em><big>)</big><a class="headerlink" href="#htsql_ctl.script.Script.err" title="Permalink to this definition">¶</a></dt>
<dd><p>Print the values to the standard error stream.</p>
<p>Supported options are:</p>
<dl class="docutils">
<dt><tt class="xref py py-obj docutils literal"><span class="pre">sep</span></tt></dt>
<dd>A string to print between values, default is <tt class="docutils literal"><span class="pre">'</span> <span class="pre">'</span></tt>.</dd>
<dt><tt class="xref py py-obj docutils literal"><span class="pre">end</span></tt></dt>
<dd>A string to print after the last value, default is <tt class="docutils literal"><span class="pre">'\n'</span></tt>.</dd>
<dt><tt class="xref py py-obj docutils literal"><span class="pre">file</span></tt></dt>
<dd>A file or a file-like object, default is <tt class="xref py py-obj docutils literal"><span class="pre">stderr</span></tt>.</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="htsql_ctl.script.Script.get_hint">
<tt class="descname">get_hint</tt><big>(</big><big>)</big><a class="headerlink" href="#htsql_ctl.script.Script.get_hint" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a short one-line description of the application.</p>
</dd></dl>

<dl class="method">
<dt id="htsql_ctl.script.Script.get_help">
<tt class="descname">get_help</tt><big>(</big><em>**substitutes</em><big>)</big><a class="headerlink" href="#htsql_ctl.script.Script.get_help" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a long description of the application.</p>
</dd></dl>

<dl class="method">
<dt id="htsql_ctl.script.Script.get_copyright">
<tt class="descname">get_copyright</tt><big>(</big><big>)</big><a class="headerlink" href="#htsql_ctl.script.Script.get_copyright" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a copyright notice.</p>
</dd></dl>

</dd></dl>

</div>
<span class="target" id="module-htsql_ctl.server"></span><div class="section" id="htsql-ctl-server">
<h2><a class="reference internal" href="#module-htsql_ctl.server" title="htsql_ctl.server"><tt class="xref py py-mod docutils literal"><span class="pre">htsql_ctl.server</span></tt></a><a class="headerlink" href="#htsql-ctl-server" title="Permalink to this headline">¶</a></h2>
<p>This module implements the <tt class="xref py py-obj docutils literal"><span class="pre">server</span></tt> routine.</p>
<dl class="class">
<dt id="htsql_ctl.server.ServerRoutine">
<em class="property">class </em><tt class="descclassname">htsql_ctl.server.</tt><tt class="descname">ServerRoutine</tt><big>(</big><em>ctl</em>, <em>attributes</em><big>)</big><a class="headerlink" href="#htsql_ctl.server.ServerRoutine" title="Permalink to this definition">¶</a></dt>
<dd><p>Implements the <tt class="xref py py-obj docutils literal"><span class="pre">server</span></tt> routine.</p>
<p>The routine starts an HTTP server that serves HTSQL requests over
the specified database.</p>
</dd></dl>

</div>
<span class="target" id="module-htsql_ctl.shell"></span><div class="section" id="htsql-ctl-shell">
<h2><a class="reference internal" href="#module-htsql_ctl.shell" title="htsql_ctl.shell"><tt class="xref py py-mod docutils literal"><span class="pre">htsql_ctl.shell</span></tt></a><a class="headerlink" href="#htsql-ctl-shell" title="Permalink to this headline">¶</a></h2>
<p>This module implements the <tt class="xref py py-obj docutils literal"><span class="pre">shell</span></tt> routine.</p>
<dl class="class">
<dt id="htsql_ctl.shell.Cmd">
<em class="property">class </em><tt class="descclassname">htsql_ctl.shell.</tt><tt class="descname">Cmd</tt><big>(</big><em>routine</em>, <em>argument</em><big>)</big><a class="headerlink" href="#htsql_ctl.shell.Cmd" title="Permalink to this definition">¶</a></dt>
<dd><p>Describes a shell command.</p>
<p>This is the base abtract class for all shell commands.  To create
a concrete command, subclass <a class="reference internal" href="#htsql_ctl.shell.Cmd" title="htsql_ctl.shell.Cmd"><tt class="xref py py-class docutils literal"><span class="pre">Cmd</span></tt></a>, declare the command
name and other parameters, and override <a class="reference internal" href="#htsql_ctl.shell.Cmd.execute" title="htsql_ctl.shell.Cmd.execute"><tt class="xref py py-meth docutils literal"><span class="pre">execute()</span></tt></a>.</p>
<p>The following class attributes could be overridden.</p>
<dl class="docutils">
<dt><tt class="xref py py-obj docutils literal"><span class="pre">name</span></tt> (a string)</dt>
<dd>The name of the command.  Name equal to an empty string (<tt class="docutils literal"><span class="pre">''</span></tt>)
means this command is executed when no explicit command name
is provided.  The name must be unique across all commands.</dd>
<dt><tt class="xref py py-obj docutils literal"><span class="pre">aliases</span></tt> (a list of strings)</dt>
<dd>The list of alternative command names.</dd>
<dt><tt class="xref py py-obj docutils literal"><span class="pre">signature</span></tt> (a string or <tt class="xref docutils literal"><span class="pre">None</span></tt>)</dt>
<dd>Declaration of the command name and the arguments.</dd>
<dt><tt class="xref py py-obj docutils literal"><span class="pre">hint</span></tt> (a string or <tt class="xref docutils literal"><span class="pre">None</span></tt>)</dt>
<dd>A short one-line description of the command.</dd>
<dt><tt class="xref py py-obj docutils literal"><span class="pre">help</span></tt> (a string or <tt class="xref docutils literal"><span class="pre">None</span></tt>)</dt>
<dd>A long description of the command.  Keep the line width
at 72 characters.</dd>
</dl>
<p>Instances of <a class="reference internal" href="#htsql_ctl.shell.Cmd" title="htsql_ctl.shell.Cmd"><tt class="xref py py-class docutils literal"><span class="pre">Cmd</span></tt></a> have the following attributes.</p>
<dl class="docutils">
<dt><tt class="xref py py-obj docutils literal"><span class="pre">routine</span></tt> (<a class="reference internal" href="#htsql_ctl.shell.ShellRoutine" title="htsql_ctl.shell.ShellRoutine"><tt class="xref py py-class docutils literal"><span class="pre">ShellRoutine</span></tt></a>)</dt>
<dd>The routine that executed the command.</dd>
<dt><tt class="xref py py-obj docutils literal"><span class="pre">ctl</span></tt> (<tt class="xref py py-class docutils literal"><span class="pre">htsql.ctl.script.Script</span></tt>)</dt>
<dd>The script that started the shell routine.</dd>
<dt><tt class="xref py py-obj docutils literal"><span class="pre">state</span></tt> (<a class="reference internal" href="#htsql_ctl.shell.ShellState" title="htsql_ctl.shell.ShellState"><tt class="xref py py-class docutils literal"><span class="pre">ShellState</span></tt></a>)</dt>
<dd>The shell state.</dd>
<dt><tt class="xref py py-obj docutils literal"><span class="pre">argument</span></tt> (a string)</dt>
<dd>The argument of the command.</dd>
</dl>
<dl class="classmethod">
<dt id="htsql_ctl.shell.Cmd.get_signature">
<em class="property">classmethod </em><tt class="descname">get_signature</tt><big>(</big><big>)</big><a class="headerlink" href="#htsql_ctl.shell.Cmd.get_signature" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an (informal) signature of the command.</p>
</dd></dl>

<dl class="classmethod">
<dt id="htsql_ctl.shell.Cmd.get_hint">
<em class="property">classmethod </em><tt class="descname">get_hint</tt><big>(</big><big>)</big><a class="headerlink" href="#htsql_ctl.shell.Cmd.get_hint" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a short one-line description of the command.</p>
</dd></dl>

<dl class="classmethod">
<dt id="htsql_ctl.shell.Cmd.get_help">
<em class="property">classmethod </em><tt class="descname">get_help</tt><big>(</big><big>)</big><a class="headerlink" href="#htsql_ctl.shell.Cmd.get_help" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a long description of the command.</p>
</dd></dl>

<dl class="method">
<dt id="htsql_ctl.shell.Cmd.execute">
<tt class="descname">execute</tt><big>(</big><big>)</big><a class="headerlink" href="#htsql_ctl.shell.Cmd.execute" title="Permalink to this definition">¶</a></dt>
<dd><p>Executes the command.</p>
<p>The normal return value is <tt class="xref docutils literal"><span class="pre">None</span></tt>; any other value causes
the shell to exit.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="htsql_ctl.shell.HelpCmd">
<em class="property">class </em><tt class="descclassname">htsql_ctl.shell.</tt><tt class="descname">HelpCmd</tt><big>(</big><em>routine</em>, <em>argument</em><big>)</big><a class="headerlink" href="#htsql_ctl.shell.HelpCmd" title="Permalink to this definition">¶</a></dt>
<dd><p>Implements the <tt class="xref py py-obj docutils literal"><span class="pre">help</span></tt> command.</p>
</dd></dl>

<dl class="class">
<dt id="htsql_ctl.shell.ExitCmd">
<em class="property">class </em><tt class="descclassname">htsql_ctl.shell.</tt><tt class="descname">ExitCmd</tt><big>(</big><em>routine</em>, <em>argument</em><big>)</big><a class="headerlink" href="#htsql_ctl.shell.ExitCmd" title="Permalink to this definition">¶</a></dt>
<dd><p>Implements the <tt class="xref py py-obj docutils literal"><span class="pre">exit</span></tt> command.</p>
</dd></dl>

<dl class="class">
<dt id="htsql_ctl.shell.UserCmd">
<em class="property">class </em><tt class="descclassname">htsql_ctl.shell.</tt><tt class="descname">UserCmd</tt><big>(</big><em>routine</em>, <em>argument</em><big>)</big><a class="headerlink" href="#htsql_ctl.shell.UserCmd" title="Permalink to this definition">¶</a></dt>
<dd><p>Implements the <tt class="xref py py-obj docutils literal"><span class="pre">user</span></tt> command.</p>
</dd></dl>

<dl class="class">
<dt id="htsql_ctl.shell.HeadersCmd">
<em class="property">class </em><tt class="descclassname">htsql_ctl.shell.</tt><tt class="descname">HeadersCmd</tt><big>(</big><em>routine</em>, <em>argument</em><big>)</big><a class="headerlink" href="#htsql_ctl.shell.HeadersCmd" title="Permalink to this definition">¶</a></dt>
<dd><p>Implements the <tt class="xref py py-obj docutils literal"><span class="pre">headers</span></tt> command.</p>
</dd></dl>

<dl class="class">
<dt id="htsql_ctl.shell.PagerCmd">
<em class="property">class </em><tt class="descclassname">htsql_ctl.shell.</tt><tt class="descname">PagerCmd</tt><big>(</big><em>routine</em>, <em>argument</em><big>)</big><a class="headerlink" href="#htsql_ctl.shell.PagerCmd" title="Permalink to this definition">¶</a></dt>
<dd><p>Implements the <tt class="xref py py-obj docutils literal"><span class="pre">pager</span></tt> command.</p>
</dd></dl>

<dl class="class">
<dt id="htsql_ctl.shell.GetPostBaseCmd">
<em class="property">class </em><tt class="descclassname">htsql_ctl.shell.</tt><tt class="descname">GetPostBaseCmd</tt><big>(</big><em>routine</em>, <em>argument</em><big>)</big><a class="headerlink" href="#htsql_ctl.shell.GetPostBaseCmd" title="Permalink to this definition">¶</a></dt>
<dd><p>Implements the common methods of <tt class="xref py py-obj docutils literal"><span class="pre">get</span></tt> and <tt class="xref py py-obj docutils literal"><span class="pre">post</span></tt> commands.</p>
</dd></dl>

<dl class="class">
<dt id="htsql_ctl.shell.GetCmd">
<em class="property">class </em><tt class="descclassname">htsql_ctl.shell.</tt><tt class="descname">GetCmd</tt><big>(</big><em>routine</em>, <em>argument</em><big>)</big><a class="headerlink" href="#htsql_ctl.shell.GetCmd" title="Permalink to this definition">¶</a></dt>
<dd><p>Implements the <tt class="xref py py-obj docutils literal"><span class="pre">get</span></tt> command.</p>
</dd></dl>

<dl class="class">
<dt id="htsql_ctl.shell.PostCmd">
<em class="property">class </em><tt class="descclassname">htsql_ctl.shell.</tt><tt class="descname">PostCmd</tt><big>(</big><em>routine</em>, <em>argument</em><big>)</big><a class="headerlink" href="#htsql_ctl.shell.PostCmd" title="Permalink to this definition">¶</a></dt>
<dd><p>Implements the <tt class="xref py py-obj docutils literal"><span class="pre">post</span></tt> command.</p>
</dd></dl>

<dl class="class">
<dt id="htsql_ctl.shell.RunCmd">
<em class="property">class </em><tt class="descclassname">htsql_ctl.shell.</tt><tt class="descname">RunCmd</tt><big>(</big><em>routine</em>, <em>argument</em><big>)</big><a class="headerlink" href="#htsql_ctl.shell.RunCmd" title="Permalink to this definition">¶</a></dt>
<dd><p>Implements the <tt class="xref py py-obj docutils literal"><span class="pre">run</span></tt> command.</p>
</dd></dl>

<dl class="class">
<dt id="htsql_ctl.shell.ShellState">
<em class="property">class </em><tt class="descclassname">htsql_ctl.shell.</tt><tt class="descname">ShellState</tt><big>(</big><em>app=None</em>, <em>with_headers=False</em>, <em>remote_user=None</em>, <em>with_pager=True</em>, <em>completer=None</em>, <em>completer_delims=None</em>, <em>completions=()</em><big>)</big><a class="headerlink" href="#htsql_ctl.shell.ShellState" title="Permalink to this definition">¶</a></dt>
<dd><p>Holds mutable shell parameters.</p>
<dl class="docutils">
<dt><tt class="xref py py-obj docutils literal"><span class="pre">app</span></tt></dt>
<dd>The current HTSQL application.</dd>
<dt><tt class="xref py py-obj docutils literal"><span class="pre">with_headers</span></tt> (Boolean)</dt>
<dd>Indicates whether to display the status line and the headers of
an HTTP response.</dd>
<dt><tt class="xref py py-obj docutils literal"><span class="pre">remote_user</span></tt> (a string or <tt class="xref docutils literal"><span class="pre">None</span></tt>)</dt>
<dd>The WSGI remote user.</dd>
<dt><tt class="xref py py-obj docutils literal"><span class="pre">with_pager</span></tt> (Boolean)</dt>
<dd>Indicates whether the pager is enabled.</dd>
</dl>
</dd></dl>

<dl class="class">
<dt id="htsql_ctl.shell.ShellRoutine">
<em class="property">class </em><tt class="descclassname">htsql_ctl.shell.</tt><tt class="descname">ShellRoutine</tt><big>(</big><em>ctl</em>, <em>attributes</em><big>)</big><a class="headerlink" href="#htsql_ctl.shell.ShellRoutine" title="Permalink to this definition">¶</a></dt>
<dd><p>Implements the <tt class="xref py py-obj docutils literal"><span class="pre">shell</span></tt> routine.</p>
<dl class="classmethod">
<dt id="htsql_ctl.shell.ShellRoutine.get_intro">
<em class="property">classmethod </em><tt class="descname">get_intro</tt><big>(</big><big>)</big><a class="headerlink" href="#htsql_ctl.shell.ShellRoutine.get_intro" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a notice to display when the shell is started.</p>
</dd></dl>

<dl class="classmethod">
<dt id="htsql_ctl.shell.ShellRoutine.get_usage">
<em class="property">classmethod </em><tt class="descname">get_usage</tt><big>(</big><big>)</big><a class="headerlink" href="#htsql_ctl.shell.ShellRoutine.get_usage" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the shell description used by the <tt class="xref py py-obj docutils literal"><span class="pre">help</span></tt> command.</p>
</dd></dl>

<dl class="classmethod">
<dt id="htsql_ctl.shell.ShellRoutine.get_help">
<em class="property">classmethod </em><tt class="descname">get_help</tt><big>(</big><em>**substitutes</em><big>)</big><a class="headerlink" href="#htsql_ctl.shell.ShellRoutine.get_help" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a long description of the routine.</p>
</dd></dl>

<dl class="classmethod">
<dt id="htsql_ctl.shell.ShellRoutine.get_feature">
<em class="property">classmethod </em><tt class="descname">get_feature</tt><big>(</big><em>name</em><big>)</big><a class="headerlink" href="#htsql_ctl.shell.ShellRoutine.get_feature" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the shell command by name.</p>
</dd></dl>

</dd></dl>

</div>
<span class="target" id="module-htsql_ctl.version"></span><div class="section" id="htsql-ctl-version">
<h2><a class="reference internal" href="#module-htsql_ctl.version" title="htsql_ctl.version"><tt class="xref py py-mod docutils literal"><span class="pre">htsql_ctl.version</span></tt></a><a class="headerlink" href="#htsql-ctl-version" title="Permalink to this headline">¶</a></h2>
<p>This module implements the <tt class="xref py py-obj docutils literal"><span class="pre">version</span></tt> routine.</p>
<dl class="class">
<dt id="htsql_ctl.version.VersionRoutine">
<em class="property">class </em><tt class="descclassname">htsql_ctl.version.</tt><tt class="descname">VersionRoutine</tt><big>(</big><em>ctl</em>, <em>attributes</em><big>)</big><a class="headerlink" href="#htsql_ctl.version.VersionRoutine" title="Permalink to this definition">¶</a></dt>
<dd><p>Implements the <tt class="xref py py-obj docutils literal"><span class="pre">version</span></tt> routine.</p>
<p>The routine displays the version of the <a class="reference internal" href="htsql.html#module-htsql" title="htsql"><tt class="xref py py-mod docutils literal"><span class="pre">htsql</span></tt></a> package.</p>
</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">The <tt class="docutils literal"><span class="pre">htsql_ctl</span></tt> package</a><ul>
<li><a class="reference internal" href="#htsql-ctl"><tt class="docutils literal"><span class="pre">htsql_ctl</span></tt></a></li>
<li><a class="reference internal" href="#htsql-ctl-default"><tt class="docutils literal"><span class="pre">htsql_ctl.default</span></tt></a></li>
<li><a class="reference internal" href="#htsql-ctl-error"><tt class="docutils literal"><span class="pre">htsql_ctl.error</span></tt></a></li>
<li><a class="reference internal" href="#htsql-ctl-extension"><tt class="docutils literal"><span class="pre">htsql_ctl.extension</span></tt></a></li>
<li><a class="reference internal" href="#htsql-ctl-help"><tt class="docutils literal"><span class="pre">htsql_ctl.help</span></tt></a></li>
<li><a class="reference internal" href="#htsql-ctl-option"><tt class="docutils literal"><span class="pre">htsql_ctl.option</span></tt></a></li>
<li><a class="reference internal" href="#htsql-ctl-regress"><tt class="docutils literal"><span class="pre">htsql_ctl.regress</span></tt></a></li>
<li><a class="reference internal" href="#htsql-ctl-request"><tt class="docutils literal"><span class="pre">htsql_ctl.request</span></tt></a></li>
<li><a class="reference internal" href="#htsql-ctl-routine"><tt class="docutils literal"><span class="pre">htsql_ctl.routine</span></tt></a></li>
<li><a class="reference internal" href="#htsql-ctl-script"><tt class="docutils literal"><span class="pre">htsql_ctl.script</span></tt></a></li>
<li><a class="reference internal" href="#htsql-ctl-server"><tt class="docutils literal"><span class="pre">htsql_ctl.server</span></tt></a></li>
<li><a class="reference internal" href="#htsql-ctl-shell"><tt class="docutils literal"><span class="pre">htsql_ctl.shell</span></tt></a></li>
<li><a class="reference internal" href="#htsql-ctl-version"><tt class="docutils literal"><span class="pre">htsql_ctl.version</span></tt></a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="htsql.tr.fn.html"
                        title="previous chapter">The <tt class="docutils literal docutils literal docutils literal"><span class="pre">htsql.tr.fn</span></tt> package</a></p>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" size="18" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="htsql.tr.fn.html" title="The htsql.tr.fn package"
             >previous</a> |</li>
        <li><a href="../index.html">HTSQL v2.2.0c1 documentation</a> &raquo;</li>
          <li><a href="../api.html" >HTSQL API</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2006-2011 Prometheus Reserch, LLC; written by Clark C. Evans and Kirill Simonov.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.0.7.
    </div>
  </body>
</html>