[migrate_props]
parts =
    dump_siteprops
    copy_siteprops
    load_siteprops
    dump_plone_props
    copy_plone_props
    load_plone_props

[dump_siteprops]
recipe = collective.migrator:ext_method
source = scripts/props.py
func = dump_props
args = obj
obj = portal_properties__site_properties
output = siteprops.txt
instance = remote

[copy_siteprops]
recipe = collective.migrator:copy_file
files = siteprops.txt
source = local
target = local
source_dir = ${buildout:directory}
target_dir = ${local:extensions}/props.txt

[load_siteprops]
recipe = collective.migrator:ext_method
source = scripts/props.py
func = load_props
args = obj
obj = portal_properties__site_properties
output = load_siteprops.out
instance = local

[dump_plone_props]
recipe = collective.migrator:ext_method
source = scripts/props.py
func = dump_props
output = plone_props.txt
instance = remote


[copy_plone_props]
recipe = collective.migrator:copy_file
files = plone_props.txt
source = local
target = local
source_dir = ${buildout:directory}
target_dir = ${local:extensions}/props.txt

[load_plone_props]
recipe = collective.migrator:ext_method
source = scripts/props.py
func = load_props
output = plone_props.out
instance = local
