(function(b){b.widget("ui.combobox",{options:{onChange:null},_create:function(){var a=this,c=this.element.hide(),g=c.children(":selected");g=g.val()?g.text():"";this.select=c;c.attr("id");var f=b("<input>").insertAfter(c).val(g).autocomplete({delay:0,minLength:0,source:function(e,d){var i=RegExp(b.ui.autocomplete.escapeRegex(e.term),"i");d(c.children("option").map(function(){var h=b(this).text();if(this.value&&(!e.term||i.test(h)))return{label:h.replace(RegExp("(?![^&;]+;)(?!<[^<>]*)("+b.ui.autocomplete.escapeRegex(e.term)+
")(?![^<>]*>)(?![^&;]+;)","gi"),"<strong>$1</strong>"),value:h,option:this}}))},select:function(e,d){d.item.option.selected=true;a._trigger("selected",e,{item:d.item.option})},change:function(e,d){if(d.item!=null){var i=RegExp("^"+b.ui.autocomplete.escapeRegex(b(this).val())+"$","i"),h=false;c.children("option").each(function(){if(this.value.match(i)||this.text.match(i)){this.selected=h=true;return false}});if(!h){b(this).val("");c.val("");return false}a.changed()}}}).blur(function(){}).addClass("ui-widget ui-widget-content ui-corner-left");
f.data("autocomplete")._renderItem=function(e,d){return b("<li></li>").data("item.autocomplete",d).append("<a>"+d.label+"</a>").appendTo(e)};this.input=f;b("<button>&nbsp;</button>").css("min-height","2em").attr("tabIndex",-1).attr("title","Show All Items").insertAfter(f).button({icons:{primary:"ui-icon-triangle-1-s"},text:false}).removeClass("ui-corner-all").addClass("ui-corner-right ui-button-icon").click(function(){if(f.autocomplete("widget").is(":visible")){f.autocomplete("close");return false}f.autocomplete("search",
"");f.autocomplete("widget").css("z-index","1010 !important");f.focus();return false})},set:function(a){if(!a)return false;var c=this.select,g=this.input;this.select.children("option").each(function(){if(this.text==a){g.val(this.text);c.val(this.value);return false}})},set_empty:function(a){if(this.input.val()==""||this.input.val()=="---------")this.set(a)},initial:function(a){a||(a="");this.input.val(a)},value:function(){return this.input.val()},changed:function(){this.options.onChange&&this.options.onChange(this)},
widget:function(){return this.input},button:function(){return this.input.next()}})})(jQuery);
