# $Id: production.ini 87b7d52fda37 2012/02/23 17:08:44 patrick $

# =============================================================================
[server:main]
use = egg:Paste#http
host = 127.0.0.1
port = %(http_port)s
#numthreads = 10
#timeout = 180
#request_queue_size = 200


# =============================================================================
[pipeline:main]
pipeline =
    egg:PasteDeploy#prefix
    weberror
    PubliForge


# =============================================================================
[filter:weberror]
use = egg:WebError#error_catcher
debug = false
#error_email = support@prismallia.fr
#from_address = paster@prismallia.fr


# =============================================================================
[app:PubliForge]
use = egg:PubliForge

# --- Debug mode off
pyramid.reload_templates = false
pyramid.debug_authorization = false
pyramid.debug_notfound = false
pyramid.debug_routematch = false
pyramid.debug_templates = false

# --- Languages
pyramid.default_locale_name = en
available_languages = fr en
#translation_dirs =

# --- Instance unique identifier
uid = pfinstance

# --- Builds
build.root = %(here)s/Builds
#build.ttl = 1800
#build.result_ttl = 86400
#build.concurrent = 3

# ------------------------------ Front

# --- Skin
#skin.title =
#skin.static.name =
#skin.static.path =
#skin.favicon =
#skin.css.base =
#skin.css.login =
#skin.css.custom =
#skin.template.base =
#skin.template.login =

# --- Temporary directory
temporary_dir = %(here)s/Cache/tmp

# --- Beaker cache
#cache.type = file
#cache.data_dir = %(here)s/Cache/cache/data
#cache.lock_dir = %(here)s/Cache/cache/lock

# --- Beaker session
#session.type = file
#session.data_dir = %(here)s/Cache/sessions/data
#session.lock_dir = %(here)s/Cache/sessions/lock
session.key = PF_SESSION
session.secret = secretkey

# --- SQLAlchemy
# ... PostgreSQL
sqlalchemy.url = postgresql://publiforge:sesame@localhost/PFInstance
#sqlalchemy.pool_size = 5
#sqlalchemy.max_overflow = 10
#sqlalchemy.pool_timeout = 30
# ... MySQL
#sqlalchemy.url = mysql://publiforge:sesame@localhost/PFInstance?charset=utf8
#sqlalchemy.pool_recycle = 3600

# --- Authentication
auth.key = secretkey
#auth.remember = 5184000
#auth.cookie = PF_AUTH

# --- Refresh
#refresh.short = 3
#refresh.long = 8

# --- Storages
storage.root = %(here)s/Storages
storage.available_vcs = none local hg
#storage.report_ttl = 12
#storage.cache = 3600

# --- Available agents
#agent.refresh = 0
agent.0.weight = 1
agent.0.password = sesame
agent.1.url = http://devel.publiforge.org
agent.1.weight = 2
agent.1.password = sesame

# ------------------------------ Agent

# --- Processors
processor.roots = %(here)s/Processors
processor.available = Fix* Publidoc2* Publiquiz2* Ini2*

# --- Buildspaces
buildspace.root = %(here)s/Buildspaces
#buildspace.ttl = 2678400

# --- Authorized fronts
front.0.uid = pfinstance
front.0.password = sesame
front.1.uid = devfront
front.1.password = sesame


# =============================================================================
[Populate]
admin.login = admin
admin.password = adminpwd
admin.name = Administrateur
admin.email = admin@prismallia.fr
admin.language = fr


# =============================================================================
# Begin logging configuration

[loggers]
keys = root, publiforge, sqlalchemy

[handlers]
keys = console

[formatters]
keys = generic

[logger_root]
level = WARN
handlers = console

[logger_publiforge]
level = WARN
handlers =
qualname = publiforge

[logger_sqlalchemy]
level = WARN
handlers =
qualname = sqlalchemy.engine
# "level = INFO" logs SQL queries.
# "level = DEBUG" logs SQL queries and results.
# "level = WARN" logs neither.  (Recommended for production systems.)

[handler_console]
class = StreamHandler
args = (sys.stderr,)
level = NOTSET
formatter = generic

[formatter_generic]
format = %(asctime)s %(levelname)-5.5s [%(name)s][%(threadName)s] %(message)s

# End logging configuration
