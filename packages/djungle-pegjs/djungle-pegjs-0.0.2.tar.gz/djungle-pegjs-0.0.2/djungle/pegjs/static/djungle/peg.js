/*
 * PEG.js 0.7.0
 *
 * http://pegjs.majda.cz/
 *
 * Copyright (c) 2010-2012 David Majda
 * Licensend under the MIT license.
 */var PEG=function(undefined){function range(e,t){t===undefined&&(t=e,e=0);var n=new Array(Math.max(0,t-e));for(var r=0,i=e;i<t;r++,i++)n[r]=i;return n}function find(e,t){var n=e.length;for(var r=0;r<n;r++)if(t(e[r]))return e[r]}function contains(e,t){var n=e.length;for(var r=0;r<n;r++)if(e[r]===t)return!0;return!1}function each(e,t){var n=e.length;for(var r=0;r<n;r++)t(e[r],r)}function map(e,t){var n=[],r=e.length;for(var i=0;i<r;i++)n[i]=t(e[i],i);return n}function pluck(e,t){return map(e,function(e){return e[t]})}function keys(e){var t=[];for(var n in e)t.push(n);return t}function values(e){var t=[];for(var n in e)t.push(e[n]);return t}function padLeft(e,t,n){var r=e,i=n-e.length;for(var s=0;s<i;s++)r=t+r;return r}function escape(e){var t=e.charCodeAt(0),n,r;return t<=255?(n="x",r=2):(n="u",r=4),"\\"+n+padLeft(t.toString(16).toUpperCase(),"0",r)}function quote(e){return'"'+e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E-\x1F\x80-\uFFFF]/g,escape)+'"'}function quoteForRegexpClass(e){return e.replace(/\\/g,"\\\\").replace(/\//g,"\\/").replace(/\]/g,"\\]").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\v/g,"\\x0B").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x01-\x08\x0E-\x1F\x80-\uFFFF]/g,escape)}function buildNodeVisitor(e){return function(t){return e[t.type].apply(null,arguments)}}function findRuleByName(e,t){return find(e.rules,function(e){return e.name===t})}var PEG={VERSION:"0.7.0",buildParser:function(e,t){return PEG.compiler.compile(PEG.parser.parse(e),t)}};return PEG.GrammarError=function(e){this.name="PEG.GrammarError",this.message=e},PEG.GrammarError.prototype=Error.prototype,PEG.parser=function(){function e(e){return'"'+e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E-\x1F\x80-\uFFFF]/g,escape)+'"'}var t={parse:function(t,n){function a(e,t,n){var r=e,i=n-e.length;for(var s=0;s<i;s++)r=t+r;return r}function f(e){var t=e.charCodeAt(0),n,r;return t<=255?(n="x",r=2):(n="u",r=4),"\\"+n+a(t.toString(16).toUpperCase(),"0",r)}function l(e){if(i<o)return;i>o&&(o=i,u=[]),u.push(e)}function c(){var e,t,n,r,s,o;s=i,o=i,e=ot();if(e!==null){t=h(),t=t!==null?t:"";if(t!==null){r=p();if(r!==null){n=[];while(r!==null)n.push(r),r=p()}else n=null;n!==null?e=[e,t,n]:(e=null,i=o)}else e=null,i=o}else e=null,i=o;return e!==null&&(e=function(e,t,n){return{type:"grammar",initializer:t!==""?t:null,rules:n,startRule:n[0].name}}(s,e[1],e[2])),e===null&&(i=s),e}function h(){var e,t,n,r;return n=i,r=i,e=w(),e!==null?(t=C(),t=t!==null?t:"",t!==null?e=[e,t]:(e=null,i=r)):(e=null,i=r),e!==null&&(e=function(e,t){return{type:"initializer",code:t}}(n,e[0])),e===null&&(i=n),e}function p(){var e,t,n,r,s,o,u;return o=i,u=i,e=B(),e!==null?(t=F(),t=t!==null?t:"",t!==null?(n=T(),n!==null?(r=d(),r!==null?(s=C(),s=s!==null?s:"",s!==null?e=[e,t,n,r,s]:(e=null,i=u)):(e=null,i=u)):(e=null,i=u)):(e=null,i=u)):(e=null,i=u),e!==null&&(e=function(e,t,n,r){return{type:"rule",name:t,expression:n!==""?{type:"named",name:n,expression:r}:r}}(o,e[0],e[1],e[3])),e===null&&(i=o),e}function d(){var e,t,n,r,s,o,u;s=i,o=i,e=v();if(e!==null){t=[],u=i,n=k(),n!==null?(r=v(),r!==null?n=[n,r]:(n=null,i=u)):(n=null,i=u);while(n!==null)t.push(n),u=i,n=k(),n!==null?(r=v(),r!==null?n=[n,r]:(n=null,i=u)):(n=null,i=u);t!==null?e=[e,t]:(e=null,i=o)}else e=null,i=o;return e!==null&&(e=function(e,t,n){if(n.length>0){var r=[t].concat(map(n,function(e){return e[1]}));return{type:"choice",alternatives:r}}return t}(s,e[0],e[1])),e===null&&(i=s),e}function v(){var e,t,n,r;n=i,r=i,e=[],t=m();while(t!==null)e.push(t),t=m();e!==null?(t=w(),t!==null?e=[e,t]:(e=null,i=r)):(e=null,i=r),e!==null&&(e=function(e,t,n){var r=t.length!==1?{type:"sequence",elements:t}:t[0];return{type:"action",expression:r,code:n}}(n,e[0],e[1])),e===null&&(i=n);if(e===null){n=i,e=[],t=m();while(t!==null)e.push(t),t=m();e!==null&&(e=function(e,t){return t.length!==1?{type:"sequence",elements:t}:t[0]}(n,e)),e===null&&(i=n)}return e}function m(){var e,t,n,r,s;return r=i,s=i,e=B(),e!==null?(t=N(),t!==null?(n=g(),n!==null?e=[e,t,n]:(e=null,i=s)):(e=null,i=s)):(e=null,i=s),e!==null&&(e=function(e,t,n){return{type:"labeled",label:t,expression:n}}(r,e[0],e[2])),e===null&&(i=r),e===null&&(e=g()),e}function g(){var e,t,n,r;return n=i,r=i,e=L(),e!==null?(t=w(),t!==null?e=[e,t]:(e=null,i=r)):(e=null,i=r),e!==null&&(e=function(e,t){return{type:"semantic_and",code:t}}(n,e[1])),e===null&&(i=n),e===null&&(n=i,r=i,e=L(),e!==null?(t=y(),t!==null?e=[e,t]:(e=null,i=r)):(e=null,i=r),e!==null&&(e=function(e,t){return{type:"simple_and",expression:t}}(n,e[1])),e===null&&(i=n),e===null&&(n=i,r=i,e=A(),e!==null?(t=w(),t!==null?e=[e,t]:(e=null,i=r)):(e=null,i=r),e!==null&&(e=function(e,t){return{type:"semantic_not",code:t}}(n,e[1])),e===null&&(i=n),e===null&&(n=i,r=i,e=A(),e!==null?(t=y(),t!==null?e=[e,t]:(e=null,i=r)):(e=null,i=r),e!==null&&(e=function(e,t){return{type:"simple_not",expression:t}}(n,e[1])),e===null&&(i=n),e===null&&(e=y())))),e}function y(){var e,t,n,r;return n=i,r=i,e=b(),e!==null?(t=O(),t!==null?e=[e,t]:(e=null,i=r)):(e=null,i=r),e!==null&&(e=function(e,t){return{type:"optional",expression:t}}(n,e[0])),e===null&&(i=n),e===null&&(n=i,r=i,e=b(),e!==null?(t=M(),t!==null?e=[e,t]:(e=null,i=r)):(e=null,i=r),e!==null&&(e=function(e,t){return{type:"zero_or_more",expression:t}}(n,e[0])),e===null&&(i=n),e===null&&(n=i,r=i,e=b(),e!==null?(t=_(),t!==null?e=[e,t]:(e=null,i=r)):(e=null,i=r),e!==null&&(e=function(e,t){return{type:"one_or_more",expression:t}}(n,e[0])),e===null&&(i=n),e===null&&(e=b()))),e}function b(){var e,t,n,r,o,u,a;return r=i,o=i,e=B(),e!==null?(u=i,s++,a=i,t=F(),t=t!==null?t:"",t!==null?(n=T(),n!==null?t=[t,n]:(t=null,i=a)):(t=null,i=a),s--,t===null?t="":(t=null,i=u),t!==null?e=[e,t]:(e=null,i=o)):(e=null,i=o),e!==null&&(e=function(e,t){return{type:"rule_ref",name:t}}(r,e[0])),e===null&&(i=r),e===null&&(e=j(),e===null&&(e=X(),e===null&&(r=i,e=H(),e!==null&&(e=function(e){return{type:"any"}}(r)),e===null&&(i=r),e===null&&(r=i,o=i,e=D(),e!==null?(t=d(),t!==null?(n=P(),n!==null?e=[e,t,n]:(e=null,i=o)):(e=null,i=o)):(e=null,i=o),e!==null&&(e=function(e,t){return t}(r,e[1])),e===null&&(i=r))))),e}function w(){var e,t,n,r;return s++,n=i,r=i,e=E(),e!==null?(t=ot(),t!==null?e=[e,t]:(e=null,i=r)):(e=null,i=r),e!==null&&(e=function(e,t){return t.substr(1,t.length-2)}(n,e[0])),e===null&&(i=n),s--,s===0&&e===null&&l("action"),e}function E(){var e,n,r,o,u;o=i,u=i,t.charCodeAt(i)===123?(e="{",i++):(e=null,s===0&&l('"{"'));if(e!==null){n=[],r=E(),r===null&&(r=S());while(r!==null)n.push(r),r=E(),r===null&&(r=S());n!==null?(t.charCodeAt(i)===125?(r="}",i++):(r=null,s===0&&l('"}"')),r!==null?e=[e,n,r]:(e=null,i=u)):(e=null,i=u)}else e=null,i=u;return e!==null&&(e=function(e,t){return"{"+t.join("")+"}"}(o,e[1])),e===null&&(i=o),e}function S(){var e,t,n;n=i,t=x();if(t!==null){e=[];while(t!==null)e.push(t),t=x()}else e=null;return e!==null&&(e=function(e,t){return t.join("")}(n,e)),e===null&&(i=n),e}function x(){var e;return/^[^{}]/.test(t.charAt(i))?(e=t.charAt(i),i++):(e=null,s===0&&l("[^{}]")),e}function T(){var e,n,r,o;return r=i,o=i,t.charCodeAt(i)===61?(e="=",i++):(e=null,s===0&&l('"="')),e!==null?(n=ot(),n!==null?e=[e,n]:(e=null,i=o)):(e=null,i=o),e!==null&&(e=function(e){return"="}(r)),e===null&&(i=r),e}function N(){var e,n,r,o;return r=i,o=i,t.charCodeAt(i)===58?(e=":",i++):(e=null,s===0&&l('":"')),e!==null?(n=ot(),n!==null?e=[e,n]:(e=null,i=o)):(e=null,i=o),e!==null&&(e=function(e){return":"}(r)),e===null&&(i=r),e}function C(){var e,n,r,o;return r=i,o=i,t.charCodeAt(i)===59?(e=";",i++):(e=null,s===0&&l('";"')),e!==null?(n=ot(),n!==null?e=[e,n]:(e=null,i=o)):(e=null,i=o),e!==null&&(e=function(e){return";"}(r)),e===null&&(i=r),e}function k(){var e,n,r,o;return r=i,o=i,t.charCodeAt(i)===47?(e="/",i++):(e=null,s===0&&l('"/"')),e!==null?(n=ot(),n!==null?e=[e,n]:(e=null,i=o)):(e=null,i=o),e!==null&&(e=function(e){return"/"}(r)),e===null&&(i=r),e}function L(){var e,n,r,o;return r=i,o=i,t.charCodeAt(i)===38?(e="&",i++):(e=null,s===0&&l('"&"')),e!==null?(n=ot(),n!==null?e=[e,n]:(e=null,i=o)):(e=null,i=o),e!==null&&(e=function(e){return"&"}(r)),e===null&&(i=r),e}function A(){var e,n,r,o;return r=i,o=i,t.charCodeAt(i)===33?(e="!",i++):(e=null,s===0&&l('"!"')),e!==null?(n=ot(),n!==null?e=[e,n]:(e=null,i=o)):(e=null,i=o),e!==null&&(e=function(e){return"!"}(r)),e===null&&(i=r),e}function O(){var e,n,r,o;return r=i,o=i,t.charCodeAt(i)===63?(e="?",i++):(e=null,s===0&&l('"?"')),e!==null?(n=ot(),n!==null?e=[e,n]:(e=null,i=o)):(e=null,i=o),e!==null&&(e=function(e){return"?"}(r)),e===null&&(i=r),e}function M(){var e,n,r,o;return r=i,o=i,t.charCodeAt(i)===42?(e="*",i++):(e=null,s===0&&l('"*"')),e!==null?(n=ot(),n!==null?e=[e,n]:(e=null,i=o)):(e=null,i=o),e!==null&&(e=function(e){return"*"}(r)),e===null&&(i=r),e}function _(){var e,n,r,o;return r=i,o=i,t.charCodeAt(i)===43?(e="+",i++):(e=null,s===0&&l('"+"')),e!==null?(n=ot(),n!==null?e=[e,n]:(e=null,i=o)):(e=null,i=o),e!==null&&(e=function(e){return"+"}(r)),e===null&&(i=r),e}function D(){var e,n,r,o;return r=i,o=i,t.charCodeAt(i)===40?(e="(",i++):(e=null,s===0&&l('"("')),e!==null?(n=ot(),n!==null?e=[e,n]:(e=null,i=o)):(e=null,i=o),e!==null&&(e=function(e){return"("}(r)),e===null&&(i=r),e}function P(){var e,n,r,o;return r=i,o=i,t.charCodeAt(i)===41?(e=")",i++):(e=null,s===0&&l('")"')),e!==null?(n=ot(),n!==null?e=[e,n]:(e=null,i=o)):(e=null,i=o),e!==null&&(e=function(e){return")"}(r)),e===null&&(i=r),e}function H(){var e,n,r,o;return r=i,o=i,t.charCodeAt(i)===46?(e=".",i++):(e=null,s===0&&l('"."')),e!==null?(n=ot(),n!==null?e=[e,n]:(e=null,i=o)):(e=null,i=o),e!==null&&(e=function(e){return"."}(r)),e===null&&(i=r),e}function B(){var e,n,r,o,u;s++,o=i,u=i,e=rt(),e===null&&(t.charCodeAt(i)===95?(e="_",i++):(e=null,s===0&&l('"_"')),e===null&&(t.charCodeAt(i)===36?(e="$",i++):(e=null,s===0&&l('"$"'))));if(e!==null){n=[],r=rt(),r===null&&(r=tt(),r===null&&(t.charCodeAt(i)===95?(r="_",i++):(r=null,s===0&&l('"_"')),r===null&&(t.charCodeAt(i)===36?(r="$",i++):(r=null,s===0&&l('"$"')))));while(r!==null)n.push(r),r=rt(),r===null&&(r=tt(),r===null&&(t.charCodeAt(i)===95?(r="_",i++):(r=null,s===0&&l('"_"')),r===null&&(t.charCodeAt(i)===36?(r="$",i++):(r=null,s===0&&l('"$"')))));n!==null?(r=ot(),r!==null?e=[e,n,r]:(e=null,i=u)):(e=null,i=u)}else e=null,i=u;return e!==null&&(e=function(e,t,n){return t+n.join("")}(o,e[0],e[1])),e===null&&(i=o),s--,s===0&&e===null&&l("identifier"),e}function j(){var e,n,r,o,u;return s++,o=i,u=i,e=I(),e===null&&(e=U()),e!==null?(t.charCodeAt(i)===105?(n="i",i++):(n=null,s===0&&l('"i"')),n=n!==null?n:"",n!==null?(r=ot(),r!==null?e=[e,n,r]:(e=null,i=u)):(e=null,i=u)):(e=null,i=u),e!==null&&(e=function(e,t,n){return{type:"literal",value:t,ignoreCase:n==="i"}}(o,e[0],e[1])),e===null&&(i=o),s--,s===0&&e===null&&l("literal"),e}function F(){var e,t,n,r;return s++,n=i,r=i,e=I(),e===null&&(e=U()),e!==null?(t=ot(),t!==null?e=[e,t]:(e=null,i=r)):(e=null,i=r),e!==null&&(e=function(e,t){return t}(n,e[0])),e===null&&(i=n),s--,s===0&&e===null&&l("string"),e}function I(){var e,n,r,o,u;o=i,u=i,t.charCodeAt(i)===34?(e='"',i++):(e=null,s===0&&l('"\\""'));if(e!==null){n=[],r=q();while(r!==null)n.push(r),r=q();n!==null?(t.charCodeAt(i)===34?(r='"',i++):(r=null,s===0&&l('"\\""')),r!==null?e=[e,n,r]:(e=null,i=u)):(e=null,i=u)}else e=null,i=u;return e!==null&&(e=function(e,t){return t.join("")}(o,e[1])),e===null&&(i=o),e}function q(){var e;return e=R(),e===null&&(e=Q(),e===null&&(e=G(),e===null&&(e=Y(),e===null&&(e=Z(),e===null&&(e=et()))))),e}function R(){var e,n,r,o,u;return r=i,o=i,u=i,s++,t.charCodeAt(i)===34?(e='"',i++):(e=null,s===0&&l('"\\""')),e===null&&(t.charCodeAt(i)===92?(e="\\",i++):(e=null,s===0&&l('"\\\\"')),e===null&&(e=ct())),s--,e===null?e="":(e=null,i=u),e!==null?(t.length>i?(n=t.charAt(i),i++):(n=null,s===0&&l("any character")),n!==null?e=[e,n]:(e=null,i=o)):(e=null,i=o),e!==null&&(e=function(e,t){return t}(r,e[1])),e===null&&(i=r),e}function U(){var e,n,r,o,u;o=i,u=i,t.charCodeAt(i)===39?(e="'",i++):(e=null,s===0&&l('"\'"'));if(e!==null){n=[],r=z();while(r!==null)n.push(r),r=z();n!==null?(t.charCodeAt(i)===39?(r="'",i++):(r=null,s===0&&l('"\'"')),r!==null?e=[e,n,r]:(e=null,i=u)):(e=null,i=u)}else e=null,i=u;return e!==null&&(e=function(e,t){return t.join("")}(o,e[1])),e===null&&(i=o),e}function z(){var e;return e=W(),e===null&&(e=Q(),e===null&&(e=G(),e===null&&(e=Y(),e===null&&(e=Z(),e===null&&(e=et()))))),e}function W(){var e,n,r,o,u;return r=i,o=i,u=i,s++,t.charCodeAt(i)===39?(e="'",i++):(e=null,s===0&&l('"\'"')),e===null&&(t.charCodeAt(i)===92?(e="\\",i++):(e=null,s===0&&l('"\\\\"')),e===null&&(e=ct())),s--,e===null?e="":(e=null,i=u),e!==null?(t.length>i?(n=t.charAt(i),i++):(n=null,s===0&&l("any character")),n!==null?e=[e,n]:(e=null,i=o)):(e=null,i=o),e!==null&&(e=function(e,t){return t}(r,e[1])),e===null&&(i=r),e}function X(){var e,n,r,o,u,a,f,c;s++,f=i,c=i,t.charCodeAt(i)===91?(e="[",i++):(e=null,s===0&&l('"["'));if(e!==null){t.charCodeAt(i)===94?(n="^",i++):(n=null,s===0&&l('"^"')),n=n!==null?n:"";if(n!==null){r=[],o=V(),o===null&&(o=$());while(o!==null)r.push(o),o=V(),o===null&&(o=$());r!==null?(t.charCodeAt(i)===93?(o="]",i++):(o=null,s===0&&l('"]"')),o!==null?(t.charCodeAt(i)===105?(u="i",i++):(u=null,s===0&&l('"i"')),u=u!==null?u:"",u!==null?(a=ot(),a!==null?e=[e,n,r,o,u,a]:(e=null,i=c)):(e=null,i=c)):(e=null,i=c)):(e=null,i=c)}else e=null,i=c}else e=null,i=c;return e!==null&&(e=function(e,t,n,r){var i=map(n,function(e){return e.data}),s="["+t+map(n,function(e){return e.rawText}).join("")+"]"+r;return{type:"class",parts:i,rawText:s,inverted:t==="^",ignoreCase:r==="i"}}(f,e[1],e[2],e[4])),e===null&&(i=f),s--,s===0&&e===null&&l("character class"),e}function V(){var e,n,r,o,u;return o=i,u=i,e=$(),e!==null?(t.charCodeAt(i)===45?(n="-",i++):(n=null,s===0&&l('"-"')),n!==null?(r=$(),r!==null?e=[e,n,r]:(e=null,i=u)):(e=null,i=u)):(e=null,i=u),e!==null&&(e=function(e,t,n){if(t.data.charCodeAt(0)>n.data.charCodeAt(0))throw new this.SyntaxError("Invalid character range: "+t.rawText+"-"+n.rawText+".");return{data:[t.data,n.data],rawText:t.rawText+"-"+n.rawText}}(o,e[0],e[2])),e===null&&(i=o),e}function $(){var e,t;return t=i,e=J(),e!==null&&(e=function(e,t){return{data:t,rawText:quoteForRegexpClass(t)}}(t,e)),e===null&&(i=t),e}function J(){var e;return e=K(),e===null&&(e=Q(),e===null&&(e=G(),e===null&&(e=Y(),e===null&&(e=Z(),e===null&&(e=et()))))),e}function K(){var e,n,r,o,u;return r=i,o=i,u=i,s++,t.charCodeAt(i)===93?(e="]",i++):(e=null,s===0&&l('"]"')),e===null&&(t.charCodeAt(i)===92?(e="\\",i++):(e=null,s===0&&l('"\\\\"')),e===null&&(e=ct())),s--,e===null?e="":(e=null,i=u),e!==null?(t.length>i?(n=t.charAt(i),i++):(n=null,s===0&&l("any character")),n!==null?e=[e,n]:(e=null,i=o)):(e=null,i=o),e!==null&&(e=function(e,t){return t}(r,e[1])),e===null&&(i=r),e}function Q(){var e,n,r,o,u,a;return o=i,u=i,t.charCodeAt(i)===92?(e="\\",i++):(e=null,s===0&&l('"\\\\"')),e!==null?(a=i,s++,n=tt(),n===null&&(t.charCodeAt(i)===120?(n="x",i++):(n=null,s===0&&l('"x"')),n===null&&(t.charCodeAt(i)===117?(n="u",i++):(n=null,s===0&&l('"u"')),n===null&&(n=ct()))),s--,n===null?n="":(n=null,i=a),n!==null?(t.length>i?(r=t.charAt(i),i++):(r=null,s===0&&l("any character")),r!==null?e=[e,n,r]:(e=null,i=u)):(e=null,i=u)):(e=null,i=u),e!==null&&(e=function(e,t){return t.replace("b","\b").replace("f","\f").replace("n","\n").replace("r","\r").replace("t","	").replace("v","")}(o,e[2])),e===null&&(i=o),e}function G(){var e,n,r,o,u;return r=i,o=i,t.substr(i,2)==="\\0"?(e="\\0",i+=2):(e=null,s===0&&l('"\\\\0"')),e!==null?(u=i,s++,n=tt(),s--,n===null?n="":(n=null,i=u),n!==null?e=[e,n]:(e=null,i=o)):(e=null,i=o),e!==null&&(e=function(e){return"\0"}(r)),e===null&&(i=r),e}function Y(){var e,n,r,o,u;return o=i,u=i,t.substr(i,2)==="\\x"?(e="\\x",i+=2):(e=null,s===0&&l('"\\\\x"')),e!==null?(n=nt(),n!==null?(r=nt(),r!==null?e=[e,n,r]:(e=null,i=u)):(e=null,i=u)):(e=null,i=u),e!==null&&(e=function(e,t,n){return String.fromCharCode(parseInt(t+n,16))}(o,e[1],e[2])),e===null&&(i=o),e}function Z(){var e,n,r,o,u,a,f;return a=i,f=i,t.substr(i,2)==="\\u"?(e="\\u",i+=2):(e=null,s===0&&l('"\\\\u"')),e!==null?(n=nt(),n!==null?(r=nt(),r!==null?(o=nt(),o!==null?(u=nt(),u!==null?e=[e,n,r,o,u]:(e=null,i=f)):(e=null,i=f)):(e=null,i=f)):(e=null,i=f)):(e=null,i=f),e!==null&&(e=function(e,t,n,r,i){return String.fromCharCode(parseInt(t+n+r+i,16))}(a,e[1],e[2],e[3],e[4])),e===null&&(i=a),e}function et(){var e,n,r,o;return r=i,o=i,t.charCodeAt(i)===92?(e="\\",i++):(e=null,s===0&&l('"\\\\"')),e!==null?(n=lt(),n!==null?e=[e,n]:(e=null,i=o)):(e=null,i=o),e!==null&&(e=function(e,t){return t}(r,e[1])),e===null&&(i=r),e}function tt(){var e;return/^[0-9]/.test(t.charAt(i))?(e=t.charAt(i),i++):(e=null,s===0&&l("[0-9]")),e}function nt(){var e;return/^[0-9a-fA-F]/.test(t.charAt(i))?(e=t.charAt(i),i++):(e=null,s===0&&l("[0-9a-fA-F]")),e}function rt(){var e;return e=it(),e===null&&(e=st()),e}function it(){var e;return/^[a-z]/.test(t.charAt(i))?(e=t.charAt(i),i++):(e=null,s===0&&l("[a-z]")),e}function st(){var e;return/^[A-Z]/.test(t.charAt(i))?(e=t.charAt(i),i++):(e=null,s===0&&l("[A-Z]")),e}function ot(){var e,t;e=[],t=ht(),t===null&&(t=lt(),t===null&&(t=ut()));while(t!==null)e.push(t),t=ht(),t===null&&(t=lt(),t===null&&(t=ut()));return e}function ut(){var e;return s++,e=at(),e===null&&(e=ft()),s--,s===0&&e===null&&l("comment"),e}function at(){var e,n,r,o,u,a,f;u=i,t.substr(i,2)==="//"?(e="//",i+=2):(e=null,s===0&&l('"//"'));if(e!==null){n=[],a=i,f=i,s++,r=ct(),s--,r===null?r="":(r=null,i=f),r!==null?(t.length>i?(o=t.charAt(i),i++):(o=null,s===0&&l("any character")),o!==null?r=[r,o]:(r=null,i=a)):(r=null,i=a);while(r!==null)n.push(r),a=i,f=i,s++,r=ct(),s--,r===null?r="":(r=null,i=f),r!==null?(t.length>i?(o=t.charAt(i),i++):(o=null,s===0&&l("any character")),o!==null?r=[r,o]:(r=null,i=a)):(r=null,i=a);n!==null?e=[e,n]:(e=null,i=u)}else e=null,i=u;return e}function ft(){var e,n,r,o,u,a,f;u=i,t.substr(i,2)==="/*"?(e="/*",i+=2):(e=null,s===0&&l('"/*"'));if(e!==null){n=[],a=i,f=i,s++,t.substr(i,2)==="*/"?(r="*/",i+=2):(r=null,s===0&&l('"*/"')),s--,r===null?r="":(r=null,i=f),r!==null?(t.length>i?(o=t.charAt(i),i++):(o=null,s===0&&l("any character")),o!==null?r=[r,o]:(r=null,i=a)):(r=null,i=a);while(r!==null)n.push(r),a=i,f=i,s++,t.substr(i,2)==="*/"?(r="*/",i+=2):(r=null,s===0&&l('"*/"')),s--,r===null?r="":(r=null,i=f),r!==null?(t.length>i?(o=t.charAt(i),i++):(o=null,s===0&&l("any character")),o!==null?r=[r,o]:(r=null,i=a)):(r=null,i=a);n!==null?(t.substr(i,2)==="*/"?(r="*/",i+=2):(r=null,s===0&&l('"*/"')),r!==null?e=[e,n,r]:(e=null,i=u)):(e=null,i=u)}else e=null,i=u;return e}function lt(){var e;return s++,t.charCodeAt(i)===10?(e="\n",i++):(e=null,s===0&&l('"\\n"')),e===null&&(t.substr(i,2)==="\r\n"?(e="\r\n",i+=2):(e=null,s===0&&l('"\\r\\n"')),e===null&&(t.charCodeAt(i)===13?(e="\r",i++):(e=null,s===0&&l('"\\r"')),e===null&&(t.charCodeAt(i)===8232?(e="\u2028",i++):(e=null,s===0&&l('"\\u2028"')),e===null&&(t.charCodeAt(i)===8233?(e="\u2029",i++):(e=null,s===0&&l('"\\u2029"')))))),s--,s===0&&e===null&&l("end of line"),e}function ct(){var e;return/^[\n\r\u2028\u2029]/.test(t.charAt(i))?(e=t.charAt(i),i++):(e=null,s===0&&l("[\\n\\r\\u2028\\u2029]")),e}function ht(){var e;return s++,/^[ \t\x0B\f\xA0\uFEFF\u1680\u180E\u2000-\u200A\u202F\u205F\u3000]/.test(t.charAt(i))?(e=t.charAt(i),i++):(e=null,s===0&&l("[ \\t\\x0B\\f\\xA0\\uFEFF\\u1680\\u180E\\u2000-\\u200A\\u202F\\u205F\\u3000]")),s--,s===0&&e===null&&l("whitespace"),e}function pt(e){e.sort();var t=null,n=[];for(var r=0;r<e.length;r++)e[r]!==t&&(n.push(e[r]),t=e[r]);return n}function dt(){var e=1,n=1,r=!1;for(var s=0;s<Math.max(i,o);s++){var u=t.charAt(s);u==="\n"?(r||e++,n=1,r=!1):u==="\r"||u==="\u2028"||u==="\u2029"?(e++,n=1,r=!0):(n++,r=!1)}return{line:e,column:n}}var r={grammar:c,initializer:h,rule:p,choice:d,sequence:v,labeled:m,prefixed:g,suffixed:y,primary:b,action:w,braced:E,nonBraceCharacters:S,nonBraceCharacter:x,equals:T,colon:N,semicolon:C,slash:k,and:L,not:A,question:O,star:M,plus:_,lparen:D,rparen:P,dot:H,identifier:B,literal:j,string:F,doubleQuotedString:I,doubleQuotedCharacter:q,simpleDoubleQuotedCharacter:R,singleQuotedString:U,singleQuotedCharacter:z,simpleSingleQuotedCharacter:W,"class":X,classCharacterRange:V,classCharacter:$,bracketDelimitedCharacter:J,simpleBracketDelimitedCharacter:K,simpleEscapeSequence:Q,zeroEscapeSequence:G,hexEscapeSequence:Y,unicodeEscapeSequence:Z,eolEscapeSequence:et,digit:tt,hexDigit:nt,letter:rt,lowerCaseLetter:it,upperCaseLetter:st,__:ot,comment:ut,singleLineComment:at,multiLineComment:ft,eol:lt,eolChar:ct,whitespace:ht};if(n!==undefined){if(r[n]===undefined)throw new Error("Invalid rule name: "+e(n)+".")}else n="grammar";var i=0,s=0,o=0,u=[],vt=r[n]();if(vt===null||i!==t.length){var mt=Math.max(i,o),gt=mt<t.length?t.charAt(mt):null,yt=dt();throw new this.SyntaxError(pt(u),gt,mt,yt.line,yt.column)}return vt},toSource:function(){return this._source}};return t.SyntaxError=function(t,n,r,i,s){function o(t,n){var r,i;switch(t.length){case 0:r="end of input";break;case 1:r=t[0];break;default:r=t.slice(0,t.length-1).join(", ")+" or "+t[t.length-1]}return i=n?e(n):"end of input","Expected "+r+" but "+i+" found."}this.name="SyntaxError",this.expected=t,this.found=n,this.message=o(t,n),this.offset=r,this.line=i,this.column=s},t.SyntaxError.prototype=Error.prototype,t}(),PEG.compiler={appliedPassNames:["reportMissingRules","reportLeftRecursion","removeProxyRules","computeVarNames","computeParams","generateCode"],compile:function(ast,options){var that=this;each(this.appliedPassNames,function(e){that.passes[e](ast,options)});var source=ast.code,result=eval(source);return result._source=source,result}},PEG.compiler.passes={},PEG.compiler.passes.reportMissingRules=function(e){function t(){}function n(e){i(e.expression)}function r(e){return function(t){each(t[e],i)}}var i=buildNodeVisitor({grammar:r("rules"),rule:n,named:n,choice:r("alternatives"),action:n,sequence:r("elements"),labeled:n,simple_and:n,simple_not:n,semantic_and:t,semantic_not:t,optional:n,zero_or_more:n,one_or_more:n,rule_ref:function(t){if(!findRuleByName(e,t.name))throw new PEG.GrammarError('Referenced rule "'+t.name+'" does not exist.')},literal:t,"class":t,any:t});i(e)},PEG.compiler.passes.reportLeftRecursion=function(e){function t(){}function n(e,t){i(e.expression,t)}function r(e){return function(t,n){each(t[e],function(e){i(e,n)})}}var i=buildNodeVisitor({grammar:r("rules"),rule:function(e,t){i(e.expression,t.concat(e.name))},named:n,choice:r("alternatives"),action:n,sequence:function(e,t){e.elements.length>0&&i(e.elements[0],t)},labeled:n,simple_and:n,simple_not:n,semantic_and:t,semantic_not:t,optional:n,zero_or_more:n,one_or_more:n,rule_ref:function(t,n){if(contains(n,t.name))throw new PEG.GrammarError('Left recursion detected for rule "'+t.name+'".');i(findRuleByName(e,t.name),n)},literal:t,"class":t,any:t});i(e,[])},PEG.compiler.passes.removeProxyRules=function(e){function t(e){return e.type==="rule"&&e.expression.type==="rule_ref"}function n(e,t,n){function r(){}function i(e,t,n){o(e.expression,t,n)}function s(e){return function(t,n,r){each(t[e],function(e){o(e,n,r)})}}var o=buildNodeVisitor({grammar:s("rules"),rule:i,named:i,choice:s("alternatives"),sequence:s("elements"),labeled:i,simple_and:i,simple_not:i,semantic_and:r,semantic_not:r,optional:i,zero_or_more:i,one_or_more:i,action:i,rule_ref:function(e,t,n){e.name===t&&(e.name=n)},literal:r,"class":r,any:r});o(e,t,n)}var r=[];each(e.rules,function(i,s){t(i)&&(n(e,i.name,i.expression.name),i.name===e.startRule&&(e.startRule=i.expression.name),r.push(s))}),r.reverse(),each(r,function(t){e.rules.splice(t,1)})},PEG.compiler.passes.computeVarNames=function(e){function t(e){return"result"+e}function n(e){return"pos"+e}function r(e,n){return e.resultVar=t(n.result),{result:0,pos:0}}function i(e){return function(r,i){var o=s(r.expression,{result:i.result+e.result,pos:i.pos+e.pos});return r.resultVar=t(i.result),e.pos!==0&&(r.posVar=n(i.pos)),{result:o.result+e.result,pos:o.pos+e.pos}}}var s=buildNodeVisitor({grammar:function(e,t){each(e.rules,function(e){s(e,t)})},rule:function(e,r){var i=s(e.expression,r);e.resultVar=t(r.result),e.resultVars=map(range(i.result+1),t),e.posVars=map(range(i.pos),n)},named:i({result:0,pos:0}),choice:function(e,n){var r=map(e.alternatives,function(e){return s(e,n)});return e.resultVar=t(n.result),{result:Math.max.apply(null,pluck(r,"result")),pos:Math.max.apply(null,pluck(r,"pos"))}},action:i({result:0,pos:1}),sequence:function(e,r){var i=map(e.elements,function(e,t){return s(e,{result:r.result+t,pos:r.pos+1})});return e.resultVar=t(r.result),e.posVar=n(r.pos),{result:e.elements.length>0?Math.max.apply(null,map(i,function(e,t){return t+e.result})):0,pos:e.elements.length>0?1+Math.max.apply(null,pluck(i,"pos")):1}},labeled:i({result:0,pos:0}),simple_and:i({result:0,pos:1}),simple_not:i({result:0,pos:1}),semantic_and:r,semantic_not:r,optional:i({result:0,pos:0}),zero_or_more:i({result:1,pos:0}),one_or_more:i({result:1,pos:0}),rule_ref:r,literal:r,"class":r,any:r});s(e,{result:0,pos:0})},PEG.compiler.passes.computeParams=function(e){function n(e){t.push({}),e(),t.pop()}function r(){}function i(e){n(function(){o(e.expression)})}function s(e){var n=t[t.length-1],r={},i;for(i in n)r[i]=n[i];e.params=r}var t=[],o=buildNodeVisitor({grammar:function(e){each(e.rules,o)},rule:i,named:function(e){o(e.expression)},choice:function(e){n(function(){each(e.alternatives,o)})},action:function(e){n(function(){o(e.expression),s(e)})},sequence:function(e){function i(t){each(pluck(e.elements,"resultVar"),function(r,i){(new RegExp("^"+r+"(\\[\\d+\\])*$")).test(n[t])&&(n[t]=e.resultVar+"["+i+"]"+n[t].substr(r.length))})}var n=t[t.length-1],r;each(e.elements,o);for(r in n)i(r)},labeled:function(e){t[t.length-1][e.label]=e.resultVar,n(function(){o(e.expression)})},simple_and:i,simple_not:i,semantic_and:s,semantic_not:s,optional:i,zero_or_more:i,one_or_more:i,rule_ref:r,literal:r,"class":r,any:r});o(e)},PEG.compiler.passes.generateCode=function(e,t){function i(e,n){return n.string=quote,n.pluck=pluck,n.keys=keys,n.values=values,n.emit=o,n.options=t,t.trackLineAndColumn?(n.posInit=function(e){return"var "+e+" = "+"{ offset: 0, line: 1, column: 1, seenCR: false }"},n.posClone=function(e){return"clone("+e+")"},n.posOffset=function(e){return e+".offset"},n.posAdvance=function(e){return"advance(pos, "+e+")"}):(n.posInit=function(e){return"var "+e+" = 0"},n.posClone=function(e){return e},n.posOffset=function(e){return e},n.posAdvance=function(e){return e===1?"pos++":"pos += "+e}),n.posSave=function(e){return e.posVar+" = "+n.posClone("pos")},n.posRestore=function(e){return"pos = "+n.posClone(e.posVar)},r[e](n)}function s(e){return function(t){return i(e,{node:t})}}t=t||{},t.cache===undefined&&(t.cache=!1),t.trackLineAndColumn===undefined&&(t.trackLineAndColumn=!1);var n=function(e){function t(e){function t(e){return e.charCodeAt(0).toString(16).toUpperCase()}return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,function(e){return"\\x0"+t(e)}).replace(/[\x10-\x1F\x80-\xFF]/g,function(e){return"\\x"+t(e)}).replace(/[\u0180-\u0FFF]/g,function(e){return"\\u0"+t(e)}).replace(/[\u1080-\uFFFF]/g,function(e){return"\\u"+t(e)})}function n(e){return"__p.push("+e+");"}function r(e,r,i){function s(e,t,n){return e.replace(new RegExp("^.{"+t+"}","gm"),function(e,t){return t===0?n?"":e:""})}var o=t(s(e.substring(0,r),i.indentLevel(),i.atBOL));return o.length>0?n('"'+o+'"'):""}var i={VERSION:"1.1.0",indentStep:2,commands:{"if":{params:/^(.*)$/,compile:function(e,t,n){return["if("+n[0]+"){",[]]},stackOp:"push"},"else":{params:/^$/,compile:function(e){var t=e.commandStack,n=t[t.length-1]==="else",r=t[t.length-1]==="if";if(n)throw new Error("Multiple #elses.");if(!r)throw new Error("Using #else outside of #if.");return["}else{",[]]},stackOp:"replace"},"for":{params:/^([a-zA-Z_][a-zA-Z0-9_]*)[ \t]+in[ \t]+(.*)$/,init:function(e){e.forCurrLevel=0,e.forMaxLevel=0},compile:function(e,t,n){var r="__c"+e.forCurrLevel,i="__l"+e.forCurrLevel,s="__i"+e.forCurrLevel;return e.forCurrLevel++,e.forMaxLevel<e.forCurrLevel&&(e.forMaxLevel=e.forCurrLevel),[r+"="+n[1]+";"+i+"="+r+".length;"+"for("+s+"=0;"+s+"<"+i+";"+s+"++){"+n[0]+"="+r+"["+s+"];",[n[0],r,i,s]]},exit:function(e){e.forCurrLevel--},stackOp:"push"},end:{params:/^$/,compile:function(e){var t=e.commandStack,n;if(t.length===0)throw new Error("Too many #ends.");return n=i.commands[t[t.length-1]].exit,n&&n(e),["}",[]]},stackOp:"pop"},block:{params:/^(.*)$/,compile:function(e,r,i){var s="__x",o="__n",u="__l",a="__i";return[s+'="'+t(r.substring(e.indentLevel()))+'";'+o+"=("+i[0]+').toString().split("\\n");'+u+"="+o+".length;"+"for("+a+"=0;"+a+"<"+u+";"+a+"++){"+o+"["+a+"]="+s+"+"+o+"["+a+']+"\\n";'+"}"+n(o+'.join("")'),[s,o,u,a]]},stackOp:"nop"}},template:function(t){function o(e,t){return e.atBOL=!1,[n(t),[]]}function u(e,t,n,r){var o,u,a;o=i.commands[n];if(!o)throw new Error("Unknown command: #"+n+".");u=o.params.exec(r);if(u===null)throw new Error("Invalid params for command #"+n+": "+r+".");return a=o.compile(e,t,u.slice(1)),s[o.stackOp](e.commandStack,n),e.atBOL=!0,a}var s={push:function(e,t){e.push(t)},replace:function(e,t){e[e.length-1]=t},pop:function(e){e.pop()},nop:function(){}},a={commandStack:[],atBOL:!0,indentLevel:function(){return i.indentStep*this.commandStack.length}},f="",l=["__p=[]"],c,h,p,d;for(c in i.commands)i.commands[c].init&&i.commands[c].init(a);while((h=/^([ \t]*)#([a-zA-Z_][a-zA-Z0-9_]*)(?:[ \t]+([^ \t\n][^\n]*))?[ \t]*(?:\n|$)|#\{([^}]*)\}/m.exec(t))!==null)f+=r(t,h.index,a),p=h[2]!==e&&h[2]!==""?u(a,h[1],h[2],h[3]||""):o(a,h[4]),f+=p[0],l=l.concat(p[1]),t=t.substring(h.index+h[0].length);f+=r(t,t.length,a);if(a.commandStack.length>0)throw new Error("Missing #end.");l.sort();for(d=0;d<l.length;d++)l[d]===l[d-1]&&l.splice(d--,1);return new Function("__v",["__v=__v||{};","var "+l.join(",")+";","with(__v){",f,'return __p.join("").replace(/^\\n+|\\n+$/g,"");};'].join(""))}};return i}(),r=function(){var e,t={},r={grammar:["(function(){","  /*","   * Generated by PEG.js 0.7.0.","   *","   * http://pegjs.majda.cz/","   */","  ","  function quote(s) {","    /*","     * ECMA-262, 5th ed., 7.8.4: All characters may appear literally in a","     * string literal except for the closing quote character, backslash,","     * carriage return, line separator, paragraph separator, and line feed.","     * Any character may appear in the form of an escape sequence.","     *","     * For portability, we also escape escape all control and non-ASCII",'     * characters. Note that "\\0" and "\\v" escape sequences are not used',"     * because JSHint does not like the first and IE the second.","     */","     return '\"' + s","      .replace(/\\\\/g, '\\\\\\\\')  // backslash","      .replace(/\"/g, '\\\\\"')    // closing quote character","      .replace(/\\x08/g, '\\\\b') // backspace","      .replace(/\\t/g, '\\\\t')   // horizontal tab","      .replace(/\\n/g, '\\\\n')   // line feed","      .replace(/\\f/g, '\\\\f')   // form feed","      .replace(/\\r/g, '\\\\r')   // carriage return","      .replace(/[\\x00-\\x07\\x0B\\x0E-\\x1F\\x80-\\uFFFF]/g, escape)","      + '\"';","  }","  ","  var result = {","    /*","     * Parses the input with a generated parser. If the parsing is successfull,","     * returns a value explicitly or implicitly specified by the grammar from","     * which the parser was generated (see |PEG.buildParser|). If the parsing is","     * unsuccessful, throws |PEG.parser.SyntaxError| describing the error.","     */","    parse: function(input, startRule) {","      var parseFunctions = {","        #for rule in node.rules",'          #{string(rule.name) + ": parse_" + rule.name + (rule !== node.rules[node.rules.length - 1] ? "," : "")}',"        #end","      };","      ","      if (startRule !== undefined) {","        if (parseFunctions[startRule] === undefined) {",'          throw new Error("Invalid rule name: " + quote(startRule) + ".");',"        }","      } else {","        startRule = #{string(node.startRule)};","      }","      ",'      #{posInit("pos")};',"      var reportFailures = 0;",'      #{posInit("rightmostFailuresPos")};',"      var rightmostFailuresExpected = [];"
,"      #if options.cache","        var cache = {};","      #end","      ","      function padLeft(input, padding, length) {","        var result = input;","        ","        var padLength = length - input.length;","        for (var i = 0; i < padLength; i++) {","          result = padding + result;","        }","        ","        return result;","      }","      ","      function escape(ch) {","        var charCode = ch.charCodeAt(0);","        var escapeChar;","        var length;","        ","        if (charCode <= 0xFF) {","          escapeChar = 'x';","          length = 2;","        } else {","          escapeChar = 'u';","          length = 4;","        }","        ","        return '\\\\' + escapeChar + padLeft(charCode.toString(16).toUpperCase(), '0', length);","      }","      ","      #if options.trackLineAndColumn","        function clone(object) {","          var result = {};","          for (var key in object) {","            result[key] = object[key];","          }","          return result;","        }","        ","        function advance(pos, n) {","          var endOffset = pos.offset + n;","          ","          for (var offset = pos.offset; offset < endOffset; offset++) {","            var ch = input.charAt(offset);",'            if (ch === "\\n") {',"              if (!pos.seenCR) { pos.line++; }","              pos.column = 1;","              pos.seenCR = false;",'            } else if (ch === "\\r" || ch === "\\u2028" || ch === "\\u2029") {',"              pos.line++;","              pos.column = 1;","              pos.seenCR = true;","            } else {","              pos.column++;","              pos.seenCR = false;","            }","          }","          ","          pos.offset += n;","        }","        ","      #end","      function matchFailed(failure) {",'        if (#{posOffset("pos")} < #{posOffset("rightmostFailuresPos")}) {',"          return;","        }","        ",'        if (#{posOffset("pos")} > #{posOffset("rightmostFailuresPos")}) {','          rightmostFailuresPos = #{posClone("pos")};',"          rightmostFailuresExpected = [];","        }","        ","        rightmostFailuresExpected.push(failure);","      }","      ","      #for rule in node.rules","        #block emit(rule)","        ","      #end","      ","      function cleanupExpected(expected) {","        expected.sort();","        ","        var lastExpected = null;","        var cleanExpected = [];","        for (var i = 0; i < expected.length; i++) {","          if (expected[i] !== lastExpected) {","            cleanExpected.push(expected[i]);","            lastExpected = expected[i];","          }","        }","        return cleanExpected;","      }","      ","      #if !options.trackLineAndColumn","        function computeErrorPosition() {","          /*","           * The first idea was to use |String.split| to break the input up to the","           * error position along newlines and derive the line and column from","           * there. However IE's |split| implementation is so broken that it was","           * enough to prevent it.","           */","          ","          var line = 1;","          var column = 1;","          var seenCR = false;","          ","          for (var i = 0; i < Math.max(pos, rightmostFailuresPos); i++) {","            var ch = input.charAt(i);",'            if (ch === "\\n") {',"              if (!seenCR) { line++; }","              column = 1;","              seenCR = false;",'            } else if (ch === "\\r" || ch === "\\u2028" || ch === "\\u2029") {',"              line++;","              column = 1;","              seenCR = true;","            } else {","              column++;","              seenCR = false;","            }","          }","          ","          return { line: line, column: column };","        }","      #end","      ","      #if node.initializer","        #block emit(node.initializer)","      #end","      ","      var result = parseFunctions[startRule]();","      ","      /*","       * The parser is now in one of the following three states:","       *","       * 1. The parser successfully parsed the whole input.","       *","       *    - |result !== null|",'       *    - |#{posOffset("pos")} === input.length|',"       *    - |rightmostFailuresExpected| may or may not contain something","       *","       * 2. The parser successfully parsed only a part of the input.","       *","       *    - |result !== null|",'       *    - |#{posOffset("pos")} < input.length|',"       *    - |rightmostFailuresExpected| may or may not contain something","       *","       * 3. The parser did not successfully parse any part of the input.","       *","       *   - |result === null|",'       *   - |#{posOffset("pos")} === 0|',"       *   - |rightmostFailuresExpected| contains at least one failure","       *","       * All code following this comment (including called functions) must","       * handle these states.","       */",'      if (result === null || #{posOffset("pos")} !== input.length) {','        var offset = Math.max(#{posOffset("pos")}, #{posOffset("rightmostFailuresPos")});',"        var found = offset < input.length ? input.charAt(offset) : null;","        #if options.trackLineAndColumn",'          var errorPosition = #{posOffset("pos")} > #{posOffset("rightmostFailuresPos")} ? pos : rightmostFailuresPos;',"        #else","          var errorPosition = computeErrorPosition();","        #end","        ","        throw new this.SyntaxError(","          cleanupExpected(rightmostFailuresExpected),","          found,","          offset,","          errorPosition.line,","          errorPosition.column","        );","      }","      ","      return result;","    },","    ","    /* Returns the parser source code. */","    toSource: function() { return this._source; }","  };","  ","  /* Thrown when a parser encounters a syntax error. */","  ","  result.SyntaxError = function(expected, found, offset, line, column) {","    function buildMessage(expected, found) {","      var expectedHumanized, foundHumanized;","      ","      switch (expected.length) {","        case 0:",'          expectedHumanized = "end of input";',"          break;","        case 1:","          expectedHumanized = expected[0];","          break;","        default:",'          expectedHumanized = expected.slice(0, expected.length - 1).join(", ")','            + " or "',"            + expected[expected.length - 1];","      }","      ",'      foundHumanized = found ? quote(found) : "end of input";',"      ",'      return "Expected " + expectedHumanized + " but " + foundHumanized + " found.";',"    }","    ",'    this.name = "SyntaxError";',"    this.expected = expected;","    this.found = found;","    this.message = buildMessage(expected, found);","    this.offset = offset;","    this.line = line;","    this.column = column;","  };","  ","  result.SyntaxError.prototype = Error.prototype;","  ","  return result;","})()"],rule:["function parse_#{node.name}() {","  #if options.cache",'    var cacheKey = "#{node.name}@" + #{posOffset("pos")};',"    var cachedResult = cache[cacheKey];","    if (cachedResult) {",'      pos = #{posClone("cachedResult.nextPos")};',"      return cachedResult.result;","    }","    ","  #end","  #if node.resultVars.length > 0",'    var #{node.resultVars.join(", ")};',"  #end","  #if node.posVars.length > 0",'    var #{node.posVars.join(", ")};',"  #end","  ","  #block emit(node.expression)","  #if options.cache","    ","    cache[cacheKey] = {",'      nextPos: #{posClone("pos")},',"      result:  #{node.resultVar}","    };","  #end","  return #{node.resultVar};","}"],named:["reportFailures++;","#block emit(node.expression)","reportFailures--;","if (reportFailures === 0 && #{node.resultVar} === null) {","  matchFailed(#{string(node.name)});","}"],choice:["#block emit(alternative)","#block nextAlternativesCode"],"choice.next":["if (#{node.resultVar} === null) {","  #block code","}"],action:["#{posSave(node)};","#block emit(node.expression)","if (#{node.resultVar} !== null) {",'  #{node.resultVar} = (function(#{(options.trackLineAndColumn ? ["offset", "line", "column"] : ["offset"]).concat(keys(node.params)).join(", ")}) {#{node.code}})(#{(options.trackLineAndColumn ? [node.posVar + ".offset", node.posVar + ".line", node.posVar + ".column"] : [node.posVar]).concat(values(node.params)).join(", ")});',"}","if (#{node.resultVar} === null) {","  #{posRestore(node)};","}"],sequence:["#{posSave(node)};","#block code"],"sequence.iteration":["#block emit(element)","if (#{element.resultVar} !== null) {","  #block code","} else {","  #{node.resultVar} = null;","  #{posRestore(node)};","}"],"sequence.inner":['#{node.resultVar} = [#{pluck(node.elements, "resultVar").join(", ")}];'],simple_and:["#{posSave(node)};","reportFailures++;","#block emit(node.expression)","reportFailures--;","if (#{node.resultVar} !== null) {",'  #{node.resultVar} = "";',"  #{posRestore(node)};","} else {","  #{node.resultVar} = null;","}"],simple_not:["#{posSave(node)};","reportFailures++;","#block emit(node.expression)","reportFailures--;","if (#{node.resultVar} === null) {",'  #{node.resultVar} = "";',"} else {","  #{node.resultVar} = null;","  #{posRestore(node)};","}"],semantic_and:['#{node.resultVar} = (function(#{(options.trackLineAndColumn ? ["offset", "line", "column"] : ["offset"]).concat(keys(node.params)).join(", ")}) {#{node.code}})(#{(options.trackLineAndColumn ? ["pos.offset", "pos.line", "pos.column"] : ["pos"]).concat(values(node.params)).join(", ")}) ? "" : null;'],semantic_not:['#{node.resultVar} = (function(#{(options.trackLineAndColumn ? ["offset", "line", "column"] : ["offset"]).concat(keys(node.params)).join(", ")}) {#{node.code}})(#{(options.trackLineAndColumn ? ["pos.offset", "pos.line", "pos.column"] : ["pos"]).concat(values(node.params)).join(", ")}) ? null : "";'],optional:["#block emit(node.expression)",'#{node.resultVar} = #{node.resultVar} !== null ? #{node.resultVar} : "";'],zero_or_more:["#{node.resultVar} = [];","#block emit(node.expression)","while (#{node.expression.resultVar} !== null) {","  #{node.resultVar}.push(#{node.expression.resultVar});","  #block emit(node.expression)","}"],one_or_more:["#block emit(node.expression)","if (#{node.expression.resultVar} !== null) {","  #{node.resultVar} = [];","  while (#{node.expression.resultVar} !== null) {","    #{node.resultVar}.push(#{node.expression.resultVar});","    #block emit(node.expression)","  }","} else {","  #{node.resultVar} = null;","}"],rule_ref:["#{node.resultVar} = parse_#{node.name}();"],literal:["#if node.value.length === 0",'  #{node.resultVar} = "";',"#else","  #if !node.ignoreCase","    #if node.value.length === 1",'      if (input.charCodeAt(#{posOffset("pos")}) === #{node.value.charCodeAt(0)}) {',"    #else",'      if (input.substr(#{posOffset("pos")}, #{node.value.length}) === #{string(node.value)}) {',"    #end","  #else",'    if (input.substr(#{posOffset("pos")}, #{node.value.length}).toLowerCase() === #{string(node.value.toLowerCase())}) {',"  #end","    #if !node.ignoreCase","      #{node.resultVar} = #{string(node.value)};","    #else",'      #{node.resultVar} = input.substr(#{posOffset("pos")}, #{node.value.length});',"    #end","    #{posAdvance(node.value.length)};","  } else {","    #{node.resultVar} = null;","    if (reportFailures === 0) {","      matchFailed(#{string(string(node.value))});","    }","  }","#end"],"class":['if (#{regexp}.test(input.charAt(#{posOffset("pos")}))) {','  #{node.resultVar} = input.charAt(#{posOffset("pos")});',"  #{posAdvance(1)};","} else {","  #{node.resultVar} = null;","  if (reportFailures === 0) {","    matchFailed(#{string(node.rawText)});","  }","}"],any:['if (input.length > #{posOffset("pos")}) {','  #{node.resultVar} = input.charAt(#{posOffset("pos")});',"  #{posAdvance(1)};","} else {","  #{node.resultVar} = null;","  if (reportFailures === 0) {",'    matchFailed("any character");',"  }","}"]};for(e in r)t[e]=n.template(r[e].join("\n"));return t}(),o=buildNodeVisitor({grammar:s("grammar"),initializer:function(e){return e.code},rule:s("rule"),named:s("named"),choice:function(e){var t,n;for(var r=e.alternatives.length-1;r>=0;r--)n=r!==e.alternatives.length-1?i("choice.next",{node:e,code:t}):"",t=i("choice",{alternative:e.alternatives[r],nextAlternativesCode:n});return t},action:s("action"),sequence:function(e){var t=i("sequence.inner",{node:e});for(var n=e.elements.length-1;n>=0;n--)t=i("sequence.iteration",{node:e,element:e.elements[n],code:t});return i("sequence",{node:e,code:t})},labeled:function(e){return o(e.expression)},simple_and:s("simple_and"),simple_not:s("simple_not"),semantic_and:s("semantic_and"),semantic_not:s("semantic_not"),optional:s("optional"),zero_or_more:s("zero_or_more"),one_or_more:s("one_or_more"),rule_ref:s("rule_ref"),literal:s("literal"),"class":function(e){var t;return e.parts.length>0?t="/^["+(e.inverted?"^":"")+map(e.parts,function(e){return e instanceof Array?quoteForRegexpClass(e[0])+"-"+quoteForRegexpClass(e[1]):quoteForRegexpClass(e)}).join("")+"]/"+(e.ignoreCase?"i":""):t=e.inverted?"/^[\\S\\s]/":"/^(?!)/",i("class",{node:e,regexp:t})},any:s("any")});e.code=o(e)},PEG}();typeof module!="undefined"&&(module.exports=PEG);