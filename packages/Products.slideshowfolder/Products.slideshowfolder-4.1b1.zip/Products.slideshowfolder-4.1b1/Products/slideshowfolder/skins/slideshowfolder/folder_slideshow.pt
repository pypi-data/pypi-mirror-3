<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      lang="en"
      metal:use-macro="here/main_template/macros/master"
      i18n:domain="plone">

<head>
  <div metal:fill-slot="javascript_head_slot" tal:omit-tag="">
      <script type="text/javascript" tal:attributes="src string:${portal_url}/mootools.js"></script>
      <script type="text/javascript" tal:attributes="src string:${portal_url}/slideshow.js"></script>
      <script type="text/javascript" tal:attributes="src string:${context/absolute_url}/slideshow_settings.js"></script>
  </div>
  
  <div metal:fill-slot="style_slot" tal:omit-tag="">
      <link rel="stylesheet" type="text/css" href="slideshow.css" media="screen" />
  </div>
</head>

<body>

<div metal:fill-slot="main">
<metal:main-macro define-macro="main">
    <metal:body define-macro="body_macro"
                tal:define="kssClassesView context/@@kss_field_decorator_view;
                            getKssClasses nocall:kssClassesView/getKssClassesInlineEditable;
                            templateId template/getId">

        <div tal:replace="structure provider:plone.abovecontenttitle" />

        <h1 metal:use-macro="here/kss_generic_macros/macros/generic_title_view">
            Title or id
        </h1>

        <div tal:replace="structure provider:plone.belowcontenttitle" />

        <p metal:use-macro="here/kss_generic_macros/macros/generic_description_view">
            Description
        </p>

        <div tal:replace="structure provider:plone.abovecontentbody" />
        
        <div metal:define-macro="text-field-view"
             id="parent-fieldname-text" class="stx"
             tal:define="kss_class python:getKssClasses('text',
                         templateId=templateId, macro='text-field-view');
                         text here/getText|nothing"
             tal:condition="text"
             tal:attributes="class python:test(here.Format() in ('text/structured',
                                                   'text/x-rst', ), 'stx' + kss_class, 'plain' + kss_class) + ' slideshow-rich-body'">
            <div metal:define-slot="inside" tal:replace="structure text">The body</div>
        </div>

        <div metal:use-macro="context/slideshow_macros/macros/slideshow" />

        <div tal:replace="structure provider:plone.belowcontentbody" />

    </metal:body>
</metal:main-macro>
</div>

</body>
</html>
