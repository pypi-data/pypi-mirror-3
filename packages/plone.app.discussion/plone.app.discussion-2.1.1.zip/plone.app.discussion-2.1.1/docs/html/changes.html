

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Changelog &mdash; plone.app.discussion v2.0 documentation</title>
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '2.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="plone.app.discussion v2.0 documentation" href="index.html" />
    <link rel="prev" title="API/Interfaces" href="api.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="api.html" title="API/Interfaces"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">plone.app.discussion v2.0 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="changelog">
<h1>Changelog<a class="headerlink" href="#changelog" title="Permalink to this headline">¶</a></h1>
<div class="section" id="unreleased">
<h2>2.1.1 (unreleased)<a class="headerlink" href="#unreleased" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Fix various text typos.
[timo]</li>
<li>Fix control panel help text typos.
[jonstahl]</li>
<li>Documentation about overriding the comments viewlet js added.
[timo]</li>
<li>Corrected location of Japanese po file.
[tyam]</li>
</ul>
</div>
<div class="section" id="id1">
<h2>2.1.0 (2011-08-22)<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Avoid error when moving objects that are contentish but not annotatable.
[davisagli]</li>
<li>New feature: Markdown syntax added to possible comment text transforms.
[timo]</li>
<li>Make sure the comment brains are updated properly when the content object is
renamed.
[hannosch, timo]</li>
<li>Make sure only comments to the content object are removed from the catalog
when the content object is moved.
[hannosch, timo, davisagli]</li>
<li>Make sure the conversation.getComments method returns acquisition wrapped
comments.
[timo]</li>
<li>Ukrainian translation added.
[chervol]</li>
<li>Remove one_state_workflow customizations.
[timo]</li>
</ul>
</div>
<div class="section" id="id2">
<h2>2.0.9 (2011-07-25)<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Make sure the creator index always stores utf-8 encoded stings and not
unicode.
[timo]</li>
</ul>
</div>
<div class="section" id="id3">
<h2>2.0.8 (2011-07-25)<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Automatically reload batch moderation page if no comments are left. This
fixes <a class="reference external" href="http://dev.plone.org/plone/ticket/11298">http://dev.plone.org/plone/ticket/11298</a>.
[timo]</li>
<li>Use Plone&#8217;s safe_encode method instead of encode() for the creator index to
make sure unicode encoded strings can be indexed too.
[timo]</li>
</ul>
</div>
<div class="section" id="id4">
<h2>2.0.7 (2011-07-15)<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Fix discussion control panel submit for Google Chrome. This fixes
<a class="reference external" href="http://dev.plone.org/plone/ticket/11486">http://dev.plone.org/plone/ticket/11486</a>.</li>
</ul>
</div>
<div class="section" id="id5">
<h2>2.0.6 (2011-07-04)<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Update comment brains in zcatalog when moving a content object with comments.
This fixes <a class="reference external" href="http://dev.plone.org/plone/ticket/11331">http://dev.plone.org/plone/ticket/11331</a>.
[timo]</li>
<li>Plone 3 specific exclusion of plone.app.uuid removed.
[timo]</li>
</ul>
</div>
<div class="section" id="id6">
<h2>2.0.5 (2011-06-16)<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Simplify CSS and JS registrations. CSS will now be imported using the
standard link and so can be merged, inserted after forms.css. JS will now be
imported after collapsibleformfields.js.
[elro]</li>
<li>Enable the left-menu on the configlet, to be more consistent with all other configlets.
Related to <a class="reference external" href="https://dev.plone.org/plone/ticket/11737">https://dev.plone.org/plone/ticket/11737</a>
[WouterVH]</li>
<li>Do not render/update the comment form in CommentViewlets if commenting is
disabled, since this slows down the page rendering. This fixes
<a class="reference external" href="http://dev.plone.org/plone/ticket/11930">http://dev.plone.org/plone/ticket/11930</a>
[fafhrd]</li>
</ul>
</div>
<div class="section" id="id7">
<h2>2.0.4 (2011-05-28)<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Refactor/clean up the handleComment method.
[timo]</li>
<li>Make handleComment method store comment attributes from form extenders. This
allows us to extend the comment form with external add-ons. See
<a class="reference external" href="http://packages.python.org/plone.app.discussion/howtos/howto_extend_the_comment_form.html">http://packages.python.org/plone.app.discussion/howtos/howto_extend_the_comment_form.html</a>
for details.
[timo]</li>
</ul>
</div>
<div class="section" id="id8">
<h2>2.0.3 (2011-06-19)<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Updated Simplified Chinese translation
[jianaijun]</li>
<li>Italian translation review.
[gborelli]</li>
</ul>
</div>
<div class="section" id="id9">
<h2>2.0.2 (2011-05-12)<a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Moderation should be enabled only if there is a workflow set for Discussion
Item.
[erico_andrei]</li>
</ul>
</div>
<div class="section" id="id10">
<h2>2.0.1 (2011-04-22)<a class="headerlink" href="#id10" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Translations updated. German translations for notifications added.
[timo]</li>
<li>Add links to delete/approve a comment in the moderator notification email.
[timo]</li>
<li>Remove the unnecessary workflow_action parameter from the PublishComments
request.
[timo]</li>
<li>Make sure the email settings in the control panel are disabled when commenting
is disabled globally.
[timo]</li>
<li>Enable/disable moderator_email setting dynamically as mail settings or
discussion settings change.
[timo]</li>
<li>Remove ImportError exceptions for Plone &lt; 4.1 code and plone.z3cform &lt; 0.6.0.
[timo]</li>
<li>Provide the comment body text in the email notification.
[timo]</li>
<li>Fix comment link in email notification. This fixes
<a class="reference external" href="http://dev.plone.org/plone/ticket/11413">http://dev.plone.org/plone/ticket/11413</a>.
[timo]</li>
<li>Redirect to the comment itself when notifying a user about a new comment.
[timo]</li>
</ul>
</div>
<div class="section" id="id11">
<h2>2.0 (2011-04-21)<a class="headerlink" href="#id11" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>No changes.</li>
</ul>
</div>
<div class="section" id="b2-2011-04-21">
<h2>2.0b2 (2011-04-21)<a class="headerlink" href="#b2-2011-04-21" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Added Japanese translation.
[tyam]</li>
<li>Move all tests from testing layer to plone.app.testing.
[timo]</li>
<li>Move some policy out of the conversation storage adapter into a
view, specifically &#8220;enabled()&#8221;.  Prevents having to replace/migrate
persistent objects to change policy which really only concerns the
context and possibly the request, not the conversation storage.
Fixes #11372.
[rossp]</li>
<li>Fix unindexing of comments when deleting content resulting from
iterating over a BTree while modifying it. Fixes #11402.
[rossp]</li>
<li>Fix Missing.Value for Creator in the catalog. Fixes #11634.
[rossp]</li>
<li>Don&#8217;t add the annotation unless a comment is actually being added.
Fixes #11370.
[rossp]</li>
<li>Fixed i18n of the &#8220;Commenting has been disabled.&#8221; message.
[vincentfretin]</li>
<li>Add a moderator_email setting to control where moderator notifications are
sent.
[davisagli]</li>
</ul>
</div>
<div class="section" id="b1-2011-04-06">
<h2>2.0b1 (2011-04-06)<a class="headerlink" href="#b1-2011-04-06" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Make discussion.css cacheable when registering it.
[davisagli]</li>
<li>Fix issue where GMT datetimes were converted into local timezone DateTimes
during indexing.
[davisagli]</li>
<li>Handle timezones correctly while converting dates during the migration of
legacy comments.
[davisagli]</li>
<li>When returning a comment&#8217;s title, give preference to its title attribute
if set.
[davisagli]</li>
<li>Use the cooked text of legacy comments when migrating.
[davisagli]</li>
<li>Make sure that comment text is transformed to plain text when indexing.
[davisagli]</li>
<li>Move logic for transforming comment text to the Comment class&#8217;s getText
method. Use a comment instance&#8217;s mime_type attribute in preference to the
global setting for the source mimetype. Use text/x-html-safe as the target
mimetype to make sure the safe HTML filter is applied, in case the source is
untrusted HTML.
[davisagli]</li>
<li>Provide a filter_callback option to the migration view, so that a custom
policy for which comments get migrated can be implemented.
[davisagli]</li>
<li>Fixed RoleManager import to avoid deprecation warning on Zope 2.13.
[davisagli]</li>
<li>French translations.
[thomasdesvenain]</li>
<li>Fixed internationalization issues.
[thomasdesvenain]</li>
<li>Added Afrikaans translations
[jcbrand]</li>
</ul>
</div>
<div class="section" id="a3-2011-03-02">
<h2>2.0a3 (2011-03-02)<a class="headerlink" href="#a3-2011-03-02" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Fixed test failure for the default user portrait, which changed from
defaultUser.gif to defaultUser.png in Products.PlonePAS 4.0.5
[maurits]</li>
</ul>
</div>
<div class="section" id="a2-2011-02-08">
<h2>2.0a2 (2011-02-08)<a class="headerlink" href="#a2-2011-02-08" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Fixed test failure for the default user portrait, which changed from
defaultUser.gif to defaultUser.png in Products.PlonePAS 4.0.5.
[maurits]</li>
<li>Remove &#8220;Plone 3 only&#8221; code.
[timo]</li>
<li>Do not monkey patch the BAD_TYPES vocabulary or plone.app.vocabularies
anymore.
[timo]</li>
</ul>
</div>
<div class="section" id="a1-2011-02-07">
<h2>2.0a1 (2011-02-07)<a class="headerlink" href="#a1-2011-02-07" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Split up development into two branches. The 1.x branch will be for Plone 3.x
and Plone 4.0.x and the 2.x branch will be for Plone 4.1 and beyond.
[timo]</li>
<li>Import Owned from OFS.owner to avoid deprecation warnings.
[timo]</li>
<li>Disable discussion by default.
[timo]</li>
<li>Enable ajaxify comment deletion again ([thomasdesvenain]). This has been
disabled in 1.0b12 because of problems with Plone 3.
[timo]</li>
<li>Remove collective.autopermission dependency that has become unnecessary in
Plone 4.1.
[timo]</li>
</ul>
</div>
<div class="section" id="id12">
<h2>1.0 (2011-02-07)<a class="headerlink" href="#id12" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Do not check for a comment review workflow when sending out a moderator email
notification. This fixes <a class="reference external" href="http://dev.plone.org/plone/ticket/11444">http://dev.plone.org/plone/ticket/11444</a>.
[timo]</li>
<li>Check if the current user has configured an e-mail address for the email
notification option. This fixes <a class="reference external" href="http://dev.plone.org/plone/ticket/11428">http://dev.plone.org/plone/ticket/11428</a>.
[timo]</li>
</ul>
</div>
<div class="section" id="rc2-2011-01-24">
<h2>1.0RC2 (2011-01-24)<a class="headerlink" href="#rc2-2011-01-24" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Remove moderation_enabled setting from registry to avoid migration problems
to 1.0RC1. This fixes <a class="reference external" href="http://dev.plone.org/plone/ticket/11419">http://dev.plone.org/plone/ticket/11419</a>.
[timo]</li>
</ul>
</div>
<div class="section" id="rc1-2011-01-22">
<h2>1.0RC1 (2011-01-22)<a class="headerlink" href="#rc1-2011-01-22" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Always show existing comments, even if commenting is disabled.
[timo]</li>
<li>Fix CSS for commenter images with a width of more than 2.5em. This fixes
<a class="reference external" href="http://dev.plone.org/plone/ticket/11391">http://dev.plone.org/plone/ticket/11391</a>.
[timo]</li>
<li>Show a &#8216;Comments are moderated.&#8217; message next to the comment form if comments
are moderated.
[timo]</li>
<li>Make sure plone.app.registry&#8217;s ZCML is loaded, so that its import step will run
when plone.app.discussion is installed.
[davisagli]</li>
<li>Avoid sending multiple notification emails to the same person when
he has commented multiple times.
[maurits]</li>
<li>Move discussion action item from actionicons.xml to actions.xml to avoid
deprecation warning.
[timo]</li>
<li>Fix cancel button on edit view when using Dexterity types. This fixes
<a class="reference external" href="http://dev.plone.org/plone/ticket/11338">http://dev.plone.org/plone/ticket/11338</a>.
[EpeliJYU]</li>
<li>Assigning the &#8216;Reply to item&#8217; permission to the &#8216;Authenticated&#8217; role. The old
commenting system allowed &#8216;Authenticated&#8217; users to post comments. Also, OpenID
users do not possess the &#8216;Authenticated&#8217; role.
[timo]</li>
<li>Make sure the handleComment method checks for the &#8216;Reply to item&#8217; permission
when adding a comment.
[timo]</li>
<li>Make the mail-setting warning message show up in the discussion control panel.
[timo]</li>
<li>Link directly to the &#8220;Discussion Item&#8221; types control panel in the moderation
view.
[timo]</li>
<li>Show &#8220;moderate comments&#8221; link in the admin panel only if a moderation
workflow is enabled for comments.
[timo]</li>
<li>Do not allow to change the mail settings in the discussion control panel, if
there is no valid mail setup.
[timo]</li>
<li>Disable all commenting options in the discussion control panel if comments
are disabled globally.</li>
<li>Check for the &#8216;review comments&#8217; permission instead of &#8216;manage&#8217; to decide
if the user should see a &#8216;this comment is pending&#8217; message.
[timo]</li>
<li>Move &#8220;moderate comments&#8221; site action above the logout action.
[timo]</li>
<li>Moderator notification description updated.
[timo]</li>
<li>Redirect back to the discussion control panel when the discussion control
panel form is submitted.
[timo]</li>
<li>Fix document_byline bottom margin if commenter images are disabled.
[timo]</li>
<li>Dynamically show the comment formatting message dependent on the text
transform setting.
[timo]</li>
<li>Description for text transform added to the discussion control panel.
[timo]</li>
<li>Move the discussion control panel to the core Plone configuration.
[timo]</li>
<li>Always set the effective date of a comment to the same value as the creation
date.
[timo]</li>
<li>Fix SMTP exception when an email is send to the moderator.
[timo]</li>
<li>Make sure comment UIDs in the catalog are always unique. This fixes
<a class="reference external" href="http://dev.plone.org/plone/ticket/10652">http://dev.plone.org/plone/ticket/10652</a>.
[timo]</li>
<li>Fix &#8216;check all&#8217; on batch moderation page.
[davisagli]</li>
<li>Use safe_unicode to decode the title of the content. encode(&#8220;utf-9&#8221;) caused
Dexterity based content types to raise a unicode decode error. This fixes
<a class="reference external" href="http://dev.plone.org/plone/ticket/11292">http://dev.plone.org/plone/ticket/11292</a>
[dukebody]</li>
<li>Spanish translation updated.
[dukebody]</li>
<li>Catalan translation added.
[sneridagh]</li>
<li>Convert anonymous-supplied name to unicode as done for authenticated members.
[ggozad]</li>
<li>Catch SMTP exceptions when sending email notifications.
[timo]</li>
<li>Updated italian translation.
[keul]</li>
</ul>
</div>
<div class="section" id="b12-2010-11-04">
<h2>1.0b12 (2010-11-04)<a class="headerlink" href="#b12-2010-11-04" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Remove AJAX comment deletion binding. This function relies on the nextUntil()
selector introduced by jQuery 1.4 and therefore breaks in Plone 3
(that currently uses jQuery 1.3.2).
[timo]</li>
</ul>
</div>
<div class="section" id="b11-2010-11-03">
<h2>1.0b11 (2010-11-03)<a class="headerlink" href="#b11-2010-11-03" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Fix Dutch and Czech language code and name.
[timo]</li>
<li>Re-add the CommentsViewlet can_manage method. This method has been removed
in version 1.0b9 and added again in 1.0b11 because we don&#8217;t want to change
the API in beta releases.
[timo]</li>
<li>Declare z3c.form and zope.schema as minimum version dependencies in setup.py
in case people use a different KGS.
[timo]</li>
<li>Add and update es and eu l10ns.
[dukebody, on behalf of erral]</li>
<li>Ajaxify comment deletion and approval.
[thomasdesvenain]</li>
<li>New feature: As a logged-in user, I can enable/disable email notification of
additional comments on this content object.
[timo]</li>
<li>Disable the plone.app.registry check on schema elements, so no error is
raised on upgrades. This fixes <a class="reference external" href="https://dev.plone.org/plone/ticket/11195">https://dev.plone.org/plone/ticket/11195</a>.
[timo]</li>
<li>Remove the too generic id attribute of the comment form.
[timo]</li>
<li>Fixed handling of non-ascii member data, like fullname and email.
[hannosch]</li>
</ul>
</div>
<div class="section" id="b10-2010-10-15">
<h2>1.0b10 (2010-10-15)<a class="headerlink" href="#b10-2010-10-15" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Fixed &#8220;global name &#8216;WrongCaptchaCode&#8217; is not defined&#8221; if norobots captcha,
but no other validation package is installed.
[naro]</li>
<li>Check if there is a &#8216;pending&#8217; review state in the current workflow for
comments instead of just checking for the &#8216;comment_review_workflow&#8217;. This
allows integrators to use a custom review workflow. This fixes
<a class="reference external" href="http://dev.plone.org/plone/ticket/11184">http://dev.plone.org/plone/ticket/11184</a>.
[timo]</li>
<li>fixed plone-it.po (improper language code (&#8216;en&#8217; instead of &#8216;it&#8217;))
[ajung]</li>
</ul>
</div>
<div class="section" id="b9-2010-10-07">
<h2>1.0b9 (2010-10-07)<a class="headerlink" href="#b9-2010-10-07" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Replace the can_manage method with a can_review method that checks the
&#8216;Review comments&#8217; permission. This fixes
<a class="reference external" href="http://dev.plone.org/plone/ticket/11145">http://dev.plone.org/plone/ticket/11145</a>.
[timo]</li>
<li>Fix moderation actions (publish, delete) in the moderation view with virtual
hosts. This is a replacement for <a class="reference external" href="http://dev.plone.org/plone/changeset/35608">http://dev.plone.org/plone/changeset/35608</a>.
[timo]</li>
<li>Do not show two &#8220;login to add comments&#8221; buttons when there are no comments
yet. This fixes <a class="reference external" href="http://plone.org/products/plone.app.discussion/issues/12">http://plone.org/products/plone.app.discussion/issues/12</a>.
[timo]</li>
</ul>
</div>
<div class="section" id="b8-2010-10-04">
<h2>1.0b8 (2010-10-04)<a class="headerlink" href="#b8-2010-10-04" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Apply the comment viewlet template and styles to the new title-less comments.
This might require integrators to apply their custom templates and styles.
[timo]</li>
<li>Remove title field from the comment form and replace it with an auto-generated
title (&#8220;John Doe on Welcome to Plone&#8221;).
[timo]</li>
<li>Fix <a class="reference external" href="http://dev.plone.org/plone/ticket/11098">http://dev.plone.org/plone/ticket/11098</a>: &#8220;Comment byline shows login
name, not full name&#8221;
[kiorky]</li>
<li>Make sure the __parent__ pointer (the conversation) of a comment is not
acquisition wrapped in conversation.addComment. This fixes
<a class="reference external" href="http://dev.plone.org/plone/ticket/11157">http://dev.plone.org/plone/ticket/11157</a>.
[timo]</li>
<li>Revert r35608 since this was breaking the comment moderation bulk actions.
The BulkActionsView expects the absolute path of the comments without the
portal url (e.g. &#8216;/plone/doc1/++conversation++default/1285346769126020&#8217;).
This fixes <a class="reference external" href="http://dev.plone.org/plone/ticket/11156">http://dev.plone.org/plone/ticket/11156</a>.
[timo]</li>
<li>Use &#8220;(function($) { /* some code that uses $ */ })(jQuery)&#8221; instead of
&#8220;$(document).ready(function(){ /* some code that uses $ */ });&#8221; to invoke
jQuery code.
[timo]</li>
<li>Finnish translation added.
[saffe]</li>
<li>Italian translation updated.
[keul]</li>
</ul>
</div>
<div class="section" id="b7-2010-09-15">
<h2>1.0b7 (2010-09-15)<a class="headerlink" href="#b7-2010-09-15" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Captcha plugin support for collective.z3cform.norobots (version &gt;= 1.1) added.
[saffe]</li>
<li>Store dates in utc and not in local time. Display local time
[do3cc]</li>
<li>Fetch context for the comment view with &#8220;context = aq_inner(self.context)&#8221;.
[timo]</li>
<li>Raise an unauthorized error when authenticated users try to post a comment
on a content object that has discussion disabled. Thanks to vincentfrentin
for reporting this.
[timo]</li>
<li>Czech translation added.
[naro]</li>
<li>Clean up code with PyLint.
[timo]</li>
<li>Make Javascripts pass JSLint validation.
[timo]</li>
<li>Put email notification subscribers into their own zcml file so it is easier
for integrators to override them.
[timo]</li>
<li>Plain text and intelligent text options for comment text added to preserve
basic text structure and to make links clickable.
[timo]</li>
<li>Rewrote all tal:condition in comments.pt. The authenticated user has
the reply button and the comment form if he has the &#8220;Reply to item&#8221;
permission And the discussion is currently allowed.
[vincentfretin]</li>
</ul>
</div>
<div class="section" id="b6-2010-08-24">
<h2>1.0b6 (2010-08-24)<a class="headerlink" href="#b6-2010-08-24" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Fixed the case where a folder has allow_discussion=False and
conversation.enabled() on a document in this folder returned False
instead of True because of allow_discussion acquisition.
[vincentfretin]</li>
<li>Redirect to the comment form action instead of the absolute URL when a
comment is posted. This fixes the accidentally triggered file upload when a
comment is posted on a file content object.
[timo]</li>
<li>We need five:registerPackage to register the i18n folder.
[vincentfretin]</li>
<li>Added Traditional Chinese (zh_TW) translation.
[TsungWei Hu]</li>
<li>Added French translation.
[vincentfretin]</li>
<li>Renamed legend_add_comment to label_add_comment to have the translation from
plone domain.
[vincentfretin]</li>
<li>label_comment_by and label_commented_at are not in Plone 4 translation
anymore, so these two messages moved to plone.app.discussions i18n domain.
[vincentfretin]</li>
<li>Translate &#8220;Warning&#8221; shown in &#64;&#64;moderate-comments in the plone domain.
[vincentfretin]</li>
<li>Fixed i18n markup of message_moderation_disabled.
[vincentfretin]</li>
<li>Catch Type errors in indexers if object can not be adapted to IDiscussion
[do3cc]</li>
<li>Call the CaptchaValidator even when no captcha data was submitted. This is
necessary to ensure that the collective.akismet validator is called when
installed.
[timo]</li>
<li>Spanish translation added. Thanks to Judith Sanleandro.
[timo]</li>
</ul>
</div>
<div class="section" id="b5-2010-07-16">
<h2>1.0b5 (2010-07-16)<a class="headerlink" href="#b5-2010-07-16" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Use self.form instead of CommentForm for the CommentsViewlet update method so
integrators don&#8217;t have to override the viewlet&#8217;s update method.
[matous]</li>
<li>Make sure the form fields in the reply form are always placed under the field
labels.
[timo]</li>
<li>Fix CSS overflow bug that occurs with the new Plone 4.0b5 comment styles.
[timo]</li>
<li>Unnecessary imports and variables removed.
[timo]</li>
<li>Added norwegian translation.
[ggozad]</li>
<li>Protect against missing canonical in conversationCanonicalAdapterFactory.
[hannosch]</li>
<li>Documentation for Captcha plugin architecture and email notification added.
See <a class="reference external" href="http://packages.python.org/plone.app.discussion">http://packages.python.org/plone.app.discussion</a>.
[timo]</li>
<li>Use sphinx.plonetheme for plone.app.discussion documentation.
[timo]</li>
<li>Avoid deprecation warning for the Globals package.
[hannosch]</li>
<li>Remove the hard coded check for title and text when the comment form is
submitted. This allows integrators to write schema extenders that remove the
title from the comment form.
[timo]</li>
<li>Move captcha registration to its own captcha.zcml file.
[timo]</li>
<li>Akismet (<a class="reference external" href="http://akismet.com/">http://akismet.com/</a>) spam protection plugin (collective.akismet)
support added.
[timo]</li>
<li>Simplify the CaptchaValidator class by dynamically adapting a view with the
name of the captcha plugin (e.g. recaptcha, captcha, akismet) for the
validator.
[timo]</li>
<li>Dutch translation added.
[kcleong]</li>
<li>Enable caching and merging for comments.js to save some requests.
[pelle]</li>
<li>Design notes for the Captcha plugin architecture added.
[timo]</li>
<li>Make IDiscussionLayer inherit from Interface again. Remove IDefaultPloneLayer,
since Plone 4.0b1 and plone.theme 2.0b1 are out now.
[timo]</li>
<li>Clean up Javascript code.
[timo]</li>
<li>Fix encoding error in migration procedure, otherwise migration procedure
breaks on joining output list in case we have there any non-ascii characters.
[piv]</li>
<li>plone.z3cform 0.6.0 compatibility (fix maximum recursion depth error which
appears with plone.z3cform higher than 0.5.10).
[piv]</li>
<li>Removed moderation.js from js registry and include it only in moderation.pt as
that is the only place where it is used.
[ggozad]</li>
</ul>
</div>
<div class="section" id="b4-2010-04-04">
<h2>1.0b4 (2010-04-04)<a class="headerlink" href="#b4-2010-04-04" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>New feature: As a moderator, I am notified when new comments require my
attention.
[timo]</li>
<li>Sphinx-based developer documentation added. See
<a class="reference external" href="http://packages.python.org/plone.app.discussion">http://packages.python.org/plone.app.discussion</a>.
[timo]</li>
<li>Rename &#8220;Single State Workflow&#8221; to &#8220;Comment Single State Workflow&#8221;.
[timo]</li>
<li>Rename &#8216;publish comment&#8217; to &#8216;approve comment&#8217;. This fixes #1608470.
[timo]</li>
<li>Show a warning in the moderation view if the moderation workflow is disabled.
[timo]</li>
<li>Move &#8216;Moderate comments&#8217; link from site actions to user actions.
[timo]</li>
<li>Fix #662654: As an administrator, I can configure a Collection to show recent
comments. Comment.Type() now correctly returns the FTI title (&#8216;Comment&#8217;)
[chaoflow]</li>
<li>German translation updated.
[juh]</li>
<li>Fix #2419342: Fix untranslated published/deleted status messages.
[timo]</li>
<li>Remove fixed width of the actions column of the moderation view. The
translated button titles can differ in size from the English titles.
[timo]</li>
<li>Fix #2494228: Remove comments as well when a content object is deleted.
[timo]</li>
<li>Fix unicode error when non-ASCII characters are typed into the name field of a
comment by anonymous users.
[regebro]</li>
<li>Make p.a.d. work with the recent version of plone.z3cform (0.5.10)
[timo]</li>
<li>Make p.a.d. styles less generic. This fixes #10253.
[timo]</li>
<li>Added greek translation.
[ggozad]</li>
<li>A bug in the moderator panel meant you couldn&#8217;t delete items in a virtual
host, if your portal was named &#8220;plone&#8221;.
[regebro]</li>
</ul>
</div>
<div class="section" id="b3-2010-01-28">
<h2>1.0b3 (2010-01-28)<a class="headerlink" href="#b3-2010-01-28" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Added an i18n directory for messages in the plone domain and updated scripts
to rebuild and sync it.
[hannosch]</li>
<li>Added an optional conversationCanonicalAdapterFactory showing how to share
comments across all translations with LinguaPlone, by storing and retrieving
the conversation from the canonical object.
[hannosch]</li>
<li>Play by the Plone 3.3+ rules and use the INavigationRoot as a base for the
moderation view.
[hannosch]</li>
<li>Added a commentTitle CSS class to the comment titles.
[hannosch]</li>
<li>Update message ids to match their real text.
[hannosch]</li>
<li>Set CSS classes for the comment form in the updateActions method.
[timo]</li>
<li>Respect the allow_comments field on an object and avoid calculations if no
comments should be shown.
[hannosch]</li>
<li>Automatically load the ZCML files of the captcha widgets if they are
installed.
[hannosch]</li>
<li>Fixed i18n domain in GenericSetup profiles to be <tt class="docutils literal"><span class="pre">plone</span></tt>. Other values
aren&#8217;t supported for GS profiles.
[hannosch]</li>
<li>Provide our own copy of the default one state workflow. Not all Plone sites
have this workflow installed.
[hannosch]</li>
<li>Register the event subscribers for the correct interfaces in Plone 3.
[hannosch]</li>
<li>Factored out subscriber declarations into its own ZCML file.
[hannosch]</li>
<li>Bugfix for #2281226: Moderation View: Comments disappear when hitting the
&#8216;Apply&#8217; button without choosing a bulk action.
[timo]</li>
<li>Allow to show the full text of a comment in the moderation view.
[timo]</li>
<li>German translation added.
[timo]</li>
<li>Italian translation added.
[keul]</li>
</ul>
</div>
<div class="section" id="b2-2010-01-22">
<h2>1.0b2 (2010-01-22)<a class="headerlink" href="#b2-2010-01-22" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Bugfix for #2010181: The name of a commenter who commented while not logged in
should not appear as a link.
[timo]</li>
<li>Bugfix for #2010078: Comments that await moderation are visually distinguished
from published comments.
[timo]</li>
<li>Bugfix for #2010085: Use object_provides instead of portal_type to query the
catalog for comment.
[timo]</li>
<li>Bugfix for #2010071: p.a.d. works with plone.z3cform 0.5.7 and
plone.app.z3cform 0.4.9 now.
[timo]</li>
<li>Bugfix for #1513398: Show &#8220;anonymous&#8221; when name field is empty in comment
form.
[timo]</li>
<li>Migration view: Dry run option added, abort transaction when something goes
wrong during migration, be more verbose about errors.
[timo]</li>
</ul>
</div>
<div class="section" id="b1-2009-12-08">
<h2>1.0b1 (2009-12-08)<a class="headerlink" href="#b1-2009-12-08" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Fix redirect after a adding a comment
[timo]</li>
<li>Replace yes/no widgets with check boxes in the discussion control panel
[timo]</li>
<li>Make comments viewlet show up in Plone 4
[timo]</li>
<li>Apply Plone 4 styles to comment form
[timo]</li>
<li>Simplify moderation view by removing the filters
[timo]</li>
</ul>
</div>
<div class="section" id="a2-2009-10-18">
<h2>1.0a2 (2009-10-18)<a class="headerlink" href="#a2-2009-10-18" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Plone 4 / Zope 2.12 support
[timo]</li>
<li>Comment migration script added
[timo]</li>
<li>Pluggable plone.z3cform comment forms
[timo]</li>
<li>Captcha and ReCaptcha support added
[timo]</li>
</ul>
</div>
<div class="section" id="a1-2009-06-07">
<h2>1.0a1 (2009-06-07)<a class="headerlink" href="#a1-2009-06-07" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Basic commenting functionality and batch moderation.
[timo]</li>
</ul>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Changelog</a><ul>
<li><a class="reference internal" href="#unreleased">2.1.1 (unreleased)</a></li>
<li><a class="reference internal" href="#id1">2.1.0 (2011-08-22)</a></li>
<li><a class="reference internal" href="#id2">2.0.9 (2011-07-25)</a></li>
<li><a class="reference internal" href="#id3">2.0.8 (2011-07-25)</a></li>
<li><a class="reference internal" href="#id4">2.0.7 (2011-07-15)</a></li>
<li><a class="reference internal" href="#id5">2.0.6 (2011-07-04)</a></li>
<li><a class="reference internal" href="#id6">2.0.5 (2011-06-16)</a></li>
<li><a class="reference internal" href="#id7">2.0.4 (2011-05-28)</a></li>
<li><a class="reference internal" href="#id8">2.0.3 (2011-06-19)</a></li>
<li><a class="reference internal" href="#id9">2.0.2 (2011-05-12)</a></li>
<li><a class="reference internal" href="#id10">2.0.1 (2011-04-22)</a></li>
<li><a class="reference internal" href="#id11">2.0 (2011-04-21)</a></li>
<li><a class="reference internal" href="#b2-2011-04-21">2.0b2 (2011-04-21)</a></li>
<li><a class="reference internal" href="#b1-2011-04-06">2.0b1 (2011-04-06)</a></li>
<li><a class="reference internal" href="#a3-2011-03-02">2.0a3 (2011-03-02)</a></li>
<li><a class="reference internal" href="#a2-2011-02-08">2.0a2 (2011-02-08)</a></li>
<li><a class="reference internal" href="#a1-2011-02-07">2.0a1 (2011-02-07)</a></li>
<li><a class="reference internal" href="#id12">1.0 (2011-02-07)</a></li>
<li><a class="reference internal" href="#rc2-2011-01-24">1.0RC2 (2011-01-24)</a></li>
<li><a class="reference internal" href="#rc1-2011-01-22">1.0RC1 (2011-01-22)</a></li>
<li><a class="reference internal" href="#b12-2010-11-04">1.0b12 (2010-11-04)</a></li>
<li><a class="reference internal" href="#b11-2010-11-03">1.0b11 (2010-11-03)</a></li>
<li><a class="reference internal" href="#b10-2010-10-15">1.0b10 (2010-10-15)</a></li>
<li><a class="reference internal" href="#b9-2010-10-07">1.0b9 (2010-10-07)</a></li>
<li><a class="reference internal" href="#b8-2010-10-04">1.0b8 (2010-10-04)</a></li>
<li><a class="reference internal" href="#b7-2010-09-15">1.0b7 (2010-09-15)</a></li>
<li><a class="reference internal" href="#b6-2010-08-24">1.0b6 (2010-08-24)</a></li>
<li><a class="reference internal" href="#b5-2010-07-16">1.0b5 (2010-07-16)</a></li>
<li><a class="reference internal" href="#b4-2010-04-04">1.0b4 (2010-04-04)</a></li>
<li><a class="reference internal" href="#b3-2010-01-28">1.0b3 (2010-01-28)</a></li>
<li><a class="reference internal" href="#b2-2010-01-22">1.0b2 (2010-01-22)</a></li>
<li><a class="reference internal" href="#b1-2009-12-08">1.0b1 (2009-12-08)</a></li>
<li><a class="reference internal" href="#a2-2009-10-18">1.0a2 (2009-10-18)</a></li>
<li><a class="reference internal" href="#a1-2009-06-07">1.0a1 (2009-06-07)</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="api.html"
                        title="previous chapter">API/Interfaces</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/changes.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" size="18" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="api.html" title="API/Interfaces"
             >previous</a> |</li>
        <li><a href="index.html">plone.app.discussion v2.0 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2010, Timo Stollenwerk - Plone Foundation.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.0.7.
    </div>
  </body>
</html>