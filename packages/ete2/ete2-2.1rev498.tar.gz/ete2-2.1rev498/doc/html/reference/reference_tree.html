

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Master Tree class &mdash; A Python Environment for (phylogenetic) Tree Exploration</title>
    
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '2.1 beta',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="author" title="About these documents" href="../about.html" />
    <link rel="top" title="A Python Environment for (phylogenetic) Tree Exploration" href="../index.html" />
    <link rel="up" title="ETE’s Reference Guide" href="index.html" />
    <link rel="next" title="Treeview module" href="reference_treeview.html" />
    <link rel="prev" title="ETE’s Reference Guide" href="index.html" />
 

<!-- <div class="warning" align="center"> -->
<!--   This site is still under construction and refers to -->
<!--   the new <b>ETE 2.1</b> version (temporary module -->
<!--   name: <b>ete2a1</b>). Many sections may be incomplete or contain -->
<!--   errors. -->
<!-- </div> -->


<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-783841-12']);
  _gaq.push(['_setCookiePath', '/ete2/']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>






  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="reference_treeview.html" title="Treeview module"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="index.html" title="ETE’s Reference Guide"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">ETE documentation</a> &raquo;</li>
          <li><a href="index.html" accesskey="U">ETE&#8217;s Reference Guide</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="master-tree-class">
<h1>Master Tree class<a class="headerlink" href="#master-tree-class" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="ete2.TreeNode">
<em class="property">class </em><tt class="descname">TreeNode</tt><big>(</big><em>newick=None</em>, <em>format=0</em><big>)</big><a class="headerlink" href="#ete2.TreeNode" title="Permalink to this definition">¶</a></dt>
<dd><p>TreeNode (Tree) class is used to store a tree structure. A tree
consists of a collection of TreeNode instances connected in a
hierarchical way. Trees can be loaded from the New Hampshire Newick
format (newick).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>newick</strong> &#8211; Path to the file containing the tree or, alternatively,
the text string containing the same information.</li>
<li><strong>format</strong> (<em>0</em>) &#8211; <p>subnewick format</p>
<table border="1" class="docutils">
<colgroup>
<col width="12%" />
<col width="88%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">FORMAT</th>
<th class="head">DESCRIPTION</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>0</td>
<td>flexible with support values</td>
</tr>
<tr class="row-odd"><td>1</td>
<td>flexible with internal node names</td>
</tr>
<tr class="row-even"><td>2</td>
<td>all branches + leaf names + internal supports</td>
</tr>
<tr class="row-odd"><td>3</td>
<td>all branches + all names</td>
</tr>
<tr class="row-even"><td>4</td>
<td>leaf branches + leaf names</td>
</tr>
<tr class="row-odd"><td>5</td>
<td>internal and leaf branches + leaf names</td>
</tr>
<tr class="row-even"><td>6</td>
<td>internal branches + leaf names</td>
</tr>
<tr class="row-odd"><td>7</td>
<td>leaf branches + all names</td>
</tr>
<tr class="row-even"><td>8</td>
<td>all names</td>
</tr>
<tr class="row-odd"><td>9</td>
<td>leaf names</td>
</tr>
<tr class="row-even"><td>100</td>
<td>topology only</td>
</tr>
</tbody>
</table>
</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">a tree node object which represents the base of the tree.</p>
</td>
</tr>
</tbody>
</table>
<p>** Examples: **</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">t1</span> <span class="o">=</span> <span class="n">Tree</span><span class="p">()</span> <span class="c"># creates an empty tree</span>
<span class="n">t2</span> <span class="o">=</span> <span class="n">Tree</span><span class="p">(</span><span class="s">&#39;(A:1,(B:1,(C:1,D:1):0.5):0.5);&#39;</span><span class="p">)</span>
<span class="n">t3</span> <span class="o">=</span> <span class="n">Tree</span><span class="p">(</span><span class="s">&#39;/home/user/myNewickFile.txt&#39;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="method">
<dt id="ete2.TreeNode.add_child">
<tt class="descname">add_child</tt><big>(</big><em>child=None</em>, <em>name=None</em>, <em>dist=None</em>, <em>support=None</em><big>)</big><a class="headerlink" href="#ete2.TreeNode.add_child" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a new child to this node. If child node is not suplied
as an argument, a new node instance will be created.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>child</strong> (<em>None</em>) &#8211; the node instance to be added as a child.</li>
<li><strong>name</strong> (<em>None</em>) &#8211; the name that will be given to the child.</li>
<li><strong>dist</strong> (<em>None</em>) &#8211; the distance from the node to the child.</li>
<li><strong>support&#8217;</strong> (<em>None</em>) &#8211; the support value of child partition.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">The child node instance</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ete2.TreeNode.add_face">
<tt class="descname">add_face</tt><big>(</big><em>face</em>, <em>column</em>, <em>position='branch-right'</em><big>)</big><a class="headerlink" href="#ete2.TreeNode.add_face" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a fixed face to the node.  This type of faces will be
always attached to nodes, independently of the layout
function.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>face</strong> &#8211; a Face or inherited instance</li>
<li><strong>column</strong> &#8211; An integer number starting from 0</li>
<li><strong>position</strong> (<em>&#8220;branch-right&#8221;</em>) &#8211; Posible values are:
&#8220;branch-right&#8221;, &#8220;branch-top&#8221;, &#8220;branch-bottom&#8221;, &#8220;float&#8221;,
&#8220;aligned&#8221;</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ete2.TreeNode.add_feature">
<tt class="descname">add_feature</tt><big>(</big><em>pr_name</em>, <em>pr_value</em><big>)</big><a class="headerlink" href="#ete2.TreeNode.add_feature" title="Permalink to this definition">¶</a></dt>
<dd><p>Add or update a node&#8217;s feature.</p>
</dd></dl>

<dl class="method">
<dt id="ete2.TreeNode.add_features">
<tt class="descname">add_features</tt><big>(</big><em>**features</em><big>)</big><a class="headerlink" href="#ete2.TreeNode.add_features" title="Permalink to this definition">¶</a></dt>
<dd><p>Add or update several features.</p>
</dd></dl>

<dl class="method">
<dt id="ete2.TreeNode.add_sister">
<tt class="descname">add_sister</tt><big>(</big><em>sister=None</em>, <em>name=None</em>, <em>dist=None</em><big>)</big><a class="headerlink" href="#ete2.TreeNode.add_sister" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a sister to this node. If sister node is not supplied
as an argument, a new TreeNode instance will be created and
returned.</p>
</dd></dl>

<dl class="attribute">
<dt id="ete2.TreeNode.children">
<tt class="descname">children</tt><a class="headerlink" href="#ete2.TreeNode.children" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of children nodes</p>
</dd></dl>

<dl class="method">
<dt id="ete2.TreeNode.convert_to_ultrametric">
<tt class="descname">convert_to_ultrametric</tt><big>(</big><em>tree_length</em>, <em>strategy='balanced'</em><big>)</big><a class="headerlink" href="#ete2.TreeNode.convert_to_ultrametric" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts a tree to ultrametric topology (all leaves must have
the same distance to root). Note that, for visual inspection
of ultrametric trees, node.img_style[&#8220;size&#8221;] should be set to
0.</p>
</dd></dl>

<dl class="method">
<dt id="ete2.TreeNode.copy">
<tt class="descname">copy</tt><big>(</big><big>)</big><a class="headerlink" href="#ete2.TreeNode.copy" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an exact and complete copy of current node.</p>
</dd></dl>

<dl class="method">
<dt id="ete2.TreeNode.del_feature">
<tt class="descname">del_feature</tt><big>(</big><em>pr_name</em><big>)</big><a class="headerlink" href="#ete2.TreeNode.del_feature" title="Permalink to this definition">¶</a></dt>
<dd><p>Permanently deletes a node&#8217;s feature.</p>
</dd></dl>

<dl class="method">
<dt id="ete2.TreeNode.delete">
<tt class="descname">delete</tt><big>(</big><em>prevent_nondicotomic=True</em><big>)</big><a class="headerlink" href="#ete2.TreeNode.delete" title="Permalink to this definition">¶</a></dt>
<dd><p>Deletes node from the tree structure. Notice that this
method makes &#8216;disapear&#8217; the node from the tree structure. This
means that children from the deleted node are transferred to the
next available parent.</p>
<p><strong>Example:</strong></p>
<div class="highlight-python"><pre>      / C
root-|
     |        / B
      \--- H |
              \ A

&gt; root.delete(H) will produce this structure:

      / C
     |
root-|--B
     |
      \ A</pre>
</div>
</dd></dl>

<dl class="method">
<dt id="ete2.TreeNode.describe">
<tt class="descname">describe</tt><big>(</big><big>)</big><a class="headerlink" href="#ete2.TreeNode.describe" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints general information about this node and its
connections.</p>
</dd></dl>

<dl class="method">
<dt id="ete2.TreeNode.detach">
<tt class="descname">detach</tt><big>(</big><big>)</big><a class="headerlink" href="#ete2.TreeNode.detach" title="Permalink to this definition">¶</a></dt>
<dd><p>Detachs this node (and all its descendants) from its parent
and returns the referent to itself.</p>
<p>Detached node conserves all its structure of descendants, and can
be attached to another node through the &#8216;add_child&#8217; function. This
mechanism can be seen as a cut and paste.</p>
</dd></dl>

<dl class="attribute">
<dt id="ete2.TreeNode.dist">
<tt class="descname">dist</tt><a class="headerlink" href="#ete2.TreeNode.dist" title="Permalink to this definition">¶</a></dt>
<dd><p>Branch length distance to parent node. Default = 0.0</p>
</dd></dl>

<dl class="method">
<dt id="ete2.TreeNode.get_ascii">
<tt class="descname">get_ascii</tt><big>(</big><em>show_internal=True</em>, <em>compact=False</em><big>)</big><a class="headerlink" href="#ete2.TreeNode.get_ascii" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a string containing an ascii drawing of the tree.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>show_internal</strong> &#8211; includes internal edge names.</li>
<li><strong>compact</strong> &#8211; use exactly one line per tip.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ete2.TreeNode.get_children">
<tt class="descname">get_children</tt><big>(</big><big>)</big><a class="headerlink" href="#ete2.TreeNode.get_children" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an independent list of node&#8217;s children.</p>
</dd></dl>

<dl class="method">
<dt id="ete2.TreeNode.get_common_ancestor">
<tt class="descname">get_common_ancestor</tt><big>(</big><em>*target_nodes</em>, <em>**kargs</em><big>)</big><a class="headerlink" href="#ete2.TreeNode.get_common_ancestor" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the first common ancestor between this node and a given
list of &#8216;target_nodes&#8217;.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">t</span> <span class="o">=</span> <span class="n">tree</span><span class="o">.</span><span class="n">Tree</span><span class="p">(</span><span class="s">&quot;(((A:0.1, B:0.01):0.001, C:0.0001):1.0[&amp;&amp;NHX:name=common], (D:0.00001):0.000001):2.0[&amp;&amp;NHX:name=root];&quot;</span><span class="p">)</span>
<span class="n">A</span> <span class="o">=</span> <span class="n">t</span><span class="o">.</span><span class="n">get_descendants_by_name</span><span class="p">(</span><span class="s">&quot;A&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">C</span> <span class="o">=</span> <span class="n">t</span><span class="o">.</span><span class="n">get_descendants_by_name</span><span class="p">(</span><span class="s">&quot;C&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">common</span> <span class="o">=</span>  <span class="n">A</span><span class="o">.</span><span class="n">get_common_ancestor</span><span class="p">(</span><span class="n">C</span><span class="p">)</span>
<span class="k">print</span> <span class="n">common</span><span class="o">.</span><span class="n">name</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="ete2.TreeNode.get_common_ancestor_OLD">
<tt class="descname">get_common_ancestor_OLD</tt><big>(</big><em>*target_nodes</em><big>)</big><a class="headerlink" href="#ete2.TreeNode.get_common_ancestor_OLD" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the first common ancestor between this node and a given
list of &#8216;target_nodes&#8217;.</p>
<p><strong>Examples:</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">t</span> <span class="o">=</span> <span class="n">tree</span><span class="o">.</span><span class="n">Tree</span><span class="p">(</span><span class="s">&quot;(((A:0.1, B:0.01):0.001, C:0.0001):1.0[&amp;&amp;NHX:name=common], (D:0.00001):0.000001):2.0[&amp;&amp;NHX:name=root];&quot;</span><span class="p">)</span>
<span class="n">A</span> <span class="o">=</span> <span class="n">t</span><span class="o">.</span><span class="n">get_descendants_by_name</span><span class="p">(</span><span class="s">&quot;A&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">C</span> <span class="o">=</span> <span class="n">t</span><span class="o">.</span><span class="n">get_descendants_by_name</span><span class="p">(</span><span class="s">&quot;C&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">common</span> <span class="o">=</span>  <span class="n">A</span><span class="o">.</span><span class="n">get_common_ancestor</span><span class="p">(</span><span class="n">C</span><span class="p">)</span>
<span class="k">print</span> <span class="n">common</span><span class="o">.</span><span class="n">name</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="ete2.TreeNode.get_descendants">
<tt class="descname">get_descendants</tt><big>(</big><em>strategy='levelorder'</em>, <em>is_leaf_fn=None</em><big>)</big><a class="headerlink" href="#ete2.TreeNode.get_descendants" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of all (leaves and internal) descendant nodes.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>is_leaf_fn</strong> (<em>None</em>) &#8211; See <a class="reference internal" href="#ete2.TreeNode.traverse" title="ete2.TreeNode.traverse"><tt class="xref py py-func docutils literal"><span class="pre">TreeNode.traverse()</span></tt></a> for
documentation.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ete2.TreeNode.get_distance">
<tt class="descname">get_distance</tt><big>(</big><em>target</em>, <em>target2=None</em>, <em>topology_only=False</em><big>)</big><a class="headerlink" href="#ete2.TreeNode.get_distance" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the distance between two nodes. If only one target is
specified, it returns the distance bewtween the target and the
current node.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>target</strong> &#8211; a node within the same tree structure.</li>
<li><strong>target2</strong> &#8211; a node within the same tree structure. If
not specified, current node is used as target2.</li>
<li><strong>topology_only</strong> (<em>False</em>) &#8211; If set to True, distance will
refer to the number of nodes between target and target2.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">branch length distance between target and
target2. If topology_only flag is True, returns the number
of nodes between target and target2.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ete2.TreeNode.get_farthest_leaf">
<tt class="descname">get_farthest_leaf</tt><big>(</big><em>topology_only=False</em><big>)</big><a class="headerlink" href="#ete2.TreeNode.get_farthest_leaf" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns node&#8217;s farthest descendant node (which is always a leaf), and the
distance to it.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>topology_only</strong> (<em>False</em>) &#8211; If set to True, distance
between nodes will be referred to the number of nodes
between them. In other words, topological distance will be
used instead of branch length distances.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A tuple containing the farthest leaf referred to the
current node and the distance to it.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ete2.TreeNode.get_farthest_node">
<tt class="descname">get_farthest_node</tt><big>(</big><em>topology_only=False</em><big>)</big><a class="headerlink" href="#ete2.TreeNode.get_farthest_node" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the node&#8217;s farthest descendant or ancestor node, and the
distance to it.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>topology_only</strong> (<em>False</em>) &#8211; If set to True, distance
between nodes will be referred to the number of nodes
between them. In other words, topological distance will be
used instead of branch length distances.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A tuple containing the farthest node referred to the
current node and the distance to it.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ete2.TreeNode.get_leaf_names">
<tt class="descname">get_leaf_names</tt><big>(</big><em>is_leaf_fn=None</em><big>)</big><a class="headerlink" href="#ete2.TreeNode.get_leaf_names" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the list of terminal node names under the current
node.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>is_leaf_fn</strong> (<em>None</em>) &#8211; See <a class="reference internal" href="#ete2.TreeNode.traverse" title="ete2.TreeNode.traverse"><tt class="xref py py-func docutils literal"><span class="pre">TreeNode.traverse()</span></tt></a> for
documentation.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ete2.TreeNode.get_leaves">
<tt class="descname">get_leaves</tt><big>(</big><em>is_leaf_fn=None</em><big>)</big><a class="headerlink" href="#ete2.TreeNode.get_leaves" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the list of terminal nodes (leaves) under this node.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>is_leaf_fn</strong> (<em>None</em>) &#8211; See <a class="reference internal" href="#ete2.TreeNode.traverse" title="ete2.TreeNode.traverse"><tt class="xref py py-func docutils literal"><span class="pre">TreeNode.traverse()</span></tt></a> for
documentation.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ete2.TreeNode.get_leaves_by_name">
<tt class="descname">get_leaves_by_name</tt><big>(</big><em>name</em><big>)</big><a class="headerlink" href="#ete2.TreeNode.get_leaves_by_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of leaf nodes matching a given name.</p>
</dd></dl>

<dl class="method">
<dt id="ete2.TreeNode.get_midpoint_outgroup">
<tt class="descname">get_midpoint_outgroup</tt><big>(</big><big>)</big><a class="headerlink" href="#ete2.TreeNode.get_midpoint_outgroup" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the node that divides the current tree into two distance-balanced
partitions.</p>
</dd></dl>

<dl class="method">
<dt id="ete2.TreeNode.get_partitions">
<tt class="descname">get_partitions</tt><big>(</big><big>)</big><a class="headerlink" href="#ete2.TreeNode.get_partitions" title="Permalink to this definition">¶</a></dt>
<dd><p>It returns the set of all possible partitions under a
node. Note that current implementation is quite inefficient
when used in very large trees.</p>
<p>t = Tree(&#8220;((a, b), e);&#8221;)
partitions = t.get_partitions()</p>
<p># Will return: 
# a,b,e
# a,e
# b,e
# a,b
# e
# b
# a</p>
</dd></dl>

<dl class="method">
<dt id="ete2.TreeNode.get_sisters">
<tt class="descname">get_sisters</tt><big>(</big><big>)</big><a class="headerlink" href="#ete2.TreeNode.get_sisters" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an indepent list of sister nodes.</p>
</dd></dl>

<dl class="method">
<dt id="ete2.TreeNode.get_tree_root">
<tt class="descname">get_tree_root</tt><big>(</big><big>)</big><a class="headerlink" href="#ete2.TreeNode.get_tree_root" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the absolute root node of current tree structure.</p>
</dd></dl>

<dl class="method">
<dt id="ete2.TreeNode.is_leaf">
<tt class="descname">is_leaf</tt><big>(</big><big>)</big><a class="headerlink" href="#ete2.TreeNode.is_leaf" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if current node is a leaf.</p>
</dd></dl>

<dl class="method">
<dt id="ete2.TreeNode.is_root">
<tt class="descname">is_root</tt><big>(</big><big>)</big><a class="headerlink" href="#ete2.TreeNode.is_root" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns True if current node has no parent</p>
</dd></dl>

<dl class="method">
<dt id="ete2.TreeNode.iter_descendants">
<tt class="descname">iter_descendants</tt><big>(</big><em>strategy='levelorder'</em>, <em>is_leaf_fn=None</em><big>)</big><a class="headerlink" href="#ete2.TreeNode.iter_descendants" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an iterator over all descendant nodes.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>is_leaf_fn</strong> (<em>None</em>) &#8211; See <a class="reference internal" href="#ete2.TreeNode.traverse" title="ete2.TreeNode.traverse"><tt class="xref py py-func docutils literal"><span class="pre">TreeNode.traverse()</span></tt></a> for
documentation.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ete2.TreeNode.iter_leaf_names">
<tt class="descname">iter_leaf_names</tt><big>(</big><em>is_leaf_fn=None</em><big>)</big><a class="headerlink" href="#ete2.TreeNode.iter_leaf_names" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an iterator over the leaf names under this node.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>is_leaf_fn</strong> (<em>None</em>) &#8211; See <a class="reference internal" href="#ete2.TreeNode.traverse" title="ete2.TreeNode.traverse"><tt class="xref py py-func docutils literal"><span class="pre">TreeNode.traverse()</span></tt></a> for
documentation.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ete2.TreeNode.iter_leaves">
<tt class="descname">iter_leaves</tt><big>(</big><em>is_leaf_fn=None</em><big>)</big><a class="headerlink" href="#ete2.TreeNode.iter_leaves" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an iterator over the leaves under this node.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>is_leaf_fn</strong> (<em>None</em>) &#8211; See <a class="reference internal" href="#ete2.TreeNode.traverse" title="ete2.TreeNode.traverse"><tt class="xref py py-func docutils literal"><span class="pre">TreeNode.traverse()</span></tt></a> for
documentation.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ete2.TreeNode.iter_search_nodes">
<tt class="descname">iter_search_nodes</tt><big>(</big><em>**conditions</em><big>)</big><a class="headerlink" href="#ete2.TreeNode.iter_search_nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Search nodes in an interative way. Matches are being yield as
they are being found. This avoids to scan the full tree
topology before returning the first matches. Useful when
dealing with huge trees.</p>
</dd></dl>

<dl class="method">
<dt id="ete2.TreeNode.ladderize">
<tt class="descname">ladderize</tt><big>(</big><em>direction=0</em><big>)</big><a class="headerlink" href="#ete2.TreeNode.ladderize" title="Permalink to this definition">¶</a></dt>
<dd><p>Sort the branches of a given tree (swapping children nodes)
according to the size of each partition.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">t</span> <span class="o">=</span>  <span class="n">Tree</span><span class="p">(</span><span class="s">&quot;(f,((d, ((a,b),c)),e));&quot;</span><span class="p">)</span>

<span class="k">print</span> <span class="n">t</span>

<span class="c">#            </span>
<span class="c">#      /-f</span>
<span class="c">#     |</span>
<span class="c">#     |          /-d</span>
<span class="c"># ----|         |</span>
<span class="c">#     |     /---|          /-a</span>
<span class="c">#     |    |    |     /---|</span>
<span class="c">#     |    |     \---|     \-b</span>
<span class="c">#      \---|         |</span>
<span class="c">#          |          \-c</span>
<span class="c">#          |</span>
<span class="c">#           \-e</span>

<span class="n">t</span><span class="o">.</span><span class="n">ladderize</span><span class="p">()</span>
<span class="k">print</span> <span class="n">t</span>

<span class="c">#      /-f</span>
<span class="c"># ----|</span>
<span class="c">#     |     /-e</span>
<span class="c">#      \---|</span>
<span class="c">#          |     /-d</span>
<span class="c">#           \---|</span>
<span class="c">#               |     /-c</span>
<span class="c">#                \---|</span>
<span class="c">#                    |     /-a</span>
<span class="c">#                     \---|</span>
<span class="c">#                          \-b</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="ete2.TreeNode.populate">
<tt class="descname">populate</tt><big>(</big><em>size</em>, <em>names_library=None</em>, <em>reuse_names=False</em>, <em>random_branches=False</em><big>)</big><a class="headerlink" href="#ete2.TreeNode.populate" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates a random topology by populating current node.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>names_library</strong> (<em>None</em>) &#8211; If provided, names library
(list, set, dict, etc.) will be used to name nodes.</li>
<li><strong>reuse_names</strong> (<em>False</em>) &#8211; If True, node names will not be
necessarily unique, which makes the process a bit more
efficient.</li>
<li><strong>random</strong> (<em>False</em>) &#8211; If True, branch distances and support
values will be randomized.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ete2.TreeNode.prune">
<tt class="descname">prune</tt><big>(</big><em>nodes</em><big>)</big><a class="headerlink" href="#ete2.TreeNode.prune" title="Permalink to this definition">¶</a></dt>
<dd><p>Prunes the topology of a node in order to conserve only a
selected list of leaf or internal nodes. The minimum number of
internal nodes (the deepest as possible) are kept to conserve
the topological relationship among the provided list of nodes.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Variables:</th><td class="field-body"><strong>nodes</strong> &#8211; a list of node names or node objects that must be kept</td>
</tr>
</tbody>
</table>
<p><strong>Examples:</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">t</span> <span class="o">=</span> <span class="n">Tree</span><span class="p">(</span><span class="s">&quot;(((A:0.1, B:0.01):0.001, C:0.0001):1.0[&amp;&amp;NHX:name=I], (D:0.00001):0.000001[&amp;&amp;NHX:name=J]):2.0[&amp;&amp;NHX:name=root];&quot;</span><span class="p">)</span>
<span class="n">node_C</span> <span class="o">=</span> <span class="n">t</span><span class="o">.</span><span class="n">search_nodes</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s">&quot;C&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">t</span><span class="o">.</span><span class="n">prune</span><span class="p">([</span><span class="s">&quot;A&quot;</span><span class="p">,</span><span class="s">&quot;D&quot;</span><span class="p">,</span> <span class="n">node_C</span><span class="p">])</span>
<span class="k">print</span> <span class="n">t</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="ete2.TreeNode.remove_child">
<tt class="descname">remove_child</tt><big>(</big><em>child</em><big>)</big><a class="headerlink" href="#ete2.TreeNode.remove_child" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes a child from this node (parent and child
nodes still exit but are no longer connected).</p>
</dd></dl>

<dl class="method">
<dt id="ete2.TreeNode.remove_sister">
<tt class="descname">remove_sister</tt><big>(</big><em>sister=None</em><big>)</big><a class="headerlink" href="#ete2.TreeNode.remove_sister" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes a node&#8217;s sister node. It has the same effect as
<strong>`TreeNode.up.remove_child(sister)`</strong></p>
<p>If a sister node is not supplied, the first sister will be deleted
and returned.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>sister</strong> &#8211; A node instance</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The node removed</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ete2.TreeNode.render">
<tt class="descname">render</tt><big>(</big><em>file_name</em>, <em>layout=None</em>, <em>w=None</em>, <em>h=None</em>, <em>tree_style=None</em>, <em>units='px'</em>, <em>dpi=300</em><big>)</big><a class="headerlink" href="#ete2.TreeNode.render" title="Permalink to this definition">¶</a></dt>
<dd><p>Renders the node structure as an image.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Variables:</th><td class="field-body"><ul class="first last simple">
<li><strong>file_name</strong> &#8211; path to the output image file. valid
extensions are .SVG, .PDF, .PNG</li>
<li><strong>layout</strong> &#8211; a layout function or a valid layout function name</li>
<li><strong>tree_style</strong> &#8211; a <cite>TreeStyle</cite> instance containing the image
properties</li>
<li><strong>units</strong> (<em>px</em>) &#8211; &#8220;px&#8221;: pixels, &#8220;mm&#8221;: millimeters, &#8220;in&#8221;: inches</li>
<li><strong>h</strong> (<em>None</em>) &#8211; height of the image in <tt class="xref py py-attr docutils literal"><span class="pre">units</span></tt></li>
<li><strong>w</strong> (<em>None</em>) &#8211; weight of the image in <tt class="xref py py-attr docutils literal"><span class="pre">units</span></tt></li>
<li><strong>dpi</strong> (<em>300</em>) &#8211; dots per inches.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ete2.TreeNode.search_nodes">
<tt class="descname">search_nodes</tt><big>(</big><em>**conditions</em><big>)</big><a class="headerlink" href="#ete2.TreeNode.search_nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the list of nodes matching a given set of conditions.</p>
<p><strong>Example:</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">tree</span><span class="o">.</span><span class="n">search_nodes</span><span class="p">(</span><span class="n">dist</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s">&quot;human&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="ete2.TreeNode.set_outgroup">
<tt class="descname">set_outgroup</tt><big>(</big><em>outgroup</em><big>)</big><a class="headerlink" href="#ete2.TreeNode.set_outgroup" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets a descendant node as the outgroup of a tree.  This function
can be used to root a tree or even an internal node.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>outgroup</strong> &#8211; a node instance within the same tree
structure that will be used as a basal node.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ete2.TreeNode.set_style">
<tt class="descname">set_style</tt><big>(</big><em>node_style</em><big>)</big><a class="headerlink" href="#ete2.TreeNode.set_style" title="Permalink to this definition">¶</a></dt>
<dd><p>Set &#8216;node_style&#8217; as the fixed style for the current node.</p>
</dd></dl>

<dl class="method">
<dt id="ete2.TreeNode.show">
<tt class="descname">show</tt><big>(</big><em>layout=None</em>, <em>tree_style=None</em><big>)</big><a class="headerlink" href="#ete2.TreeNode.show" title="Permalink to this definition">¶</a></dt>
<dd><p>Starts an interative session to visualize current node
structure using provided layout and TreeStyle.</p>
</dd></dl>

<dl class="method">
<dt id="ete2.TreeNode.sort_descendants">
<tt class="descname">sort_descendants</tt><big>(</big><big>)</big><a class="headerlink" href="#ete2.TreeNode.sort_descendants" title="Permalink to this definition">¶</a></dt>
<dd><p>This function sort the branches of a given tree by
considerening node names. After the tree is sorted, nodes are
labeled using ascendent numbers.  This can be used to ensure that
nodes in a tree with the same node names are always labeled in
the same way.  Note that if duplicated names are present, extra
criteria should be added to sort nodes.
unique id is stored in _nid</p>
</dd></dl>

<dl class="attribute">
<dt id="ete2.TreeNode.support">
<tt class="descname">support</tt><a class="headerlink" href="#ete2.TreeNode.support" title="Permalink to this definition">¶</a></dt>
<dd><p>Branch support for current node</p>
</dd></dl>

<dl class="method">
<dt id="ete2.TreeNode.swap_children">
<tt class="descname">swap_children</tt><big>(</big><big>)</big><a class="headerlink" href="#ete2.TreeNode.swap_children" title="Permalink to this definition">¶</a></dt>
<dd><p>Swaps current children order.</p>
</dd></dl>

<dl class="method">
<dt id="ete2.TreeNode.traverse">
<tt class="descname">traverse</tt><big>(</big><em>strategy='levelorder'</em>, <em>is_leaf_fn=None</em><big>)</big><a class="headerlink" href="#ete2.TreeNode.traverse" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns an iterator to traverse the tree structure under this
node.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>strategy</strong> (<em>&#8220;levelorder&#8221;</em>) &#8211; set the way in which tree
will be traversed. Possible values are: &#8220;preorder&#8221; (first
parent and then children) &#8216;postorder&#8217; (first children and
the parent) and &#8220;levelorder&#8221; (nodes are visited in order
from root to leaves)</li>
<li><strong>is_leaf_fn</strong> (<em>None</em>) &#8211; If supplied, <tt class="docutils literal"><span class="pre">is_leaf_fn</span></tt>
function will be used to interrogate nodes about if they
are terminal or internal. <tt class="docutils literal"><span class="pre">is_leaf_fn</span></tt> function should
receive a node instance as first argument and return True
or False. Use this argument to traverse a tree dynamically
collapsing internal nodes.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ete2.TreeNode.unroot">
<tt class="descname">unroot</tt><big>(</big><big>)</big><a class="headerlink" href="#ete2.TreeNode.unroot" title="Permalink to this definition">¶</a></dt>
<dd><p>Unroots current node. This function is expected to be used on
the absolute tree root node, but it can be also be applied to
any other internal node. It will convert a split into a
multifurcation.</p>
</dd></dl>

<dl class="attribute">
<dt id="ete2.TreeNode.up">
<tt class="descname">up</tt><a class="headerlink" href="#ete2.TreeNode.up" title="Permalink to this definition">¶</a></dt>
<dd><p>Pointer to parent node</p>
</dd></dl>

<dl class="method">
<dt id="ete2.TreeNode.write">
<tt class="descname">write</tt><big>(</big><em>features=None</em>, <em>outfile=None</em>, <em>format=0</em><big>)</big><a class="headerlink" href="#ete2.TreeNode.write" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the newick representation of current node. Several
arguments control the way in which extra data is shown for
every node:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>features</strong> &#8211; a list of feature names to be exported
using the Extended Newick Format (i.e. features=[&#8220;name&#8221;,
&#8220;dist&#8221;]). Use an empty list to export all available features
in each node (features=[])</li>
<li><strong>outfile</strong> &#8211; writes the output to a given file</li>
<li><strong>format</strong> &#8211; defines the newick standard used to encode the
tree. See tutorial for details.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p><strong>Example:</strong></p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">t</span><span class="o">.</span><span class="n">get_newick</span><span class="p">(</span><span class="n">features</span><span class="o">=</span><span class="p">[</span><span class="s">&quot;species&quot;</span><span class="p">,</span><span class="s">&quot;name&quot;</span><span class="p">],</span> <span class="n">format</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="attribute">
<dt id="ete2.Tree">
<tt class="descname">Tree</tt><a class="headerlink" href="#ete2.Tree" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#ete2.TreeNode" title="ete2.TreeNode"><tt class="xref py py-class docutils literal"><span class="pre">TreeNode</span></tt></a></p>
</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/ete_logo.png" alt="Logo"/>
            </a></p>
  <h4>Previous topic</h4>
  <p class="topless"><a href="index.html"
                        title="previous chapter">ETE&#8217;s Reference Guide</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="reference_treeview.html"
                        title="next chapter">Treeview module</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/reference/reference_tree.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="reference_treeview.html" title="Treeview module"
             >next</a> |</li>
        <li class="right" >
          <a href="index.html" title="ETE’s Reference Guide"
             >previous</a> |</li>
        <li><a href="../index.html">ETE documentation</a> &raquo;</li>
          <li><a href="index.html" >ETE&#8217;s Reference Guide</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2011, Jaime Huerta-Cepas &amp; Toni Gabaldón.
      Last updated on Apr 09, 2012.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.2.
    </div>
  </body>
</html>