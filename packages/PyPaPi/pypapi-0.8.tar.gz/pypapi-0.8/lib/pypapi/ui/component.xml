<?xml version="1.0"?>
<component>
  <description>
    Configurazione della configurazione delle caratteristiche della UI.
  </description>

  <sectiontype name="column">
    <description>
      Descrizione della singola colonna. Il nome della sezione
      identifica il nome del campo associato.
    </description>

    <key name="title">
      <description>
        Titolo della colonna. Se non viene specificato, verrà
        utilizzato quello del campo.
      </description>
    </key>

    <key name="description">
      <description>
        Descrizione della colonna visualizzata come hint. Se non viene specificata, verrà
        utilizzata quello del campo.
      </description>
    </key>

    <key name="enabled" datatype="boolean">
      <description>
        Specifica se la colonna è abilitata all'interazione con l'utente.
      </description>
    </key>

    <key name="editable" datatype="boolean">
      <description>
        Specifica se i valori contenuti nella colonna sono modificabili.
      </description>
    </key>

    <key name="checkable" datatype="boolean">
      <description>
        Specifica se la colonna e i valori contenuti devono essere
        visualizzati con un box di spunta.
      </description>
    </key>
  </sectiontype>

  <sectiontype name="entity">
    <description>
      Descrizione di un singolo DataContext e conseguentemente del
      modello Qt che esso utilizza.
    </description>

    <multisection name="+" attribute="columns" type="column">
      <description>
        Colonne da includere nel modello.
      </description>
    </multisection>
  </sectiontype>

  <sectiontype name="form" datatype="pypapi.ui.config.FormRegistrator">
    <description>
      Descrizione di una singola form da registrare.
    </description>

    <key name="title" default="Senza titolo">
      <description>
        Titolo della maschera.
      </description>
    </key>

    <key name="menubaricontext" default="">
      <description>
        Nome visibile della icon action nel menu "moduli" e nella toolbar.
      </description>
    </key>

    <key name="formsource" default="" required="no">
      <description>
        Se presente identifica la source da caricare in fase di start up altrimenti viene 
        usata/creata la source con il nome della form.
      </description>
    </key>

    <key name="class" datatype="dotted-name" required="yes">
      <description>
        Nome assoluto della classe che implementa la form.
      </description>
    </key>

    <key name="interface" datatype="dotted-name" required="yes">
      <description>
        Nome assoluto dell'interfaccia a cui questa form si dedica.
      </description>
    </key>

    <key name="uifile" required="yes">
      <description>
        Path del file UI da caricare.
      </description>
    </key>

    <key name="primary" datatype="boolean" required="no" default="True">
      <description>
        Form di default per l'entità.
      </description>
    </key>

    <key name="icon" default=":/images/pypapi.png">
      <description>
        Icona da visualizzare
      </description>
    </key>

    <key name="toplevel" datatype="boolean" default="True">
      <description>
        Specifica se a questa maschera va associata una action presente
        nel menu "moduli" e nella toolbar.
      </description>
    </key>

    <key name="show" datatype="boolean" default="False">
      <description>
        Specifica se a questa maschera va mostrata all'apertura
        dell'applicazione.
      </description>
    </key>

    <key name="filter">
      <description>
        Indica l'eventuale filtro di ricerca dell'elemento da presentare all'apertura
        della form (solo se presente show o lo switch -f).
      </description>
    </key>

    <multisection type="entity" attribute="models" name="+">
      <description>
        Modelli che fanno parte della form
      </description>
    </multisection>

    <key name="show_search" datatype="boolean" default="False">
      <description>
        Specifica se l'apertura della form deve essere mediata dalla
        form di ricerca.
      </description>
    </key>
  </sectiontype>

  <sectiontype name="group">
    <description>
      Descrizione di un gruppo di form.
    </description>
    <multisection name="*" attribute="forms" type="form">
      <description>
        Registrazione di una singola form.
      </description>
    </multisection>
  </sectiontype>

  <sectiontype name="application" datatype="pypapi.ui.config.ApplicationConfigurator">
    <key name="modality" datatype="string" default="sdi">
      <description>
        Modalità della GUI, indica se usare la modalità
        "Multiple Document Interface" piuttosto che la
        "Single Document Interface".
      </description>
    </key>

    <key name="title" datatype="string" default="Main Window">
      <description>
        Titolo della maschera principale
      </description>
    </key>

    <key name="icon" datatype="string" default="">
      <description>
        Icona dell'applicazione
      </description>
    </key>

    <key name="geometry" datatype="string" default="0,68,1024,700">
      <description>
        Geometria (e posizione) iniziale della form: x, y, width, height
      </description>
    </key>

    <key name="maximized" datatype="boolean" default="False">
      <description>
        Specifica se all'apertura la form deve essere massimizzata.
      </description>
    </key>

    <key name="admin" datatype="boolean" default="False">
      <description>
        Specifica se all'apertura la form deve essere creata la sezione per i comandi amministrativi.
      </description>
    </key>
    
    <multisection name="*" attribute="groups" type="group">
      <description>
        Raggruppamento di form.
      </description>
    </multisection>

    <multisection name="*" attribute="forms" type="form">
      <description>
        Registrazione di una singola form.
      </description>
    </multisection>

  </sectiontype>
</component>
