
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>API &mdash; Flask-Admin 0.1 documentation</title>
    
    <link rel="stylesheet" href="_static/flasky.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="Flask-Admin 0.1 documentation" href="index.html" />
    <link rel="prev" title="Quick start" href="overview.html" /> 
  </head>
  <body>
  
  


    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <span class="target" id="module-flask.ext.admin"></span><div class="section" id="api">
<h1>API<a class="headerlink" href="#api" title="Permalink to this headline">¶</a></h1>
<dl class="function">
<dt id="flask.ext.admin.create_admin_blueprint">
<tt class="descclassname">flask.ext.admin.</tt><tt class="descname">create_admin_blueprint</tt><big>(</big><em>datastore</em>, <em>name='admin'</em>, <em>list_view_pagination=25</em>, <em>view_decorator=None</em>, <em>empty_sequence=u'x1a'</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#flask.ext.admin.create_admin_blueprint" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a Flask blueprint that provides the admin interface
views. This blueprint will need to be registered to your flask
application. The <cite>datastore</cite> parameter should be an set to be an
instantiated <tt class="xref py py-class docutils literal"><span class="pre">AdminDatastore</span></tt>.</p>
<p>For example, typical usage would look something like this:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">flask</span> <span class="kn">import</span> <span class="n">Flask</span>
<span class="kn">from</span> <span class="nn">flask.ext.admin.datastore.sqlalchemy</span> <span class="kn">import</span> <span class="n">SQLAlchemyDatastore</span>

<span class="kn">from</span> <span class="nn">my_application</span> <span class="kn">import</span> <span class="n">models</span><span class="p">,</span> <span class="n">db_session</span>

<span class="n">app</span> <span class="o">=</span> <span class="n">Flask</span><span class="p">(</span><span class="n">__name__</span><span class="p">)</span>
<span class="n">datastore</span> <span class="o">=</span> <span class="n">SQLAlchemyDatastore</span><span class="p">(</span><span class="n">models</span><span class="p">,</span> <span class="n">db_session</span><span class="p">)</span>
<span class="n">admin</span> <span class="o">=</span> <span class="n">create_admin_blueprint</span><span class="p">(</span><span class="n">datastore</span><span class="p">)</span>
<span class="n">app</span><span class="o">.</span><span class="n">register_blueprint</span><span class="p">(</span><span class="n">admin</span><span class="p">,</span> <span class="n">url_prefix</span><span class="o">=</span><span class="s">&#39;/admin&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>You can optionally specify the <cite>name</cite> to be used for your
blueprint. The blueprint name preceeds the view names in the
endpoints, if for example you want to refer to the views using
<tt class="xref py py-func docutils literal"><span class="pre">flask.url_for</span></tt>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If you are using more than one admin blueprint from within the
same app, it is necessary to give each admin blueprint a
different name so the admin blueprints will have distinct
endpoints.</p>
</div>
<p>The <cite>view_decorator</cite> parameter can be set to a decorator that will
be applied to each admin view function.  For example, you might
want to set this to a decorator that handles authentication
(e.g. login_required). See the authentication/view_decorator.py
for an example of this.</p>
<p>The <cite>list_view_pagination</cite> parameter sets the number of items that
will be listed per page in the list view.</p>
<p>Finally, the <cite>empty_sequence</cite> keyword can be used to designate a
sequence of characters that can be used as a substitute for cases
where part of the key url may be empty.  This should be a rare
occurance, but might comes up when using composite keys which can
contain empty parts. By default, <cite>empty_sequence</cite> is set to %1A,
the substitute control character.</p>
</dd></dl>

</div>
<div class="section" id="datastores">
<h1>Datastores<a class="headerlink" href="#datastores" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="flask.ext.admin.datastore.core.AdminDatastore">
<em class="property">class </em><tt class="descclassname">flask.ext.admin.datastore.core.</tt><tt class="descname">AdminDatastore</tt><a class="headerlink" href="#flask.ext.admin.datastore.core.AdminDatastore" title="Permalink to this definition">¶</a></dt>
<dd><p>A base class for admin datastore objects. All datastores used
in Flask-Admin should subclass this object and define the
following methods.</p>
<dl class="method">
<dt id="flask.ext.admin.datastore.core.AdminDatastore.create_model_pagination">
<tt class="descname">create_model_pagination</tt><big>(</big><em>model_name</em>, <em>page</em>, <em>per_page=25</em><big>)</big><a class="headerlink" href="#flask.ext.admin.datastore.core.AdminDatastore.create_model_pagination" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a pagination object for the list view.</p>
</dd></dl>

<dl class="method">
<dt id="flask.ext.admin.datastore.core.AdminDatastore.delete_model_instance">
<tt class="descname">delete_model_instance</tt><big>(</big><em>model_name</em>, <em>model_keys</em><big>)</big><a class="headerlink" href="#flask.ext.admin.datastore.core.AdminDatastore.delete_model_instance" title="Permalink to this definition">¶</a></dt>
<dd><p>Deletes a model instance. Returns True if model instance
was successfully deleted, returns False otherwise.</p>
</dd></dl>

<dl class="method">
<dt id="flask.ext.admin.datastore.core.AdminDatastore.find_model_instance">
<tt class="descname">find_model_instance</tt><big>(</big><em>model_name</em>, <em>model_keys</em><big>)</big><a class="headerlink" href="#flask.ext.admin.datastore.core.AdminDatastore.find_model_instance" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a model instance, if one exists, that matches
model_name and model_keys. Returns None if no such model
instance exists.</p>
</dd></dl>

<dl class="method">
<dt id="flask.ext.admin.datastore.core.AdminDatastore.get_model_class">
<tt class="descname">get_model_class</tt><big>(</big><em>model_name</em><big>)</big><a class="headerlink" href="#flask.ext.admin.datastore.core.AdminDatastore.get_model_class" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a model class, given a model name.</p>
</dd></dl>

<dl class="method">
<dt id="flask.ext.admin.datastore.core.AdminDatastore.get_model_form">
<tt class="descname">get_model_form</tt><big>(</big><em>model_name</em><big>)</big><a class="headerlink" href="#flask.ext.admin.datastore.core.AdminDatastore.get_model_form" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a form, given a model name.</p>
</dd></dl>

<dl class="method">
<dt id="flask.ext.admin.datastore.core.AdminDatastore.get_model_keys">
<tt class="descname">get_model_keys</tt><big>(</big><em>model_instance</em><big>)</big><a class="headerlink" href="#flask.ext.admin.datastore.core.AdminDatastore.get_model_keys" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the keys for a given a model instance. This should
be an iterable (e.g. list or tuple) containing the keys.</p>
</dd></dl>

<dl class="method">
<dt id="flask.ext.admin.datastore.core.AdminDatastore.list_model_names">
<tt class="descname">list_model_names</tt><big>(</big><big>)</big><a class="headerlink" href="#flask.ext.admin.datastore.core.AdminDatastore.list_model_names" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of model names available in the datastore.</p>
</dd></dl>

<dl class="method">
<dt id="flask.ext.admin.datastore.core.AdminDatastore.save_model">
<tt class="descname">save_model</tt><big>(</big><em>model_instance</em><big>)</big><a class="headerlink" href="#flask.ext.admin.datastore.core.AdminDatastore.save_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Persists a model instance to the datastore. Note: this
could be called when a model instance is added or edited.</p>
</dd></dl>

<dl class="method">
<dt id="flask.ext.admin.datastore.core.AdminDatastore.update_from_form">
<tt class="descname">update_from_form</tt><big>(</big><em>model_instance</em>, <em>form</em><big>)</big><a class="headerlink" href="#flask.ext.admin.datastore.core.AdminDatastore.update_from_form" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a model instance whose values have been updated
with the values from a given form.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="flask.ext.admin.datastore.sqlalchemy.SQLAlchemyDatastore">
<em class="property">class </em><tt class="descclassname">flask.ext.admin.datastore.sqlalchemy.</tt><tt class="descname">SQLAlchemyDatastore</tt><big>(</big><em>models</em>, <em>db_session</em>, <em>model_forms=None</em>, <em>exclude_pks=True</em><big>)</big><a class="headerlink" href="#flask.ext.admin.datastore.sqlalchemy.SQLAlchemyDatastore" title="Permalink to this definition">¶</a></dt>
<dd><p>A datastore class for accessing SQLAlchemy models.</p>
<p>The <cite>models</cite> parameter should be either a module or an iterable
(like a tuple or a list) that contains the SQLAlchemy models that
will be made available through the admin interface.</p>
<p><cite>db_session</cite> should be the SQLAlchemy session that the datastore
will use to access the database. The session should already be
bound to an engine. See the <a class="reference external" href="http://flask.pocoo.org/docs/patterns/sqlalchemy/">SQLAlchemy in Flask</a> documentation
for more information on how to configure the session.</p>
<p>By default, a form for adding and editing data will be
automatically generated for each SQLAlchemy model. You can also
create custom forms if you need more control over what the forms
look like or how they behave. To use custom forms, set the
<cite>model_forms</cite> parameter to be a dict with model names as keys
matched to custom forms for the forms you want to override. Forms
should be WTForms form objects; see the <a class="reference external" href="http://wtforms.simplecodes.com/">WTForms documentation</a>
for more information on how to configure forms.</p>
<p>Finally, the <cite>exclude_pks</cite> parameter can be used to specify
whether or not to automatically exclude fields representing the
primary key in auto-generated forms. The default is True, so the
generated forms will not expose the primary keys of your
models. This is usually a good idea if you are using a primary key
that doesn&#8217;t have any meaning outside of the database, like an
auto-incrementing integer, because changing a primary key changes
the nature of foreign key relationships. If you want to expose the
primary key, set this to False.</p>
</dd></dl>

<dl class="class">
<dt id="flask.ext.admin.datastore.mongoalchemy.MongoAlchemyDatastore">
<em class="property">class </em><tt class="descclassname">flask.ext.admin.datastore.mongoalchemy.</tt><tt class="descname">MongoAlchemyDatastore</tt><big>(</big><em>models</em>, <em>db_session</em>, <em>model_forms=None</em><big>)</big><a class="headerlink" href="#flask.ext.admin.datastore.mongoalchemy.MongoAlchemyDatastore" title="Permalink to this definition">¶</a></dt>
<dd><p>A datastore for accessing MongoAlchemy document models.</p>
<p>The <cite>models</cite> parameter should be either a module or an iterable
that contains the MongoAlchemy models that will be made available
through the admin interface.</p>
<p><cite>db_session</cite> should be an initialized MongoAlchemy session
object. See the <a class="reference external" href="http://www.mongoalchemy.org/api/session.html">MongoAlchemy documentation</a> for information on
how to do that.</p>
<p>By default, a form for adding and editing data will be
automatically generated for each MongoAlchemy model. Only
primitive MongoAlchemy types are supported so if you need to
support other fields you will need to create custom forms. You can
also use custom forms if you want more control over form behavior.
To use custom forms, set the <cite>model_forms</cite> parameter to be a dict
with model names as keys matched to custom forms for the forms you
want to override. Forms should be WTForms form objects; see the
<a class="reference external" href="http://wtforms.simplecodes.com/">WTForms documentation</a> for more information on how to configure
forms.</p>
<p>A dict with model names as keys, mapped to WTForm Form objects
that should be used as forms for creating and editing instances of
these models.</p>
</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
  
    <a href="http://github.com/wilsaj/flask-admin"><img style="position: fixed; top: 0; right: 0; border: 0;"
    src="http://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub" /></a>
  

  

  </body>
</html>