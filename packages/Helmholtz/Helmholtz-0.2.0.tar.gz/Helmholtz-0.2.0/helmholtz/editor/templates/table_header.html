<tr>
 <th class="action_cell" rowspan="{{node.rowspan}}"><img class="dot" src="{{MEDIA_URL}}images/header_square.png"></img></th>

{% for identifier, verbose_name in node.in_header %}
 <th{% if node.groupers and not identifier in node.groupers %} rowspan="2"{% else %}{% if identifier in node.groupers %} colspan="{{verbose_name|length}}"{% endif %}{% endif %}>
  {% if identifier in node.groupers %}
  {{identifier|safe}}
  {% else %}
  <a href="{% url execute-command node.view.name %}?action=sort_table&node_id={{node.index}}&order_by={{identifier}}&ordering={% if node.order_by != identifier %}ascending{% else %}{% if node.ordering == "ascending" %}descending{% else %}ascending{% endif %}{% endif %}">
  {% if verbose_name %}{{verbose_name|safe}}{% else %}{{identifier}}{% endif %}
  </a>
  {% endif %} 
 </th>
{% endfor %}

{% if node.children_actions %}
 <th colspan="{{node.children_actions|length}}" rowspan="{{node.rowspan}}">actions</th>
{% endif %}

</tr>

{% if node.groupers %}
<tr> 
 {% for grouper, items in node.groupers.items %}
  {% for identifier, verbose_name in items %}
 <th>
  <a href="{% url execute-command node.view.name %}?action=sort_table&node_id={{node.index}}&order_by={{identifier}}&ordering={% if node.order_by != identifier %}ascending{% else %}{% if node.ordering == "ascending" %}descending{% else %}ascending{% endif %}{% endif %}">
   {% if verbose_name %}{{verbose_name|safe}}{% else %}{{identifier}}{% endif %}
  </a>
 </th>
  {% endfor %}
 {% endfor %} 
</tr>
{% endif %}
