<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>PowerConsole Core modules and classes &mdash; PowerConsole v0.7 documentation</title>
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.7',
        COLLAPSE_MODINDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="PowerConsole v0.7 documentation" href="index.html" />
    <link rel="prev" title="How to implement new commands" href="new-commands.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="modindex.html" title="Global Module Index"
             accesskey="M">modules</a> |</li>
        <li class="right" >
          <a href="new-commands.html" title="How to implement new commands"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">PowerConsole v0.7 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="powerconsole-core-modules-and-classes">
<h1>PowerConsole Core modules and classes<a class="headerlink" href="#powerconsole-core-modules-and-classes" title="Permalink to this headline">¶</a></h1>
<div class="section" id="module-pwc">
<h2>pwc<a class="headerlink" href="#module-pwc" title="Permalink to this headline">¶</a></h2>
<p>PowerConsole utilizes namespace package <cite>pwc</cite> to put all modules used by various command and extensions
packages that are distributed separately into single cohesive system.</p>
<p>So command and extension developers should place all modules into it. To do that, simply create a <cite>pwc</cite>
directory in your project and place <cite>__init__.py</cite> file in it with next content:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="nb">__import__</span><span class="p">(</span><span class="s">&#39;pkg_resources&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">declare_namespace</span><span class="p">(</span><span class="n">__name__</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="module-pwc.base">
<h2>pwc.base<a class="headerlink" href="#module-pwc.base" title="Permalink to this headline">¶</a></h2>
<div class="section" id="data">
<h3>Data<a class="headerlink" href="#data" title="Permalink to this headline">¶</a></h3>
<dl class="data">
<dt id="pwc.base.pwc.base.displays">
<tt class="descclassname">pwc.base.</tt><tt class="descname">displays</tt><a class="headerlink" href="#pwc.base.pwc.base.displays" title="Permalink to this definition">¶</a></dt>
<dt>
<tt class="descname">Global cache of display instances. Dictionary where key is context of the display.</tt></dt>
<dd></dd></dl>

<dl class="data">
<dt id="pwc.base.pwc.base.renderers">
<tt class="descclassname">pwc.base.</tt><tt class="descname">renderers</tt><a class="headerlink" href="#pwc.base.pwc.base.renderers" title="Permalink to this definition">¶</a></dt>
<dt>
<tt class="descname">Global cache of object renderer classes.</tt></dt>
<dd></dd></dl>

</div>
<div class="section" id="exceptions">
<h3>Exceptions<a class="headerlink" href="#exceptions" title="Permalink to this headline">¶</a></h3>
<dl class="exception">
<dt id="pwc.base.pcException">
<em class="property">
exception </em><tt class="descclassname">pwc.base.</tt><tt class="descname">pcException</tt><big>(</big><em>message</em><big>)</big><a class="headerlink" href="#pwc.base.pcException" title="Permalink to this definition">¶</a></dt>
<dd><p>An exception generated directly by PowerConsole.</p>
<p>All exceptions thrown by PowerConsole should be derived from this class.</p>
</dd></dl>

<dl class="exception">
<dt id="pwc.base.pcError">
<em class="property">
exception </em><tt class="descclassname">pwc.base.</tt><tt class="descname">pcError</tt><big>(</big><em>message</em><big>)</big><a class="headerlink" href="#pwc.base.pcError" title="Permalink to this definition">¶</a></dt>
<dd>General programming error generated by PowerConsole.</dd></dl>

<dl class="exception">
<dt id="pwc.base.pcParseError">
<em class="property">
exception </em><tt class="descclassname">pwc.base.</tt><tt class="descname">pcParseError</tt><big>(</big><em>message</em><big>)</big><a class="headerlink" href="#pwc.base.pcParseError" title="Permalink to this definition">¶</a></dt>
<dd>Wrongly specified internal command.</dd></dl>

</div>
<div class="section" id="functions">
<h3>Functions<a class="headerlink" href="#functions" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="pwc.base.isiterable">
<tt class="descclassname">pwc.base.</tt><tt class="descname">isiterable</tt><big>(</big><em>obj</em><big>)</big><a class="headerlink" href="#pwc.base.isiterable" title="Permalink to this definition">¶</a></dt>
<dd>Returns True if &#8216;obj&#8217; supports new iteration protocol.</dd></dl>

<dl class="function">
<dt id="pwc.base.unquote">
<tt class="descclassname">pwc.base.</tt><tt class="descname">unquote</tt><big>(</big><em>str</em><big>)</big><a class="headerlink" href="#pwc.base.unquote" title="Permalink to this definition">¶</a></dt>
<dd>Returns &#8216;str&#8217; unquoted.</dd></dl>

<dl class="function">
<dt id="pwc.base.iif">
<tt class="descclassname">pwc.base.</tt><tt class="descname">iif</tt><big>(</big><em>expr</em>, <em>valueA</em>, <em>valueB</em><big>)</big><a class="headerlink" href="#pwc.base.iif" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pwc.base.asString">
<tt class="descclassname">pwc.base.</tt><tt class="descname">asString</tt><big>(</big><em>expr</em><big>)</big><a class="headerlink" href="#pwc.base.asString" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="pwc.base.columnize">
<tt class="descclassname">pwc.base.</tt><tt class="descname">columnize</tt><big>(</big><em>list</em>, <em>displaywidth=80</em><big>)</big><a class="headerlink" href="#pwc.base.columnize" title="Permalink to this definition">¶</a></dt>
<dd><p>Generator func that returns a list of strings as a compact set of columns.</p>
<p>Each column is only as wide as necessary.
Columns are separated by three spaces (one was not legible enough).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">List:</th><td class="field-body">An iterable of items. If item is not a string, str(item) is used.</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="classes">
<h3>Classes<a class="headerlink" href="#classes" title="Permalink to this headline">¶</a></h3>
<div class="section" id="helper-classes">
<h4>Helper classes<a class="headerlink" href="#helper-classes" title="Permalink to this headline">¶</a></h4>
<dl class="class">
<dt id="pwc.base.struct">
<em class="property">
class </em><tt class="descclassname">pwc.base.</tt><tt class="descname">struct</tt><a class="headerlink" href="#pwc.base.struct" title="Permalink to this definition">¶</a></dt>
<dd>Class to hold arbitrary data as attributes (structure).</dd></dl>

<dl class="class">
<dt id="pwc.base.LateBindingProperty">
<em class="property">
class </em><tt class="descclassname">pwc.base.</tt><tt class="descname">LateBindingProperty</tt><a class="headerlink" href="#pwc.base.LateBindingProperty" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Recipe from Tim Delaney, 2005/03/31</dt>
<dd><a class="reference external" href="http://aspn.activestate.com/ASPN/Cookbook/Python/Recipe/408713">http://aspn.activestate.com/ASPN/Cookbook/Python/Recipe/408713</a></dd>
</dl>
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">C</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">getx</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">print</span> <span class="s">&#39;C.getx&#39;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_x</span>

    <span class="k">def</span> <span class="nf">setx</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>
        <span class="k">print</span> <span class="s">&#39;C.setx&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_x</span> <span class="o">=</span> <span class="n">x</span>

    <span class="k">def</span> <span class="nf">delx</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">print</span> <span class="s">&#39;C.delx&#39;</span>
        <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">_x</span>

    <span class="n">x</span> <span class="o">=</span> <span class="n">LateBindingProperty</span><span class="p">(</span><span class="n">getx</span><span class="p">,</span> <span class="n">setx</span><span class="p">,</span> <span class="n">delx</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">D</span><span class="p">(</span><span class="n">C</span><span class="p">):</span>

    <span class="k">def</span> <span class="nf">setx</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>
        <span class="k">print</span> <span class="s">&#39;D.setx&#39;</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">D</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">setx</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">delx</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">print</span> <span class="s">&#39;D.delx&#39;</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">D</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">delx</span><span class="p">()</span>

<span class="n">c</span> <span class="o">=</span> <span class="n">C</span><span class="p">()</span>
<span class="n">c</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="mf">1</span>
<span class="n">c</span><span class="o">.</span><span class="n">x</span>
<span class="n">c</span><span class="o">.</span><span class="n">x</span>
<span class="k">del</span> <span class="n">c</span><span class="o">.</span><span class="n">x</span>

<span class="k">print</span>

<span class="n">d</span> <span class="o">=</span> <span class="n">D</span><span class="p">()</span>
<span class="n">d</span><span class="o">.</span><span class="n">x</span> <span class="o">=</span> <span class="mf">1</span>
<span class="n">d</span><span class="o">.</span><span class="n">x</span>
<span class="n">d</span><span class="o">.</span><span class="n">x</span>
<span class="k">del</span> <span class="n">d</span><span class="o">.</span><span class="n">x</span>
</pre></div>
</div>
<p>This has the advantages that:</p>
<ol class="loweralpha simple">
<li>You get back an actual property object (with attendant memory savings, performance increases, etc);</li>
<li>It&#8217;s the same syntax as using property(fget, fset, fdel, doc) except for the name;</li>
<li>It will fail earlier (when you define the class as opposed to when you use it).</li>
<li>It&#8217;s shorter ;)</li>
<li>If you inspect the property you will get back functions with the correct __name__, __doc__, etc.</li>
</ol>
</dd></dl>

</div>
<div class="section" id="command">
<h4>Command<a class="headerlink" href="#command" title="Permalink to this headline">¶</a></h4>
<dl class="class">
<dt id="pwc.base.Command">
<em class="property">
class </em><tt class="descclassname">pwc.base.</tt><tt class="descname">Command</tt><big>(</big><em>controller</em><big>)</big><a class="headerlink" href="#pwc.base.Command" title="Permalink to this definition">¶</a></dt>
<dd><p>Base class for all PowerConsole built-in commands.</p>
<dl class="method">
<dt id="pwc.base.Command.__init__">
<tt class="descname">__init__</tt><big>(</big><em>controller</em><big>)</big><a class="headerlink" href="#pwc.base.Command.__init__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pwc.base.Command._compile">
<tt class="descname">_compile</tt><big>(</big><em>s</em>, <em>l</em>, <em>tokens</em><big>)</big><a class="headerlink" href="#pwc.base.Command._compile" title="Permalink to this definition">¶</a></dt>
<dd><p>pyparsing parse action that converts parsed command.</p>
<p>Command is converted into string with python code to call it&#8217;s 
implementation function with parameters.</p>
<p>The resulting code has format: _NAME_execute(PARAM_LIST)</p>
<p>where:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Name:</th><td class="field-body">is value of grammar token with ResultsName CMD_NAME</td>
</tr>
<tr class="field"><th class="field-name">Param_list:</th><td class="field-body">is comma-separated list of named parameters (i.e. name=value)
constructed from named grammar tokens.</td>
</tr>
</tbody>
</table>
<p>Because the result must be valid Python function call, parameter values
are quoted using next logic:</p>
<blockquote>
<ol class="arabic simple">
<li>IntType is converted to arg=value</li>
<li>String types are converted to arg=&#8217;value&#8217; using correct quotation for 
given value.</li>
<li>Value of any other type is converted to arg=&#8217;value&#8217;</li>
</ol>
</blockquote>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Important:</th><td class="field-body">This parse action must be assigned to root (and only to root) token
in defined grammar.</td>
</tr>
</tbody>
</table>
<p>EXAMPLE:</p>
<div class="highlight-python"><pre>Let's have next grammar: action [argument]

So the definition in descendant's __init__ is:
    self.keyAction = CaselessKeyword('action')
    self.cmdAction = self.keyAction.setResultsName(CMD_NAME) +                     Optional(self.arg.setResultsName('arg'))
    self.cmdAction.setParseAction(self._compile)

Then next commands will be translated into:
&gt;&gt;&gt;parseString('action')
_action_execute()
&gt;&gt;&gt;parseString('action 1')
_action_execute(arg=1)
&gt;&gt;&gt;parseString('action doIt')
_action_execute(arg='doIt')
&gt;&gt;&gt;parseString("action 'doIt'")
_action_execute(arg="'doIt'")
&gt;&gt;&gt;parseString('action "doIt"')
_action_execute(arg='"doIt"')
&gt;&gt;&gt;parseString('''action "It's smile time!"''')
_action_execute(arg=It's smile time!)
&gt;&gt;&gt;parseString('action obj')
_action_execute(arg='obj')</pre>
</div>
</dd></dl>

<dl class="method">
<dt id="pwc.base.Command._makeNameNode">
<tt class="descname">_makeNameNode</tt><big>(</big><em>node</em><big>)</big><a class="headerlink" href="#pwc.base.Command._makeNameNode" title="Permalink to this definition">¶</a></dt>
<dd>Helper functions that sets the specified PyParsing grammar node as
command identification node.</dd></dl>

<dl class="method">
<dt id="pwc.base.Command._tokenToInt">
<tt class="descname">_tokenToInt</tt><big>(</big><em>st</em>, <em>loc</em>, <em>toks</em><big>)</big><a class="headerlink" href="#pwc.base.Command._tokenToInt" title="Permalink to this definition">¶</a></dt>
<dd>Helper PyParsing parse action that convers parsed token to integer.</dd></dl>

<dl class="method">
<dt id="pwc.base.Command._getContextLocals">
<tt class="descname">_getContextLocals</tt><big>(</big><em>depth=0</em><big>)</big><a class="headerlink" href="#pwc.base.Command._getContextLocals" title="Permalink to this definition">¶</a></dt>
<dd><p>Return locals from specified frame.</p>
<p>&#8216;depth&#8217; is number of frames up in stack; 0 means one frame above caller.</p>
</dd></dl>

<dl class="method">
<dt id="pwc.base.Command._getUserNamespace">
<tt class="descname">_getUserNamespace</tt><big>(</big><big>)</big><a class="headerlink" href="#pwc.base.Command._getUserNamespace" title="Permalink to this definition">¶</a></dt>
<dd>Return dictionary of names defined as locals in controller.</dd></dl>

<dl class="method">
<dt id="pwc.base.Command._fail">
<tt class="descname">_fail</tt><big>(</big><em>s</em>, <em>loc</em>, <em>expr</em>, <em>err</em><big>)</big><a class="headerlink" href="#pwc.base.Command._fail" title="Permalink to this definition">¶</a></dt>
<dd><p>pyparsing fail action that raises ParseFatalException.</p>
<p>It&#8217;s used to stop parsing with error on required grammar elements.</p>
<p>EXAMPLE:
Next defined grammar element for USER &#8216;username&#8217; will fail when &#8216;username&#8217;
is not specified:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">optUser</span> <span class="o">=</span> <span class="n">keyUser</span> <span class="o">+</span>                 <span class="n">QuotedString</span><span class="p">(</span><span class="s">&quot;&#39;&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">setResultsName</span><span class="p">(</span><span class="s">&#39;user&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">setFailAction</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_fail</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="pwc.base.Command._getGrammar">
<tt class="descname">_getGrammar</tt><big>(</big><big>)</big><a class="headerlink" href="#pwc.base.Command._getGrammar" title="Permalink to this definition">¶</a></dt>
<dd><p>Return grammar for command.</p>
<p>Descendant has to override it.</p>
</dd></dl>

<dl class="method">
<dt id="pwc.base.Command._getCmdKeyword">
<tt class="descname">_getCmdKeyword</tt><big>(</big><big>)</big><a class="headerlink" href="#pwc.base.Command._getCmdKeyword" title="Permalink to this definition">¶</a></dt>
<dd><p>Return grammar element for command&#8217;s keyword(s).</p>
<p>It&#8217;s used by interpreter to identify input lines where internal command
starts whithout fully parsing the command.</p>
<p>Descendant has to override it.</p>
</dd></dl>

<dl class="method">
<dt id="pwc.base.Command.execute">
<tt class="descname">execute</tt><big>(</big><em>**kwargs</em><big>)</big><a class="headerlink" href="#pwc.base.Command.execute" title="Permalink to this definition">¶</a></dt>
<dd><p>Main method that implements the command.</p>
<p>Defined grammar (GRAMMAR_FULL) must convert the command text into
python code to call this function under name &#8216;_&lt;cmdname&gt;_execute&#8217;
with specified arguments.</p>
<p>Descendant has to override it.</p>
</dd></dl>

<dl class="method">
<dt id="pwc.base.Command.getGrammar">
<tt class="descname">getGrammar</tt><big>(</big><em>grammarType</em><big>)</big><a class="headerlink" href="#pwc.base.Command.getGrammar" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns grammar definition of requested type.</p>
<p>Return None if grammar of requested type is not available.</p>
<p>There could be multiple &#8216;types&#8217; of grammar for single command used for
different purposes.</p>
<p>Now recognized grammar types are:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Grammar_full:</th><td class="field-body">Grammar used to parse and convert command to callable.</td>
</tr>
<tr class="field"><th class="field-name">Grammar_chkcmd:</th><td class="field-body">Grammar for check whether line might be this command.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pwc.base.Command.getName">
<tt class="descname">getName</tt><big>(</big><big>)</big><a class="headerlink" href="#pwc.base.Command.getName" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the command name.</p>
<p>By default, the name is lowercased class name without &#8216;cmd&#8217; prefix (if it&#8217;s present).</p>
</dd></dl>

<dl class="attribute">
<dt id="pwc.base.Command.ARG">
<tt class="descname">ARG</tt><a class="headerlink" href="#pwc.base.Command.ARG" title="Permalink to this definition">¶</a></dt>
<dd>Grammar node for command argument. It may consist of several lines.</dd></dl>

<dl class="attribute">
<dt id="pwc.base.Command.CHUNK">
<tt class="descname">CHUNK</tt><a class="headerlink" href="#pwc.base.Command.CHUNK" title="Permalink to this definition">¶</a></dt>
<dd>Grammar node for arbitrary text up to the line separator</dd></dl>

<dl class="attribute">
<dt id="pwc.base.Command.EXPR">
<tt class="descname">EXPR</tt><a class="headerlink" href="#pwc.base.Command.EXPR" title="Permalink to this definition">¶</a></dt>
<dd>Grammar node for expression. It may consist of several lines.</dd></dl>

<dl class="attribute">
<dt id="pwc.base.Command.FILENAME">
<tt class="descname">FILENAME</tt><a class="headerlink" href="#pwc.base.Command.FILENAME" title="Permalink to this definition">¶</a></dt>
<dd>Grammar node for file name</dd></dl>

<dl class="attribute">
<dt id="pwc.base.Command.IDENT">
<tt class="descname">IDENT</tt><a class="headerlink" href="#pwc.base.Command.IDENT" title="Permalink to this definition">¶</a></dt>
<dd>Grammar node for identificator</dd></dl>

<dl class="attribute">
<dt id="pwc.base.Command.INTEGER">
<tt class="descname">INTEGER</tt><a class="headerlink" href="#pwc.base.Command.INTEGER" title="Permalink to this definition">¶</a></dt>
<dd>Grammar node for INTEGER value</dd></dl>

<dl class="attribute">
<dt id="pwc.base.Command.PATH">
<tt class="descname">PATH</tt><a class="headerlink" href="#pwc.base.Command.PATH" title="Permalink to this definition">¶</a></dt>
<dd>Grammar node for path</dd></dl>

</dd></dl>

</div>
<div class="section" id="user-interface-provider">
<h4>User Interface Provider<a class="headerlink" href="#user-interface-provider" title="Permalink to this headline">¶</a></h4>
<dl class="class">
<dt id="pwc.base.UserInterfaceProvider">
<em class="property">
class </em><tt class="descclassname">pwc.base.</tt><tt class="descname">UserInterfaceProvider</tt><big>(</big><em>factory=None</em><big>)</big><a class="headerlink" href="#pwc.base.UserInterfaceProvider" title="Permalink to this definition">¶</a></dt>
<dd><p>Base class for PowerConsole user interface providers.</p>
<p>Default implementation returns default displays and input dialogs.</p>
<p>All methods returning UI instances take optional &#8216;context&#8217; parameter
that define use context for requested UI widget. It&#8217;s typically a command 
name optionally followed by internal context specification(s) separated by
dot, for example: &#8216;show.detail&#8217;, &#8216;show.list&#8217; etc.
If context is not specified, then &#8216;main&#8217; context is assumed.</p>
<p>The rationale behind it is to allow UI customization for various
contexts via configuration.</p>
<dl class="method">
<dt id="pwc.base.UserInterfaceProvider.getDisplay">
<tt class="descname">getDisplay</tt><big>(</big><em>context='main'</em>, <em>interface=1</em><big>)</big><a class="headerlink" href="#pwc.base.UserInterfaceProvider.getDisplay" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a Display instance.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Interface:</th><td class="field-body">One or more interface specifications for requested display.</td>
</tr>
<tr class="field"><th class="field-name">Context:</th><td class="field-body">String that defines usage context for requested display. 
See class docstring for details. Defaults to &#8216;main&#8217;.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="display">
<h4>Display<a class="headerlink" href="#display" title="Permalink to this headline">¶</a></h4>
<dl class="class">
<dt id="pwc.base.Display">
<em class="property">
class </em><tt class="descclassname">pwc.base.</tt><tt class="descname">Display</tt><a class="headerlink" href="#pwc.base.Display" title="Permalink to this definition">¶</a></dt>
<dd><p>Default Display.</p>
<p>Supports all defined display interfaces.</p>
<dl class="method">
<dt id="pwc.base.Display.provides">
<tt class="descname">provides</tt><big>(</big><big>)</big><a class="headerlink" href="#pwc.base.Display.provides" title="Permalink to this definition">¶</a></dt>
<dd>Returns list of interface codes this display implements.</dd></dl>

<dl class="method">
<dt id="pwc.base.Display.visitDefaultAction">
<tt class="descname">visitDefaultAction</tt><big>(</big><em>obj</em><big>)</big><a class="headerlink" href="#pwc.base.Display.visitDefaultAction" title="Permalink to this definition">¶</a></dt>
<dd>Prints string representation of &#8216;obj&#8217; to the stdout.</dd></dl>

<dl class="method">
<dt id="pwc.base.Display.write">
<tt class="descname">write</tt><big>(</big><em>text=''</em><big>)</big><a class="headerlink" href="#pwc.base.Display.write" title="Permalink to this definition">¶</a></dt>
<dd>Writes text (without the line end).</dd></dl>

<dl class="method">
<dt id="pwc.base.Display.writeLine">
<tt class="descname">writeLine</tt><big>(</big><em>line=''</em><big>)</big><a class="headerlink" href="#pwc.base.Display.writeLine" title="Permalink to this definition">¶</a></dt>
<dd>Writes line of text (with the line end).</dd></dl>

<dl class="method">
<dt id="pwc.base.Display.writeLines">
<tt class="descname">writeLines</tt><big>(</big><em>lines</em><big>)</big><a class="headerlink" href="#pwc.base.Display.writeLines" title="Permalink to this definition">¶</a></dt>
<dd>Writes lines from iterable  (with the line end after each line)</dd></dl>

<dl class="method">
<dt id="pwc.base.Display.writeList">
<tt class="descname">writeList</tt><big>(</big><em>items</em><big>)</big><a class="headerlink" href="#pwc.base.Display.writeList" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes list of items in columnized format.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Items:</th><td class="field-body">List or iterable of elements. If item is not a string, then its
str() representation is used.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pwc.base.Display.writeObject">
<tt class="descname">writeObject</tt><big>(</big><em>obj</em><big>)</big><a class="headerlink" href="#pwc.base.Display.writeObject" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints string representation of object to the stdout.</p>
<p>Uses Visitor pattern to write out the object. If object doesn&#8217;t supports
Visitors, then it attempts to use custom renderers that can handle 
the object, otherwise str() representation is written.</p>
</dd></dl>

<dl class="method">
<dt id="pwc.base.Display.writeObjectList">
<tt class="descname">writeObjectList</tt><big>(</big><em>items</em><big>)</big><a class="headerlink" href="#pwc.base.Display.writeObjectList" title="Permalink to this definition">¶</a></dt>
<dd><p>Display list of objects.</p>
<p>Uses Visitor pattern to write out the object. If object doesn&#8217;t supports
Visitors, then str() representation is written.</p>
</dd></dl>

<dl class="method">
<dt id="pwc.base.Display.writeTable">
<tt class="descname">writeTable</tt><big>(</big><em>description</em>, <em>data</em><big>)</big><a class="headerlink" href="#pwc.base.Display.writeTable" title="Permalink to this definition">¶</a></dt>
<dd><p>Prints data from iterable in tabular format according to layout specification.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Description:</th><td class="field-body">List of tuples that describe the table layout.
(COLUMN_NAME,WIDTH)</td>
</tr>
<tr class="field"><th class="field-name">Data:</th><td class="field-body">Iterable. Each yield must return list or tuple of items.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="pwc.base.ObjectVisitor">
<em class="property">
class </em><tt class="descclassname">pwc.base.</tt><tt class="descname">ObjectVisitor</tt><a class="headerlink" href="#pwc.base.ObjectVisitor" title="Permalink to this definition">¶</a></dt>
<dd><p>Base/mixin class for object visitors.</p>
<dl class="method">
<dt id="pwc.base.ObjectVisitor.__getattr__">
<tt class="descname">__getattr__</tt><big>(</big><em>name</em><big>)</big><a class="headerlink" href="#pwc.base.ObjectVisitor.__getattr__" title="Permalink to this definition">¶</a></dt>
<dd><p>Dispatch unhandled visitor call.</p>
<p>When visitXXX is called by visitee but it&#8217;s not defined by visitor, 
it first makes a lookup in list of externally defined visitor extensions
and eventually returns visitDefaultAction if no specialised method is found.</p>
</dd></dl>

<dl class="method">
<dt id="pwc.base.ObjectVisitor.handleObject">
<tt class="descname">handleObject</tt><big>(</big><em>obj</em><big>)</big><a class="headerlink" href="#pwc.base.ObjectVisitor.handleObject" title="Permalink to this definition">¶</a></dt>
<dd><p>Handle objects that don&#8217;t support the visitor pattern.</p>
<p>Makes a lookup in list of externally defined visitor extensions for
the first one that can handle object of this type.
Calls visitDefaultAction if no specialised handler is found.</p>
</dd></dl>

<dl class="method">
<dt id="pwc.base.ObjectVisitor.visitDefaultAction">
<tt class="descname">visitDefaultAction</tt><big>(</big><em>obj</em><big>)</big><a class="headerlink" href="#pwc.base.ObjectVisitor.visitDefaultAction" title="Permalink to this definition">¶</a></dt>
<dd>Default visitor action. Does nothing in base implementation.</dd></dl>

</dd></dl>

</div>
<div class="section" id="help-provider">
<h4>Help Provider<a class="headerlink" href="#help-provider" title="Permalink to this headline">¶</a></h4>
<dl class="data">
<dt id="pwc.base.HELP_PREFIX">
<tt class="descclassname">pwc.base.</tt><tt class="descname">HELP_PREFIX</tt><a class="headerlink" href="#pwc.base.HELP_PREFIX" title="Permalink to this definition">¶</a></dt>
<dt>
<tt class="descname">Name prefix for attributes/methods that define content for help topics.</tt></dt>
<dd>HELP_PREFIX   = &#8216;help_&#8217;</dd></dl>

<dl class="class">
<dt id="pwc.base.HelpProvider">
<em class="property">
class </em><tt class="descclassname">pwc.base.</tt><tt class="descname">HelpProvider</tt><big>(</big><em>pythonhelp</em><big>)</big><a class="headerlink" href="#pwc.base.HelpProvider" title="Permalink to this definition">¶</a></dt>
<dd><p>Base class for all PowerConsole built-in help topic providers.</p>
<p>By default, it provides all attributes which name starts with HELP_PREFIX
as help topics (without HELP_PREFIX). These attributes are typically strings
to be printed, but could be also callables that return the help text.</p>
<p>For special help handling subclasses could rewrite getTopics, CanHandle and 
getHelp methods.</p>
<dl class="method">
<dt id="pwc.base.HelpProvider.canHandle">
<tt class="descname">canHandle</tt><big>(</big><em>topic</em><big>)</big><a class="headerlink" href="#pwc.base.HelpProvider.canHandle" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if this instance can provide help for &#8216;topic&#8217;.</p>
<p>By default, instance can provide help if it has attribute with
name matching HELP_PREFIX+topic pattern.</p>
</dd></dl>

<dl class="method">
<dt id="pwc.base.HelpProvider.getHelp">
<tt class="descname">getHelp</tt><big>(</big><em>topic</em><big>)</big><a class="headerlink" href="#pwc.base.HelpProvider.getHelp" title="Permalink to this definition">¶</a></dt>
<dd><p>Return help for &#8216;topic&#8217;.</p>
<p>By default, it returns attribute with name matching HELP_PREFIX+topic.</p>
</dd></dl>

<dl class="method">
<dt id="pwc.base.HelpProvider.getTopics">
<tt class="descname">getTopics</tt><big>(</big><big>)</big><a class="headerlink" href="#pwc.base.HelpProvider.getTopics" title="Permalink to this definition">¶</a></dt>
<dd><p>Return list of topics handled by provider.</p>
<p>It&#8217;s possible that provider can handle additional topics 
not included in this list, but all listed topics must be handled.</p>
<p>By default, it returns list of names for instance attributes with name 
matching HELP_PREFIX+topic pattern stripped from HELP_PREFIX.</p>
</dd></dl>

</dd></dl>

</div>
</div>
</div>
<div class="section" id="module-pwc.interpreter">
<h2>pwc.interpreter<a class="headerlink" href="#module-pwc.interpreter" title="Permalink to this headline">¶</a></h2>
<p>This module could be also run directly as very simple CLI console.</p>
<div class="section" id="execution-engine">
<h3>Execution engine<a class="headerlink" href="#execution-engine" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="pwc.interpreter.Interpreter">
<em class="property">
class </em><tt class="descclassname">pwc.interpreter.</tt><tt class="descname">Interpreter</tt><big>(</big><em>locals=None</em>, <em>ui_provider=None</em>, <em>ui_factory=None</em><big>)</big><a class="headerlink" href="#pwc.interpreter.Interpreter" title="Permalink to this definition">¶</a></dt>
<dd><p>Interpreter based on code.InteractiveInterpreter from Python Library.</p>
<p><em>Attributes:</em></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Ui_provider:</th><td class="field-body">UserInterfaceProvider instance used by interpreter.</td>
</tr>
<tr class="field"><th class="field-name">Locals:</th><td class="field-body">the dictionary in which code will be executed.</td>
</tr>
<tr class="field"><th class="field-name">Compile:</th><td class="field-body">CommandCompiler instance.</td>
</tr>
<tr class="field"><th class="field-name">Linecont:</th><td class="field-body">Line continuation marker.</td>
</tr>
<tr class="field"><th class="field-name">Terminator:</th><td class="field-body">Default terminator string for terminated commands</td>
</tr>
<tr class="field"><th class="field-name">Commands:</th><td class="field-body">Disctionary of installed commands, key is command name.</td>
</tr>
<tr class="field"><th class="field-name">Full_grammar:</th><td class="field-body">Complete grammar for internal commands.</td>
</tr>
<tr class="field"><th class="field-name">Check_grammar:</th><td class="field-body">Grammar for internal commands used to check whether 
internal commands starts on given line.</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="pwc.interpreter.Interpreter.isCmd">
<tt class="descname">isCmd</tt><big>(</big><em>cmdstr</em><big>)</big><a class="headerlink" href="#pwc.interpreter.Interpreter.isCmd" title="Permalink to this definition">¶</a></dt>
<dd>Returns True if &#8216;cmdstr&#8217; is internal command. However, it doesn&#8217;t 
check whether &#8216;cmdstr&#8217; is <em>valid</em>, as it uses &#8216;command checking&#8217; grammar
that usually parses only beginning of the &#8216;cmdstr&#8217; for command keywords.</dd></dl>

<dl class="method">
<dt id="pwc.interpreter.Interpreter.runcode">
<tt class="descname">runcode</tt><big>(</big><em>code</em><big>)</big><a class="headerlink" href="#pwc.interpreter.Interpreter.runcode" title="Permalink to this definition">¶</a></dt>
<dd><p>Execute a code object.</p>
<p>When an exception occurs, self.showtraceback() is called to
display a traceback.  All exceptions are caught except
SystemExit, which is reraised.</p>
<p>A note about KeyboardInterrupt: this exception may occur
elsewhere in this code, and may not always be caught.  The
caller should be prepared to deal with it.</p>
</dd></dl>

<dl class="method">
<dt id="pwc.interpreter.Interpreter.runsource">
<tt class="descname">runsource</tt><big>(</big><em>source</em>, <em>filename='&lt;input&gt;'</em>, <em>symbol='single'</em>, <em>line_offset=0</em><big>)</big><a class="headerlink" href="#pwc.interpreter.Interpreter.runsource" title="Permalink to this definition">¶</a></dt>
<dd><p>Compile and run some source in the interpreter.</p>
<p>Argument &#8216;lineoffset&#8217; is number of lines processed before this source code.
It&#8217;s used to report correct line number for syntax errors when input is 
read from file.</p>
<p>Other arguments are as for compile_command().</p>
<p>One several things can happen:</p>
<p>1) The input is incorrect; compile_command() raised an
exception (SyntaxError or OverflowError).  A syntax traceback
will be printed by calling the showsyntaxerror() method.</p>
<p>2) The input is incomplete, and more input is required;
compile_command() returned None.  Nothing happens.</p>
<p>3) The input is complete; compile_command() returned a code
object.  The code is executed by calling self.runcode() (which
also handles run-time exceptions, except for SystemExit).</p>
<p>The return value is True in case 2, False in the other cases (unless
an exception is raised).  The return value can be used to
decide whether to use sys.ps1 or sys.ps2 to prompt the next
line.</p>
</dd></dl>

<dl class="method">
<dt id="pwc.interpreter.Interpreter.showsyntaxerror">
<tt class="descname">showsyntaxerror</tt><big>(</big><em>filename=None</em>, <em>line_offset=0</em><big>)</big><a class="headerlink" href="#pwc.interpreter.Interpreter.showsyntaxerror" title="Permalink to this definition">¶</a></dt>
<dd><p>Display the syntax error that just occurred.</p>
<p>This doesn&#8217;t display a stack trace because there isn&#8217;t one.</p>
<p>If a filename is given, it is stuffed in the exception instead
of what was there before (because Python&#8217;s parser always uses
&#8220;&lt;string&gt;&#8221; when reading from a string).</p>
<p>The output is written by self.writeErr(), below.</p>
</dd></dl>

<dl class="method">
<dt id="pwc.interpreter.Interpreter.showtraceback">
<tt class="descname">showtraceback</tt><big>(</big><em>internal=False</em><big>)</big><a class="headerlink" href="#pwc.interpreter.Interpreter.showtraceback" title="Permalink to this definition">¶</a></dt>
<dd><p>Display the exception that just occurred.</p>
<p>We remove the first stack item because it is our own code. 
If &#8216;internal&#8217; is True, remove also the last stack item (internal 
command &#8216;execute&#8217; method).</p>
<p>The output is written by self.writeErr(), below.</p>
</dd></dl>

<dl class="method">
<dt id="pwc.interpreter.Interpreter.write">
<tt class="descname">write</tt><big>(</big><em>data=''</em><big>)</big><a class="headerlink" href="#pwc.interpreter.Interpreter.write" title="Permalink to this definition">¶</a></dt>
<dd><p>Write a string to standard output.</p>
<p>It writes to UI_TEXT Display (context main) provided by ui_provider.</p>
</dd></dl>

<dl class="method">
<dt id="pwc.interpreter.Interpreter.writeErr">
<tt class="descname">writeErr</tt><big>(</big><em>data=''</em><big>)</big><a class="headerlink" href="#pwc.interpreter.Interpreter.writeErr" title="Permalink to this definition">¶</a></dt>
<dd><p>Write a string to error output.</p>
<p>It writes to UI_TEXT Display (context main.stderr) provided by ui_provider.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="console">
<h3>Console<a class="headerlink" href="#console" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="pwc.interpreter.Console">
<em class="property">
class </em><tt class="descclassname">pwc.interpreter.</tt><tt class="descname">Console</tt><big>(</big><em>locals=None</em>, <em>filename='&lt;console&gt;'</em>, <em>ui_provider=None</em>, <em>ui_factory=None</em><big>)</big><a class="headerlink" href="#pwc.interpreter.Console" title="Permalink to this definition">¶</a></dt>
<dd><p>Closely emulate the behavior of the interactive Python interpreter.</p>
<p>This class builds on InteractiveInterpreter and adds prompting
using the familiar sys.ps1 and sys.ps2, and input buffering.</p>
<dl class="method">
<dt id="pwc.interpreter.Console.interact">
<tt class="descname">interact</tt><big>(</big><em>banner=None</em><big>)</big><a class="headerlink" href="#pwc.interpreter.Console.interact" title="Permalink to this definition">¶</a></dt>
<dd><p>Closely emulate the interactive Python console.</p>
<p>The optional banner argument specify the banner to print
before the first interaction; by default it prints a banner
similar to the one printed by the real Python interpreter,
followed by the current class name in parentheses (so as not
to confuse this with the real interpreter &#8211; since it&#8217;s so
close!).</p>
</dd></dl>

<dl class="method">
<dt id="pwc.interpreter.Console.push">
<tt class="descname">push</tt><big>(</big><em>line</em><big>)</big><a class="headerlink" href="#pwc.interpreter.Console.push" title="Permalink to this definition">¶</a></dt>
<dd><p>Push a line to the interpreter.</p>
<p>The line should not have a trailing newline; it may have
internal newlines.  The line is appended to a buffer and the
interpreter&#8217;s runsource() method is called with the
concatenated contents of the buffer as source.  If this
indicates that the command was executed or invalid, the buffer
is reset; otherwise, the command is incomplete, and the buffer
is left as it was after the line was appended.  The return
value is 1 if more input is required, 0 if the line was dealt
with in some way (this is the same as runsource()).</p>
</dd></dl>

<dl class="method">
<dt id="pwc.interpreter.Console.raw_input">
<tt class="descname">raw_input</tt><big>(</big><em>prompt=''</em><big>)</big><a class="headerlink" href="#pwc.interpreter.Console.raw_input" title="Permalink to this definition">¶</a></dt>
<dd><p>Write a prompt and read a line.</p>
<p>The returned line does not include the trailing newline.
When the user enters the EOF key sequence, EOFError is raised.</p>
<p>The base implementation uses the built-in function
raw_input(); a subclass may replace this with a different
implementation.</p>
</dd></dl>

<dl class="method">
<dt id="pwc.interpreter.Console.resetbuffer">
<tt class="descname">resetbuffer</tt><big>(</big><big>)</big><a class="headerlink" href="#pwc.interpreter.Console.resetbuffer" title="Permalink to this definition">¶</a></dt>
<dd>Reset the input buffer.</dd></dl>

</dd></dl>

<dl class="function">
<dt id="pwc.interpreter.interact">
<tt class="descclassname">pwc.interpreter.</tt><tt class="descname">interact</tt><big>(</big><em>banner=None</em>, <em>readfunc=None</em>, <em>local=None</em><big>)</big><a class="headerlink" href="#pwc.interpreter.interact" title="Permalink to this definition">¶</a></dt>
<dd><p>Closely emulate the interactive Python interpreter.</p>
<p>This is a backwards compatible interface to the InteractiveConsole
class.  When readfunc is not specified, it attempts to import the
readline module to enable GNU readline if it is available.</p>
<p>Arguments (all optional, all default to None):</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Banner:</th><td class="field-body">passed to InteractiveConsole.interact()</td>
</tr>
<tr class="field"><th class="field-name">Readfunc:</th><td class="field-body">if not None, replaces InteractiveConsole.raw_input()</td>
</tr>
<tr class="field"><th class="field-name">Local:</th><td class="field-body">passed to InteractiveInterpreter.__init__()</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
</div>
<div class="section" id="module-pwc.Itpl">
<h2>pwc.Itpl<a class="headerlink" href="#module-pwc.Itpl" title="Permalink to this headline">¶</a></h2>
<p>String interpolation for Python (by Ka-Ping Yee, 14 Feb 2000).</p>
<p>This module lets you quickly and conveniently interpolate values into
strings (in the flavour of Perl or Tcl, but with less extraneous
punctuation).  You get a bit more power than in the other languages,
because this module allows subscripting, slicing, function calls,
attribute lookup, or arbitrary expressions.  Variables and expressions
are evaluated in the namespace of the caller.</p>
<p>The itpl() function returns the result of interpolating a string, and
printpl() prints out an interpolated string.  Here are some examples:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">Itpl</span> <span class="kn">import</span> <span class="n">printpl</span>
<span class="n">printpl</span><span class="p">(</span><span class="s">&quot;Here is a $string.&quot;</span><span class="p">)</span>
<span class="n">printpl</span><span class="p">(</span><span class="s">&quot;Here is a $module.member.&quot;</span><span class="p">)</span>
<span class="n">printpl</span><span class="p">(</span><span class="s">&quot;Here is an $object.member.&quot;</span><span class="p">)</span>
<span class="n">printpl</span><span class="p">(</span><span class="s">&quot;Here is a $functioncall(with, arguments).&quot;</span><span class="p">)</span>
<span class="n">printpl</span><span class="p">(</span><span class="s">&quot;Here is an ${arbitrary + expression}.&quot;</span><span class="p">)</span>
<span class="n">printpl</span><span class="p">(</span><span class="s">&quot;Here is an $array[3] member.&quot;</span><span class="p">)</span>
<span class="n">printpl</span><span class="p">(</span><span class="s">&quot;Here is a $dictionary[&#39;member&#39;].&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>The filter() function filters a file object so that output through it
is interpolated.  This lets you produce the illusion that Python knows
how to do interpolation:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">Itpl</span>
<span class="n">sys</span><span class="o">.</span><span class="n">stdout</span> <span class="o">=</span> <span class="n">Itpl</span><span class="o">.</span><span class="n">filter</span><span class="p">()</span>
<span class="n">f</span> <span class="o">=</span> <span class="s">&quot;fancy&quot;</span>
<span class="k">print</span> <span class="s">&quot;Isn&#39;t this $f?&quot;</span>
<span class="k">print</span> <span class="s">&quot;Standard output has been replaced with a $sys.stdout object.&quot;</span>
<span class="n">sys</span><span class="o">.</span><span class="n">stdout</span> <span class="o">=</span> <span class="n">Itpl</span><span class="o">.</span><span class="n">unfilter</span><span class="p">()</span>
<span class="k">print</span> <span class="s">&quot;Okay, back $to $normal.&quot;</span>
</pre></div>
</div>
<p>Under the hood, the Itpl class represents a string that knows how to
interpolate values.  An instance of the class parses the string once
upon initialization; the evaluation and substitution can then be done
each time the instance is evaluated with str(instance). For example:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">Itpl</span> <span class="kn">import</span> <span class="n">Itpl</span>
<span class="n">s</span> <span class="o">=</span> <span class="n">Itpl</span><span class="p">(</span><span class="s">&quot;Here is $foo.&quot;</span><span class="p">)</span>
<span class="n">foo</span> <span class="o">=</span> <span class="mf">5</span>
<span class="k">print</span> <span class="nb">str</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
<span class="n">foo</span> <span class="o">=</span> <span class="s">&quot;bar&quot;</span>
<span class="k">print</span> <span class="nb">str</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
</pre></div>
</div>
<p>$Id$</p>
<div class="section" id="id1">
<h3>Exceptions<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<dl class="exception">
<dt id="pwc.Itpl.ItplError">
<em class="property">
exception </em><tt class="descclassname">pwc.Itpl.</tt><tt class="descname">ItplError</tt><big>(</big><em>text</em>, <em>pos</em><big>)</big><a class="headerlink" href="#pwc.Itpl.ItplError" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="id2">
<h3>Functions<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="pwc.Itpl.filter">
<tt class="descclassname">pwc.Itpl.</tt><tt class="descname">filter</tt><big>(</big><em>file=&lt;open file '&lt;stdout&gt;'</em>, <em>mode 'w' at 0x2aacbfe350b8&gt;</em><big>)</big><a class="headerlink" href="#pwc.Itpl.filter" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an ItplFile that filters writes to the given file object.</p>
<p>&#8216;file = filter(file)&#8217; replaces &#8216;file&#8217; with a filtered object that
has a write() method.  When called with no argument, this creates
a filter to sys.stdout.</p>
</dd></dl>

<dl class="function">
<dt id="pwc.Itpl.unfilter">
<tt class="descclassname">pwc.Itpl.</tt><tt class="descname">unfilter</tt><big>(</big><em>ifile=None</em><big>)</big><a class="headerlink" href="#pwc.Itpl.unfilter" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the original file that corresponds to the given ItplFile.</p>
<p>&#8216;file = unfilter(file)&#8217; undoes the effect of &#8216;file = filter(file)&#8217;.
&#8216;sys.stdout = unfilter()&#8217; undoes the effect of &#8216;sys.stdout = filter()&#8217;.</p>
</dd></dl>

</div>
<div class="section" id="id3">
<h3>Classes<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="pwc.Itpl.Itpl">
<em class="property">
class </em><tt class="descclassname">pwc.Itpl.</tt><tt class="descname">Itpl</tt><big>(</big><em>format</em>, <em>codec='UTF-8'</em>, <em>encoding_errors='backslashreplace'</em><big>)</big><a class="headerlink" href="#pwc.Itpl.Itpl" title="Permalink to this definition">¶</a></dt>
<dd><p>Class representing a string with interpolation abilities.</p>
<p>Upon creation, an instance works out what parts of the format
string are literal and what parts need to be evaluated.  The
evaluation and substitution happens in the namespace of the
caller when str(instance) is called.</p>
<dl class="method">
<dt id="pwc.Itpl.Itpl.__init__">
<tt class="descname">__init__</tt><big>(</big><em>format</em>, <em>codec='UTF-8'</em>, <em>encoding_errors='backslashreplace'</em><big>)</big><a class="headerlink" href="#pwc.Itpl.Itpl.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>The single mandatory argument to this constructor is a format
string.</p>
<p>The format string is parsed according to the following rules:</p>
<ol class="arabic">
<li><dl class="first docutils">
<dt>A dollar sign and a name, possibly followed by any of: </dt>
<dd><ul class="first last simple">
<li>an open-paren, and anything up to the matching paren</li>
<li>an open-bracket, and anything up to the matching bracket</li>
<li>a period and a name</li>
</ul>
</dd>
</dl>
<p>any number of times, is evaluated as a Python expression.</p>
</li>
<li><p class="first">A dollar sign immediately followed by an open-brace, and
anything up to the matching close-brace, is evaluated as
a Python expression.</p>
</li>
<li><p class="first">Outside of the expressions described in the above two rules,
two dollar signs in a row give you one literal dollar sign.</p>
</li>
</ol>
<p>Optional arguments:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Codec:</th><td class="field-body">a string containing the name of a valid Python codec.</td>
</tr>
<tr class="field"><th class="field-name" colspan="2">Encoding_errors:</th></tr>
<tr><td>&nbsp;</td><td class="field-body">a string with a valid error handling policy. See the
codecs module documentation for details.</td>
</tr>
</tbody>
</table>
<p>These are used to encode the format string if a call to str() fails on
the expanded result.</p>
</dd></dl>

<dl class="method">
<dt id="pwc.Itpl.Itpl._str">
<tt class="descname">_str</tt><big>(</big><em>glob</em>, <em>loc</em><big>)</big><a class="headerlink" href="#pwc.Itpl.Itpl._str" title="Permalink to this definition">¶</a></dt>
<dd><p>Evaluate to a string in the given globals/locals.</p>
<p>The final output is built by calling str(), but if this fails, the
result is encoded with the instance&#8217;s codec and error handling policy,
via a call to out.encode(self.codec,self.encoding_errors)</p>
</dd></dl>

<dl class="method">
<dt id="pwc.Itpl.Itpl.__str__">
<tt class="descname">__str__</tt><big>(</big><big>)</big><a class="headerlink" href="#pwc.Itpl.Itpl.__str__" title="Permalink to this definition">¶</a></dt>
<dd>Evaluate and substitute the appropriate parts of the string.</dd></dl>

</dd></dl>

<dl class="class">
<dt id="pwc.Itpl.ItplNS">
<em class="property">
class </em><tt class="descclassname">pwc.Itpl.</tt><tt class="descname">ItplNS</tt><big>(</big><em>format</em>, <em>globals</em>, <em>locals=None</em>, <em>codec='utf_8'</em>, <em>encoding_errors='backslashreplace'</em><big>)</big><a class="headerlink" href="#pwc.Itpl.ItplNS" title="Permalink to this definition">¶</a></dt>
<dd><p>Class representing a string with interpolation abilities.</p>
<p>This inherits from Itpl, but at creation time a namespace is provided
where the evaluation will occur.  The interpolation becomes a bit more
efficient, as no traceback needs to be extracte.  It also allows the
caller to supply a different namespace for the interpolation to occur than
its own.</p>
<dl class="method">
<dt id="pwc.Itpl.ItplNS.__init__">
<tt class="descname">__init__</tt><big>(</big><em>format</em>, <em>globals</em>, <em>locals=None</em>, <em>codec='utf_8'</em>, <em>encoding_errors='backslashreplace'</em><big>)</big><a class="headerlink" href="#pwc.Itpl.ItplNS.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>ItplNS(format,globals[,locals]) -&gt; interpolating string instance.</p>
<p>This constructor, besides a format string, takes a globals dictionary
and optionally a locals (which defaults to globals if not provided).</p>
<p>For further details, see the Itpl constructor.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="pwc.Itpl.ItplFile">
<em class="property">
class </em><tt class="descclassname">pwc.Itpl.</tt><tt class="descname">ItplFile</tt><big>(</big><em>file</em><big>)</big><a class="headerlink" href="#pwc.Itpl.ItplFile" title="Permalink to this definition">¶</a></dt>
<dd>A file object that filters each write() through an interpolator.</dd></dl>

</div>
</div>
<div class="section" id="module-pwc.stdcmd">
<h2>pwc.stdcmd<a class="headerlink" href="#module-pwc.stdcmd" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="pwc.stdcmd.ShowExtender">
<em class="property">
class </em><tt class="descclassname">pwc.stdcmd.</tt><tt class="descname">ShowExtender</tt><big>(</big><em>controller</em><big>)</big><a class="headerlink" href="#pwc.stdcmd.ShowExtender" title="Permalink to this definition">¶</a></dt>
<dd>Base class for all PowerConsole SHOW command extenders.</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <h3><a href="index.html">Table Of Contents</a></h3>
            <ul>
<li><a class="reference external" href="">PowerConsole Core modules and classes</a><ul>
<li><a class="reference external" href="#module-pwc">pwc</a></li>
<li><a class="reference external" href="#module-pwc.base">pwc.base</a><ul>
<li><a class="reference external" href="#data">Data</a></li>
<li><a class="reference external" href="#exceptions">Exceptions</a></li>
<li><a class="reference external" href="#functions">Functions</a></li>
<li><a class="reference external" href="#classes">Classes</a><ul>
<li><a class="reference external" href="#helper-classes">Helper classes</a></li>
<li><a class="reference external" href="#command">Command</a></li>
<li><a class="reference external" href="#user-interface-provider">User Interface Provider</a></li>
<li><a class="reference external" href="#display">Display</a></li>
<li><a class="reference external" href="#help-provider">Help Provider</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference external" href="#module-pwc.interpreter">pwc.interpreter</a><ul>
<li><a class="reference external" href="#execution-engine">Execution engine</a></li>
<li><a class="reference external" href="#console">Console</a></li>
</ul>
</li>
<li><a class="reference external" href="#module-pwc.Itpl">pwc.Itpl</a><ul>
<li><a class="reference external" href="#id1">Exceptions</a></li>
<li><a class="reference external" href="#id2">Functions</a></li>
<li><a class="reference external" href="#id3">Classes</a></li>
</ul>
</li>
<li><a class="reference external" href="#module-pwc.stdcmd">pwc.stdcmd</a></li>
</ul>
</li>
</ul>

            <h4>Previous topic</h4>
            <p class="topless"><a href="new-commands.html"
                                  title="previous chapter">How to implement new commands</a></p>
            <h3>This Page</h3>
            <ul class="this-page-menu">
              <li><a href="_sources/pwc.txt"
                     rel="nofollow">Show Source</a></li>
            </ul>
          <div id="searchbox" style="display: none">
            <h3>Quick search</h3>
              <form class="search" action="search.html" method="get">
                <input type="text" name="q" size="18" />
                <input type="submit" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
              </form>
              <p class="searchtip" style="font-size: 90%">
              Enter search terms or a module, class or function name.
              </p>
          </div>
          <script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="modindex.html" title="Global Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="new-commands.html" title="How to implement new commands"
             >previous</a> |</li>
        <li><a href="index.html">PowerConsole v0.7 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
      &copy; Copyright 2009, Pavel Cisar.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 0.6.1.
    </div>
  </body>
</html>