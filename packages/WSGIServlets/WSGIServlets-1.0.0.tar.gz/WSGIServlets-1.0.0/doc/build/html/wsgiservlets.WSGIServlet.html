

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>wsgiservlets.WSGIServlet &mdash; WSGIServlets v1.0 documentation</title>
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="WSGIServlets v1.0 documentation" href="index.html" />
    <link rel="next" title="wsgiservlets.HTMLPage" href="wsgiservlets.HTMLPage.html" />
    <link rel="prev" title="WSGIServlets Documentation" href="index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="wsgiservlets.HTMLPage.html" title="wsgiservlets.HTMLPage"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="index.html" title="WSGIServlets Documentation"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">WSGIServlets v1.0 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="wsgiservlets-wsgiservlet">
<h1>wsgiservlets.WSGIServlet<a class="headerlink" href="#wsgiservlets-wsgiservlet" title="Permalink to this headline">¶</a></h1>
<p>Instances of WSGIServlet are WSGI applications (by implementing
the method <tt class="xref py py-meth docutils literal"><span class="pre">__call__()</span></tt> following the WSGI protocol...see
<a class="reference external" href="http://www.python.org/dev/peps/pep-3333">PEP 3333</a>).</p>
<p>To create a new subclass of WSGIServlet you must implement,
minimally, <tt class="xref py py-meth docutils literal"><span class="pre">_lifecycle()</span></tt>.  If you want to serve HTML you
probably don&#8217;t want to subclass WSGIServlet, but rather subclass
<a class="reference internal" href="wsgiservlets.HTMLPage.html#wsgiservlets.HTMLPage" title="wsgiservlets.HTMLPage"><tt class="xref py py-class docutils literal"><span class="pre">HTMLPage</span></tt></a>, which already subclasses WSGIServlet and has
many features for generating HTML output.  The complete list of
subclasses of WSGIServlet in the standard distribution:</p>
<blockquote>
<ul class="simple">
<li><a class="reference internal" href="wsgiservlets.HTMLPage.html#wsgiservlets.HTMLPage" title="wsgiservlets.HTMLPage"><tt class="xref py py-class docutils literal"><span class="pre">HTMLPage</span></tt></a>: generates well-formed HTML documents and
has many methods and attributes to make generating web pages
easy.</li>
<li><a class="reference internal" href="wsgiservlets.Dispatcher.html#wsgiservlets.Dispatcher" title="wsgiservlets.Dispatcher"><tt class="xref py py-class docutils literal"><span class="pre">Dispatcher</span></tt></a>: given a mapping of names to WSGIServlet
classes and optionally a document root, subclasses of
<tt class="docutils literal"><span class="pre">Dispatcher</span></tt> can serve (dispatch) a mix of static and
dynamic content.</li>
<li><a class="reference internal" href="wsgiservlets.JSONRPCServer.html#wsgiservlets.JSONRPCServer" title="wsgiservlets.JSONRPCServer"><tt class="xref py py-class docutils literal"><span class="pre">JSONRPCServer</span></tt></a>: a JSON-RPC service.  Subclasses that
define methods with names prefixed <em>rpc_</em> are automatically
available to remote clients.  These methods can except any
arguments and return any object(s) that can be json
encoded/decoded.</li>
</ul>
</blockquote>
<p>API:</p>
<dl class="class">
<dt id="wsgiservlets.WSGIServlet">
<em class="property">class </em><tt class="descclassname">wsgiservlets.</tt><tt class="descname">WSGIServlet</tt><a class="headerlink" href="#wsgiservlets.WSGIServlet" title="Permalink to this definition">¶</a></dt>
<dd><p>Abstract base class for all servlets, instances of which are WSGI applications.</p>
<dl class="method">
<dt id="wsgiservlets.WSGIServlet.__call__">
<tt class="descname">__call__</tt><big>(</big><em>environ</em>, <em>start_response</em><big>)</big><a class="headerlink" href="#wsgiservlets.WSGIServlet.__call__" title="Permalink to this definition">¶</a></dt>
<dd><p>WSGIServlet instances are WSGI applications by virtue of
the implementation of this method which adheres to the protocol
specified in <a class="reference external" href="http://www.python.org/dev/peps/pep-3333">PEP 3333</a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>environ</strong> &#8211; the WSGI environment.</li>
<li><strong>start_response</strong> &#8211; the start response callable.</li>
</ul>
</td>
</tr>
<tr class="field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">an instance of <a class="reference internal" href="wsgiservlets.HTTPResponse.html#wsgiservlets.HTTPResponse" title="wsgiservlets.HTTPResponse"><tt class="xref py py-class docutils literal"><span class="pre">wsgiservlets.HTTPResponse</span></tt></a>
which are iterable.</p>
</td>
</tr>
</tbody>
</table>
<p>The implementation is simple in principle and follows these
steps:</p>
<blockquote>
<ol class="arabic">
<li><p class="first">cache <tt class="docutils literal"><span class="pre">environ</span></tt> as <a class="reference internal" href="#wsgiservlets.WSGIServlet.environ" title="wsgiservlets.WSGIServlet.environ"><tt class="xref py py-attr docutils literal"><span class="pre">environ</span></tt></a></p>
</li>
<li><p class="first">create <a class="reference internal" href="#wsgiservlets.WSGIServlet.response" title="wsgiservlets.WSGIServlet.response"><tt class="xref py py-attr docutils literal"><span class="pre">response</span></tt></a> as an instance of <a class="reference internal" href="wsgiservlets.HTTPResponse.html#wsgiservlets.HTTPOK" title="wsgiservlets.HTTPOK"><tt class="xref py py-class docutils literal"><span class="pre">wsgiservlets.HTTPOK</span></tt></a></p>
</li>
<li><dl class="first docutils">
<dt>call, in order:</dt>
<dd><ol class="first last arabic simple">
<li><a class="reference internal" href="#wsgiservlets.WSGIServlet._pre_lifecycle" title="wsgiservlets.WSGIServlet._pre_lifecycle"><tt class="xref py py-meth docutils literal"><span class="pre">_pre_lifecycle()</span></tt></a></li>
<li><a class="reference internal" href="#wsgiservlets.WSGIServlet._lifecycle" title="wsgiservlets.WSGIServlet._lifecycle"><tt class="xref py py-meth docutils literal"><span class="pre">_lifecycle()</span></tt></a></li>
<li><a class="reference internal" href="#wsgiservlets.WSGIServlet._post_lifecycle" title="wsgiservlets.WSGIServlet._post_lifecycle"><tt class="xref py py-meth docutils literal"><span class="pre">_post_lifecycle()</span></tt></a></li>
</ol>
</dd>
</dl>
</li>
<li><p class="first">return <a class="reference internal" href="#wsgiservlets.WSGIServlet.response" title="wsgiservlets.WSGIServlet.response"><tt class="xref py py-attr docutils literal"><span class="pre">response</span></tt></a></p>
</li>
</ol>
</blockquote>
</dd></dl>

<dl class="method">
<dt id="wsgiservlets.WSGIServlet._pre_lifecycle">
<tt class="descname">_pre_lifecycle</tt><big>(</big><big>)</big><a class="headerlink" href="#wsgiservlets.WSGIServlet._pre_lifecycle" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#wsgiservlets.WSGIServlet.__call__" title="wsgiservlets.WSGIServlet.__call__"><tt class="xref py py-meth docutils literal"><span class="pre">__call__()</span></tt></a> for when this method is called in the life
cycle of a request.  The base class implementation initializes
the form (see: <a class="reference internal" href="#wsgiservlets.WSGIServlet.use_form" title="wsgiservlets.WSGIServlet.use_form"><tt class="xref py py-attr docutils literal"><span class="pre">use_form</span></tt></a>) and the session (see:
<a class="reference internal" href="#wsgiservlets.WSGIServlet.use_session" title="wsgiservlets.WSGIServlet.use_session"><tt class="xref py py-attr docutils literal"><span class="pre">use_session</span></tt></a>).</p>
</dd></dl>

<dl class="method">
<dt id="wsgiservlets.WSGIServlet._lifecycle">
<tt class="descname">_lifecycle</tt><big>(</big><big>)</big><a class="headerlink" href="#wsgiservlets.WSGIServlet._lifecycle" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#wsgiservlets.WSGIServlet.__call__" title="wsgiservlets.WSGIServlet.__call__"><tt class="xref py py-meth docutils literal"><span class="pre">__call__()</span></tt></a> for when this method is called in the
life cycle of a request.  This method is not implemented in
the base class and raises <tt class="xref py py-exc docutils literal"><span class="pre">NotImplementedError</span></tt>.</p>
</dd></dl>

<dl class="method">
<dt id="wsgiservlets.WSGIServlet._post_lifecycle">
<tt class="descname">_post_lifecycle</tt><big>(</big><big>)</big><a class="headerlink" href="#wsgiservlets.WSGIServlet._post_lifecycle" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#wsgiservlets.WSGIServlet.__call__" title="wsgiservlets.WSGIServlet.__call__"><tt class="xref py py-meth docutils literal"><span class="pre">__call__()</span></tt></a> for when this method is called in the
life cycle of a request.  The base class implementation
garbage collects the form and session objects, if used (see:
<a class="reference internal" href="#wsgiservlets.WSGIServlet.use_form" title="wsgiservlets.WSGIServlet.use_form"><tt class="xref py py-attr docutils literal"><span class="pre">use_form</span></tt></a> and <a class="reference internal" href="#wsgiservlets.WSGIServlet.use_session" title="wsgiservlets.WSGIServlet.use_session"><tt class="xref py py-attr docutils literal"><span class="pre">use_session</span></tt></a>).</p>
</dd></dl>

<dl class="attribute">
<dt id="wsgiservlets.WSGIServlet.auth_realm">
<tt class="descname">auth_realm</tt><a class="headerlink" href="#wsgiservlets.WSGIServlet.auth_realm" title="Permalink to this definition">¶</a></dt>
<dd><p>Specifies the realm for basic HTTP authentication.  Default:
<tt class="docutils literal"><span class="pre">'Unspecified'</span></tt>.</p>
</dd></dl>

<dl class="attribute">
<dt id="wsgiservlets.WSGIServlet.use_form">
<tt class="descname">use_form</tt><a class="headerlink" href="#wsgiservlets.WSGIServlet.use_form" title="Permalink to this definition">¶</a></dt>
<dd><p>If <tt class="docutils literal"><span class="pre">use_form</span></tt> evaluates to <tt class="xref docutils literal"><span class="pre">True</span></tt> (the default) then for
each request <tt class="docutils literal"><span class="pre">form</span></tt> will be set to an instance of
<tt class="xref py py-class docutils literal"><span class="pre">cgi.FieldStorage</span></tt>.  If <tt class="xref docutils literal"><span class="pre">False</span></tt>, <tt class="docutils literal"><span class="pre">form</span></tt> will be
set to <tt class="xref docutils literal"><span class="pre">None</span></tt>.</p>
</dd></dl>

<dl class="attribute">
<dt id="wsgiservlets.WSGIServlet.form">
<tt class="descname">form</tt><a class="headerlink" href="#wsgiservlets.WSGIServlet.form" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#wsgiservlets.WSGIServlet.use_form" title="wsgiservlets.WSGIServlet.use_form"><tt class="xref py py-attr docutils literal"><span class="pre">use_form</span></tt></a>.</p>
</dd></dl>

<dl class="attribute">
<dt id="wsgiservlets.WSGIServlet.use_session">
<tt class="descname">use_session</tt><a class="headerlink" href="#wsgiservlets.WSGIServlet.use_session" title="Permalink to this definition">¶</a></dt>
<dd><p>If <tt class="docutils literal"><span class="pre">use_session</span></tt> evaluates to <tt class="xref docutils literal"><span class="pre">True</span></tt> then for each request
<tt class="docutils literal"><span class="pre">session</span></tt> will be set to an instance of
<a class="reference internal" href="wsgiservlets.Session.html#wsgiservlets.Session" title="wsgiservlets.Session"><tt class="xref py py-class docutils literal"><span class="pre">Session</span></tt></a>.  If <tt class="xref docutils literal"><span class="pre">False</span></tt> (the default),
<tt class="docutils literal"><span class="pre">session</span></tt> will be set to <tt class="xref docutils literal"><span class="pre">None</span></tt>.</p>
</dd></dl>

<dl class="attribute">
<dt id="wsgiservlets.WSGIServlet.session">
<tt class="descname">session</tt><a class="headerlink" href="#wsgiservlets.WSGIServlet.session" title="Permalink to this definition">¶</a></dt>
<dd><p>See <a class="reference internal" href="#wsgiservlets.WSGIServlet.use_session" title="wsgiservlets.WSGIServlet.use_session"><tt class="xref py py-attr docutils literal"><span class="pre">use_session</span></tt></a>.</p>
</dd></dl>

<dl class="attribute">
<dt id="wsgiservlets.WSGIServlet.session_cookie_name">
<tt class="descname">session_cookie_name</tt><a class="headerlink" href="#wsgiservlets.WSGIServlet.session_cookie_name" title="Permalink to this definition">¶</a></dt>
<dd><p>If sessions are in use (see <a class="reference internal" href="#wsgiservlets.WSGIServlet.use_session" title="wsgiservlets.WSGIServlet.use_session"><tt class="xref py py-attr docutils literal"><span class="pre">use_session</span></tt></a>), then this is
the name of the session cookie set on the client.</p>
</dd></dl>

<dl class="attribute">
<dt id="wsgiservlets.WSGIServlet.session_cookie_secret">
<tt class="descname">session_cookie_secret</tt><a class="headerlink" href="#wsgiservlets.WSGIServlet.session_cookie_secret" title="Permalink to this definition">¶</a></dt>
<dd><p>The client cookie holding the session ID is signed to avoid
hijacking session IDs.  <tt class="docutils literal"><span class="pre">session_cookie_secret</span></tt> should be
unique string to seed the digital string.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">used by all servlets accessing the same Session
backend</p>
</div>
</dd></dl>

<dl class="attribute">
<dt id="wsgiservlets.WSGIServlet.session_config">
<tt class="descname">session_config</tt><a class="headerlink" href="#wsgiservlets.WSGIServlet.session_config" title="Permalink to this definition">¶</a></dt>
<dd><p>A mapping holding session configuration variables.  At this
time there are two variables:</p>
<blockquote>
<ol class="arabic simple">
<li><strong>timeout</strong> (default: <tt class="docutils literal"><span class="pre">1800</span></tt>) The amount of time, in seconds,
before a session times out.</li>
<li><strong>hold_exclusive_lock</strong> (default: <tt class="xref docutils literal"><span class="pre">False</span></tt>) If true, a lock
will be held through the whole request before being
released, thus serializing requests from the same session.</li>
</ol>
</blockquote>
</dd></dl>

<dl class="attribute">
<dt id="wsgiservlets.WSGIServlet.session_backend">
<tt class="descname">session_backend</tt><a class="headerlink" href="#wsgiservlets.WSGIServlet.session_backend" title="Permalink to this definition">¶</a></dt>
<dd><p>Specifies the type of session to use.  Currently, only one kind
of session is in the distribution: <tt class="xref py py-class docutils literal"><span class="pre">FileSessionBackend</span></tt>.</p>
</dd></dl>

<dl class="attribute">
<dt id="wsgiservlets.WSGIServlet.session_backend_init">
<tt class="descname">session_backend_init</tt><a class="headerlink" href="#wsgiservlets.WSGIServlet.session_backend_init" title="Permalink to this definition">¶</a></dt>
<dd><p>Session backend configuration, which is backend specific.  For
<tt class="xref py py-class docutils literal"><span class="pre">FileSessionBackend</span></tt> the only variable is:</p>
<blockquote>
<ol class="arabic simple">
<li><strong>cachedir</strong> (default: <tt class="docutils literal"><span class="pre">/tmp/wsgisrv_sess</span></tt>) which specifies
the root directory for session storage.</li>
</ol>
</blockquote>
</dd></dl>

<dl class="attribute">
<dt id="wsgiservlets.WSGIServlet.cookieclass">
<tt class="descname">cookieclass</tt><a class="headerlink" href="#wsgiservlets.WSGIServlet.cookieclass" title="Permalink to this definition">¶</a></dt>
<dd><p>The class to use when accessing/setting client cookies.  Any
class can be used, but it should follow the protocol of those
classes defined in the standard python library module
<tt class="xref py py-mod docutils literal"><span class="pre">Cookie</span></tt>.  The default is <tt class="xref py py-class docutils literal"><span class="pre">Cookie.SimpleCookie</span></tt>.</p>
</dd></dl>

<dl class="attribute">
<dt id="wsgiservlets.WSGIServlet.method">
<tt class="descname">method</tt><a class="headerlink" href="#wsgiservlets.WSGIServlet.method" title="Permalink to this definition">¶</a></dt>
<dd><p>Same as <tt class="docutils literal"><span class="pre">environ['REQUEST_METHOD']</span></tt></p>
</dd></dl>

<dl class="attribute">
<dt id="wsgiservlets.WSGIServlet.script_name">
<tt class="descname">script_name</tt><a class="headerlink" href="#wsgiservlets.WSGIServlet.script_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Same as <tt class="docutils literal"><span class="pre">environ['SCRIPT_NAME']</span></tt></p>
</dd></dl>

<dl class="attribute">
<dt id="wsgiservlets.WSGIServlet.path_info">
<tt class="descname">path_info</tt><a class="headerlink" href="#wsgiservlets.WSGIServlet.path_info" title="Permalink to this definition">¶</a></dt>
<dd><p>Same as <tt class="docutils literal"><span class="pre">environ['PATH_INFO']</span></tt></p>
</dd></dl>

<dl class="attribute">
<dt id="wsgiservlets.WSGIServlet.query_string">
<tt class="descname">query_string</tt><a class="headerlink" href="#wsgiservlets.WSGIServlet.query_string" title="Permalink to this definition">¶</a></dt>
<dd><p>Same as <tt class="docutils literal"><span class="pre">environ['QUERY_STRING']</span></tt></p>
</dd></dl>

<dl class="attribute">
<dt id="wsgiservlets.WSGIServlet.debug">
<tt class="descname">debug</tt><a class="headerlink" href="#wsgiservlets.WSGIServlet.debug" title="Permalink to this definition">¶</a></dt>
<dd><p>If true (default: <tt class="xref docutils literal"><span class="pre">False</span></tt>) exceptions will send stack traces
and a pretty-printed listing of the environment to the client.
Other objects in <tt class="xref py py-mod docutils literal"><span class="pre">wsgiservlets</span></tt> also flag debugging output
on this variable.</p>
</dd></dl>

<dl class="attribute">
<dt id="wsgiservlets.WSGIServlet.gen500msg">
<tt class="descname">gen500msg</tt><a class="headerlink" href="#wsgiservlets.WSGIServlet.gen500msg" title="Permalink to this definition">¶</a></dt>
<dd><p>Terse message sent to clients on status 500 responses.</p>
</dd></dl>

<dl class="attribute">
<dt id="wsgiservlets.WSGIServlet.environ">
<tt class="descname">environ</tt><a class="headerlink" href="#wsgiservlets.WSGIServlet.environ" title="Permalink to this definition">¶</a></dt>
<dd><p>The WSGI environment.</p>
</dd></dl>

<dl class="attribute">
<dt id="wsgiservlets.WSGIServlet.response">
<tt class="descname">response</tt><a class="headerlink" href="#wsgiservlets.WSGIServlet.response" title="Permalink to this definition">¶</a></dt>
<dd><p>The response object, an instance of <a class="reference internal" href="wsgiservlets.HTTPResponse.html#wsgiservlets.HTTPResponse" title="wsgiservlets.HTTPResponse"><tt class="xref py py-class docutils literal"><span class="pre">HTTPResponse</span></tt></a>.</p>
</dd></dl>

<dl class="attribute">
<dt id="wsgiservlets.WSGIServlet.http_headers">
<tt class="descname">http_headers</tt><a class="headerlink" href="#wsgiservlets.WSGIServlet.http_headers" title="Permalink to this definition">¶</a></dt>
<dd><p>An attribute for simplifying access to the incoming HTTP headers.
Instead of writing this:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">host</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s">&quot;HTTP_HOST&quot;</span><span class="p">]</span>
</pre></div>
</div>
<p>you can write this:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">host</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">http_headers</span><span class="o">.</span><span class="n">HOST</span>
</pre></div>
</div>
<p>I.e., keys you would normally look up in <a class="reference internal" href="#wsgiservlets.WSGIServlet.environ" title="wsgiservlets.WSGIServlet.environ"><tt class="xref py py-attr docutils literal"><span class="pre">environ</span></tt></a> can
be access as attributes of this object with <tt class="docutils literal"><span class="pre">HTTP_</span></tt>
stripped off the variable name.  (Actutally, the accessed
attribute is looked up case-insensitively, so
<tt class="xref py py-attr docutils literal"><span class="pre">self.http_headers.hOsT</span></tt> also works.)</p>
<p>Two headers that are not prefaced with <tt class="docutils literal"><span class="pre">HTTP_</span></tt> can also
be accessed via this attribute: <tt class="docutils literal"><span class="pre">CONTENT_TYPE</span></tt> and
<tt class="docutils literal"><span class="pre">CONTENT_LENGTH</span></tt>, e.g., <tt class="xref py py-attr docutils literal"><span class="pre">self.http_headers.CONTENT_LENGTH</span></tt>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">attributes are read-only.  You can not write,
e.g., <tt class="docutils literal"><span class="pre">self.http_headers.HOST</span> <span class="pre">=</span> <span class="pre">...</span></tt> This will
raise an <tt class="xref py py-exc docutils literal"><span class="pre">AttributeError</span></tt>.</p>
</div>
<p>http_headers also supports the <tt class="docutils literal"><span class="pre">in</span></tt> operator:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">if</span> <span class="s">&quot;COOKIE&quot;</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">http_headers</span><span class="p">:</span>
   <span class="o">...</span>
</pre></div>
</div>
<p>It also support iteration:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">for</span> <span class="n">header</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">http_headers</span><span class="p">:</span>
   <span class="o">...</span>
</pre></div>
</div>
</dd></dl>

<dl class="attribute">
<dt id="wsgiservlets.WSGIServlet.path_info_list">
<tt class="descname">path_info_list</tt><a class="headerlink" href="#wsgiservlets.WSGIServlet.path_info_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Read-only attribute to canonicalize <a class="reference internal" href="#wsgiservlets.WSGIServlet.path_info" title="wsgiservlets.WSGIServlet.path_info"><tt class="xref py py-attr docutils literal"><span class="pre">path_info</span></tt></a> as a
list.</p>
<p>Splits <a class="reference internal" href="#wsgiservlets.WSGIServlet.path_info" title="wsgiservlets.WSGIServlet.path_info"><tt class="xref py py-attr docutils literal"><span class="pre">path_info</span></tt></a> and returns it as a list.  Empty or all
whitespace components or components == &#8220;.&#8221; are ignored.</p>
</dd></dl>

<dl class="method">
<dt id="wsgiservlets.WSGIServlet.pop_path_info">
<tt class="descname">pop_path_info</tt><big>(</big><em>count=1</em><big>)</big><a class="headerlink" href="#wsgiservlets.WSGIServlet.pop_path_info" title="Permalink to this definition">¶</a></dt>
<dd><p>Pops the left-most component off <a class="reference internal" href="#wsgiservlets.WSGIServlet.path_info" title="wsgiservlets.WSGIServlet.path_info"><tt class="xref py py-attr docutils literal"><span class="pre">path_info</span></tt></a> and
appends it to the end of <a class="reference internal" href="#wsgiservlets.WSGIServlet.script_name" title="wsgiservlets.WSGIServlet.script_name"><tt class="xref py py-attr docutils literal"><span class="pre">script_name</span></tt></a>.  Returns the
component popped and appended.  If count &gt; 1, pops and appends
that many components and returns a list of the components.  If
count is less than one or greater than the number of
components in <a class="reference internal" href="#wsgiservlets.WSGIServlet.path_info" title="wsgiservlets.WSGIServlet.path_info"><tt class="xref py py-attr docutils literal"><span class="pre">path_info</span></tt></a>, then no action is taken and
<tt class="xref docutils literal"><span class="pre">None</span></tt> is returned.  Examples: with:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">script_name</span> <span class="o">=</span> <span class="s">&quot;/a/b/c&quot;</span>
<span class="n">path_info</span> <span class="o">=</span> <span class="s">&quot;/d/e/f&quot;</span>
</pre></div>
</div>
<p>Then:</p>
<blockquote>
<table border="1" class="docutils">
<colgroup>
<col width="28%" />
<col width="26%" />
<col width="25%" />
<col width="21%" />
</colgroup>
<thead valign="bottom">
<tr><th class="head">Calling</th>
<th class="head">Returns</th>
<th class="head" colspan="2">Values after call</th>
</tr>
<tr><th class="head"></th>
<th class="head">&nbsp;</th>
<th class="head">script_name</th>
<th class="head">path_info</th>
</tr>
</thead>
<tbody valign="top">
<tr><td>pop_path_info()</td>
<td>&#8220;d&#8221;</td>
<td>&#8220;/a/b/c/d&#8221;</td>
<td>&#8220;/e/f&#8221;</td>
</tr>
<tr><td>pop_path_info(2)</td>
<td>[&#8220;d&#8221;, &#8220;e&#8221;]</td>
<td>&#8220;/a/b/c/d/e&#8221;</td>
<td>&#8220;/f&#8221;</td>
</tr>
<tr><td>pop_path_info(3)</td>
<td>[&#8220;d&#8221;, &#8220;e&#8221;, &#8220;f&#8221;]</td>
<td>&#8220;/a/b/c/d/e/f&#8221;</td>
<td>&#8220;/&#8221;</td>
</tr>
<tr><td>pop_path_info(4)</td>
<td>None</td>
<td>&#8220;/a/b/c&#8221;</td>
<td>&#8220;/d/e/f&#8221;</td>
</tr>
</tbody>
</table>
</blockquote>
</dd></dl>

<dl class="attribute">
<dt id="wsgiservlets.WSGIServlet.cookies">
<tt class="descname">cookies</tt><a class="headerlink" href="#wsgiservlets.WSGIServlet.cookies" title="Permalink to this definition">¶</a></dt>
<dd><p>Attribute that processes the <tt class="docutils literal"><span class="pre">COOKIE</span></tt> header and returns
a class representing the cookies.  Which class is used is
defined by <a class="reference internal" href="#wsgiservlets.WSGIServlet.cookieclass" title="wsgiservlets.WSGIServlet.cookieclass"><tt class="xref py py-attr docutils literal"><span class="pre">cookieclass</span></tt></a>.</p>
</dd></dl>

<dl class="method">
<dt id="wsgiservlets.WSGIServlet.set_cookie">
<tt class="descname">set_cookie</tt><big>(</big><em>name</em>, <em>value</em>, <em>cookieclass=None</em>, <em>**attrs</em><big>)</big><a class="headerlink" href="#wsgiservlets.WSGIServlet.set_cookie" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets an outgoing cookie.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> &#8211; the name of the cookie.</li>
<li><strong>value</strong> &#8211; its value.</li>
<li><strong>cookieclass</strong> &#8211; the class used to create the cookie.  If
<tt class="xref docutils literal"><span class="pre">None</span></tt>, uses the class defined by
<a class="reference internal" href="#wsgiservlets.WSGIServlet.cookieclass" title="wsgiservlets.WSGIServlet.cookieclass"><tt class="xref py py-attr docutils literal"><span class="pre">cookieclass</span></tt></a>.</li>
<li><strong>attrs</strong> &#8211; key/value pairs used to set attributes of the
cookie.  E.g., <tt class="docutils literal"><span class="pre">expires=3600</span></tt>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="wsgiservlets.WSGIServlet.del_cookie">
<tt class="descname">del_cookie</tt><big>(</big><em>name</em><big>)</big><a class="headerlink" href="#wsgiservlets.WSGIServlet.del_cookie" title="Permalink to this definition">¶</a></dt>
<dd><p>Deletes a cookie.</p>
<p>Implemented by expiring the cookie; also sets the value to
the empty string.</p>
</dd></dl>

<dl class="method">
<dt id="wsgiservlets.WSGIServlet.auth_with_mapping">
<tt class="descname">auth_with_mapping</tt><big>(</big><em>mapping</em><big>)</big><a class="headerlink" href="#wsgiservlets.WSGIServlet.auth_with_mapping" title="Permalink to this definition">¶</a></dt>
<dd><p>Helper method used in HTTP Basic Authentication.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>mapping</strong> &#8211; any mapping that supports the standard
<tt class="xref py py-meth docutils literal"><span class="pre">dict.get()</span></tt> method, where the keys are
usernames and their values passwords.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>If the HTTP <tt class="docutils literal"><span class="pre">Authentication</span></tt> header does not have a
username/password pair that is found in mapping
<a class="reference internal" href="#wsgiservlets.WSGIServlet.unauthorized" title="wsgiservlets.WSGIServlet.unauthorized"><tt class="xref py py-meth docutils literal"><span class="pre">unauthorized()</span></tt></a> is called.</p>
</dd></dl>

<dl class="method">
<dt id="wsgiservlets.WSGIServlet.get_basic_auth">
<tt class="descname">get_basic_auth</tt><big>(</big><big>)</big><a class="headerlink" href="#wsgiservlets.WSGIServlet.get_basic_auth" title="Permalink to this definition">¶</a></dt>
<dd><p>Helper method used in HTTP Basic Authentication.</p>
<p>Retrieves username, password pair from HTTP <tt class="docutils literal"><span class="pre">Authentication</span></tt>
header.</p>
<p>If the header does not exist, <a class="reference internal" href="#wsgiservlets.WSGIServlet.unauthorized" title="wsgiservlets.WSGIServlet.unauthorized"><tt class="xref py py-meth docutils literal"><span class="pre">unauthorized()</span></tt></a> is called.
If the header exists, but the username/password pair cannot be
base64 decoded, <a class="reference internal" href="wsgiservlets.HTTPResponse.html#wsgiservlets.HTTPBadRequest" title="wsgiservlets.HTTPBadRequest"><tt class="xref py py-exc docutils literal"><span class="pre">HTTPBadRequest</span></tt></a> is raised.  Otherwise, a tuple
is returned: <tt class="docutils literal"><span class="pre">(username,</span> <span class="pre">password)</span></tt>.</p>
</dd></dl>

<dl class="method">
<dt id="wsgiservlets.WSGIServlet.unauthorized">
<tt class="descname">unauthorized</tt><big>(</big><big>)</big><a class="headerlink" href="#wsgiservlets.WSGIServlet.unauthorized" title="Permalink to this definition">¶</a></dt>
<dd><p>Helper method used in HTTP Basic Authentication.</p>
<p>Writes appropriate HTTP headers requesting authentication and
raises <a class="reference internal" href="wsgiservlets.HTTPResponse.html#wsgiservlets.HTTPUnauthorized" title="wsgiservlets.HTTPUnauthorized"><tt class="xref py py-exc docutils literal"><span class="pre">HTTPUnauthorized</span></tt></a> exception.  This method does
not return.</p>
</dd></dl>

<dl class="method">
<dt id="wsgiservlets.WSGIServlet.redirect">
<tt class="descname">redirect</tt><big>(</big><em>uri</em>, <em>permanently=False</em><big>)</big><a class="headerlink" href="#wsgiservlets.WSGIServlet.redirect" title="Permalink to this definition">¶</a></dt>
<dd><p>Send a redirect to the client.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>uri</strong> &#8211; The URI to relocate to.</li>
<li><strong>permanently</strong> &#8211; If False (the default) reply with 307,
<em>Moved Temporarily</em>, else 301,
<em>Moved Permanently</em>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>This method does not return.</p>
</dd></dl>

<dl class="method">
<dt id="wsgiservlets.WSGIServlet.subrequest">
<tt class="descname">subrequest</tt><big>(</big><em>wsgiservlet</em>, <em>environ=None</em><big>)</big><a class="headerlink" href="#wsgiservlets.WSGIServlet.subrequest" title="Permalink to this definition">¶</a></dt>
<dd><p>Redirect internally.</p>
<p>This does not send a redirect to the client (see
<a class="reference internal" href="#wsgiservlets.WSGIServlet.redirect" title="wsgiservlets.WSGIServlet.redirect"><tt class="xref py py-meth docutils literal"><span class="pre">redirect()</span></tt></a>), but issues a subrequest to another servlet
within the server.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>wsgiservlet</strong> &#8211; The servlet instance to pass control to.</li>
<li><strong>environ</strong> &#8211; If None (the default), a copy of
<tt class="xref py py-attr docutils literal"><span class="pre">self.environ</span></tt> will be used in the
subrequest.  If a mapping, it will be merged
into a copy of <tt class="xref py py-attr docutils literal"><span class="pre">self.environ</span></tt> and used
in the subrequest.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">For subrequests, <tt class="docutils literal"><span class="pre">&quot;wsgiservlets.subrequest&quot;</span></tt> will
be found in the environment with value <tt class="xref docutils literal"><span class="pre">True</span></tt>.</p>
</div>
<p>This method does not return.</p>
</dd></dl>

<dl class="method">
<dt id="wsgiservlets.WSGIServlet.log">
<tt class="descname">log</tt><big>(</big><em>msg</em><big>)</big><a class="headerlink" href="#wsgiservlets.WSGIServlet.log" title="Permalink to this definition">¶</a></dt>
<dd><p>Utility method to write a message to the error log,
<tt class="xref py py-attr docutils literal"><span class="pre">envrion['wsgi.errors']</span></tt>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>msg</strong> (<em>str</em>) &#8211; The message to be written to the log.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="wsgiservlets.WSGIServlet.write">
<tt class="descname">write</tt><big>(</big><em>*args</em><big>)</big><a class="headerlink" href="#wsgiservlets.WSGIServlet.write" title="Permalink to this definition">¶</a></dt>
<dd><p>Utility method to write the arguments to the client.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>args</strong> &#8211; tuple of arbitrary objects which will be
converted to strings.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="wsgiservlets.WSGIServlet.writeln">
<tt class="descname">writeln</tt><big>(</big><em>*args</em><big>)</big><a class="headerlink" href="#wsgiservlets.WSGIServlet.writeln" title="Permalink to this definition">¶</a></dt>
<dd><p>Like <a class="reference internal" href="#wsgiservlets.WSGIServlet.write" title="wsgiservlets.WSGIServlet.write"><tt class="xref py py-meth docutils literal"><span class="pre">write()</span></tt></a>, but also append a newline.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>args</strong> &#8211; tuple of arbitrary objects which will be
converted to strings.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="wsgiservlets.WSGIServlet.format_environ">
<tt class="descname">format_environ</tt><big>(</big><em>sep='n'</em><big>)</big><a class="headerlink" href="#wsgiservlets.WSGIServlet.format_environ" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the enivornment formatted: <em>key=val SEP key=val SEP ...</em></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>sep</strong> &#8211; the separation string inserted between key=value
paris.  Default: newline.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="wsgiservlets.WSGIServlet.http_time">
<tt class="descname">http_time</tt><big>(</big><em>timestamp=None</em><big>)</big><a class="headerlink" href="#wsgiservlets.WSGIServlet.http_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the current date and time formatted for a message header.</p>
</dd></dl>

<dl class="method">
<dt id="wsgiservlets.WSGIServlet.send_file">
<tt class="descname">send_file</tt><big>(</big><em>path</em><big>)</big><a class="headerlink" href="#wsgiservlets.WSGIServlet.send_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Sends the file specified by <cite>path</cite> as the response.  If
<cite>path</cite> does not exist, <a class="reference internal" href="wsgiservlets.HTTPResponse.html#wsgiservlets.HTTPNotFound" title="wsgiservlets.HTTPNotFound"><tt class="xref py py-exc docutils literal"><span class="pre">HTTPNotFound</span></tt></a> is raised.  If
<cite>path</cite> is not a file, <a class="reference internal" href="wsgiservlets.HTTPResponse.html#wsgiservlets.HTTPForbidden" title="wsgiservlets.HTTPForbidden"><tt class="xref py py-exc docutils literal"><span class="pre">HTTPForbidden</span></tt></a> is raised.
Otherwise, <a class="reference internal" href="wsgiservlets.HTTPResponse.html#wsgiservlets.HTTPOK" title="wsgiservlets.HTTPOK"><tt class="xref py py-exc docutils literal"><span class="pre">HTTPOK</span></tt></a> is raised with the content of the
file as the response and Content-Type is set based on
path&#8217;s extension.  This method does not return.</p>
</dd></dl>

<dl class="classmethod">
<dt id="wsgiservlets.WSGIServlet.test_server">
<em class="property">classmethod </em><tt class="descname">test_server</tt><big>(</big><em>servlet_class</em>, <em>host=''</em>, <em>port=8000</em>, <em>forever=True</em>, <em>*args</em>, <em>**kw</em><big>)</big><a class="headerlink" href="#wsgiservlets.WSGIServlet.test_server" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a test server.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>host</strong> (<em>str</em>) &#8211; the host to bind the server.  An empty string
(the default) binds to all interfaces.</li>
<li><strong>port</strong> (<em>int</em>) &#8211; the port to bind the server.  The default is 8000.</li>
<li><strong>forever</strong> (<em>bool</em>) &#8211; when <tt class="xref docutils literal"><span class="pre">True</span></tt> (the default) listen for
connections forever; when <tt class="xref docutils literal"><span class="pre">False</span></tt>
accept one connection then exit.</li>
<li><strong>args,kw</strong> &#8211; passed to servlet constructor when creating
an instance.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>This method, using <tt class="xref py py-func docutils literal"><span class="pre">wsgiref.simple_server.make_server()</span></tt>
from the standard python library, creates a HTTP server.  This
is very handy when doing quick prototyping of a new class,
e.g:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">class</span> <span class="nc">MyPage</span><span class="p">(</span><span class="n">HTMLPage</span><span class="p">):</span>
    <span class="o">...</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">&#39;__main__&#39;</span><span class="p">:</span>
    <span class="n">MyPage</span><span class="o">.</span><span class="n">test_server</span><span class="p">()</span>
</pre></div>
</div>
<p>After executing the above, you can use your browser and visit
<cite>http://localhost:8000/</cite>.</p>
</dd></dl>

</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="index.html"
                        title="previous chapter">WSGIServlets Documentation</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="wsgiservlets.HTMLPage.html"
                        title="next chapter">wsgiservlets.HTMLPage</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/wsgiservlets.WSGIServlet.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" size="18" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="wsgiservlets.HTMLPage.html" title="wsgiservlets.HTMLPage"
             >next</a> |</li>
        <li class="right" >
          <a href="index.html" title="WSGIServlets Documentation"
             >previous</a> |</li>
        <li><a href="index.html">WSGIServlets v1.0 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2011, Daniel Popowich.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.0.1.
    </div>
  </body>
</html>