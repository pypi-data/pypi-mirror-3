#!env python

import cloudtee

import argparse
import sys


def get_options():
    parser = argparse.ArgumentParser()
    parser.add_argument('slug', type=str)
    parser.add_argument('--api-endpoint', type=str, 
                        default='http://cloudtee.me')
    parser.add_argument('--message-size', type=int, default=1024)
    return parser.parse_args()


if __name__ == "__main__":
    args = get_options()    
    conn = cloudtee.connect(args.api_endpoint, args.slug) 
    cloudtee.send(conn, sys.stdin.read())
