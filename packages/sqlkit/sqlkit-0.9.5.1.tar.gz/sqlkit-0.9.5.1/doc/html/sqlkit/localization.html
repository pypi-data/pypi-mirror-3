<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
      
      <title>
    Localization
 &mdash; sqlkit v0.9.5.1 documentation</title>
      
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/sqlkit.css" type="text/css" />
    <link rel="stylesheet" href="../_static/print.css" type="text/css" media="print" />

    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="top" title="sqlkit v0.9.5.1 documentation" href="../index.html" />
        <link rel="up" title="Browsing data" href="browsing.html" />
        <link rel="next" title="Editing data" href="editing.html" />
        <link rel="prev" title="Totals" href="totals.html" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
          URL_ROOT:    '../',
          VERSION:     '0.9.5.1',
          COLLAPSE_MODINDEX: false,
          FILE_SUFFIX: '.html'
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>


<!-- <link rel="stylesheet" href="http://www.myjqueryplugins.com/plugins/jmenu/demo/jquery/jMenu.jquery.css" type="text/css" /> -->
      <link rel="stylesheet" href="../_static/jMenu.jquery.css" type="text/css" />

      <!-- <script type="text/javascript" src="http://www.myjqueryplugins.com/plugins/jmenu/demo/jquery/jMenu.jquery.js"></script> -->

      <script type="text/javascript">

	var _gaq = _gaq || [];
	_gaq.push(['_setAccount', 'UA-18221996-2']);
	_gaq.push(['_trackPageview']);

	(function() {
	  var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
	  ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
	  var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
	})();

      </script>
      <script type="text/javascript" src="../_static/jMenu.jquery.js"></script>
      <script type="text/javascript">
	      $(document).ready(function(){
		      $("#jMenu").jMenu({
			      ulWidth : '150',
			      effects : {
				      effectSpeedOpen : 300,
				      effectSpeedClose : 300,
				      effectTypeOpen : 'slide',
				      effectTypeClose : 'slide',
				      effectOpen : 'linear',
				      effectClose : 'linear'
			      },
			      TimeBeforeOpening : 100,
			      TimeBeforeClosing : 400,
			      animatedText : false,
			      paddingLeft: 1		});
	      })
      </script>
<!-- Preview -->
     <script type="text/javascript" src="../_static/imgpreview.js"></script>
     <script type="text/javascript">
       $(document).ready(function(){
           $('.preview').imgPreview();
       });
     </script>
     
     <!--[if !IE 7]>
	     <style type="text/css">
		     #wrap {display:table;height:100%}
	     </style>
     <![endif]-->
    </head>
    <body>
        




<div id="wrap">
    
<div id="header">

	<div class="logo"><a href="../misc/tour.html">
       <img src="../_static/sqlkit.png" align="left"  alt="Logo" border="0"/></a>
        </div>
	<div id="description">Acces to db made easy</div>
</div>


   <div style="clear:left;"></div>


<div >
	<ul id="jMenu">
            <li><a class="fNiv" href="../index.html" title="Home" 
                  >Home</a></li>

            <li><a li class="fNiv" href="contents.html"
                  title="Sqlkit - the python package" 
                  >Sqlkit</a>

	       <ul>
		 <li ><a href="contents.html"
		       title="Sqlkit - the python package" 
		       >Sqlkit</a></li>

		 <li ><a href="sqlwidget.html" title="Widgets" 
		       >Widgets</a>
		       <ul> 
			 <li ><a href="mask.html" title="Mask" 
			       >Mask view</a></li>
			 <li ><a href="table.html" title="Table" 
			       >Table view</a></li>
		       </ul>
                 </li>
		 <li ><a href="browsing.html" title="Browsing Data" 
		       >Browsing data</a>
		    <ul> 
		      <li ><a href="constraints.html" title="Constraints" 
			    >Constraints</a></li>
		      <li ><a href="filters.html" title="Filters" 
			    >Filters</a></li>
		      <li ><a href="totals.html" title="Totals" 
			    >Totals</a></li>
		    </ul>
                 </li>
		 <li ><a href="editing.html" title="Editing Data" 
		       >Editing data</a>
			 <ul> 
			   <li ><a href="completion.html" title="Completion" 
				 >Completion</a></li>
			   <li ><a href="validation.html" title="Validation" 
				 >Validation</a></li>
			   <li ><a href="relationship.html" title="Relationships" 
				 >Relationships</a></li>
			 </ul>
		       </li>
		 <li ><a href="printing.html" title="Printing" 
		       ><span>Printing</span></a></li>
		 <li ><a href="advanced/contents.html" title="Advanced configuration" 
		       >Advanced configuration</a>
			 <ul> 
			   <li ><a href="advanced/fields.html" title="Fields" 
				 >Fields</a></li>
			   <li ><a href="advanced/views.html" title="Views" 
				 >Views</a></li>
			 </ul>
		       </li>

	       </ul>
            </li>

            <li><a class="fNiv" href="../misc/sqledit.html"
                  title="Sqledit GUI" 
                  >Sqledit GUI</a></li>

            <li><a class="fNiv" href="../misc/tutorials.html"
                  title="Support & tutorials" 
                  >Support & Tutorials</a>
	       <ul>
		 <li ><a href="../misc/sqledit.html"
		       title="Sqledit - the application" 
		       >Sqledit - the application</a></li>
		 <li ><a href="../misc/tour.html"
		       title="Sqlkit - the features'tour"
		       >Sqlkit - features' tour</a></li>
		 <li ><a href="../misc/sqledit.html"
		       title="Sqledit - the application" 
		       >Installing instructions</a></li>
		</ul> 
            </li>

            <li><a class="fNiv" href="../layout/contents.html" title="Layout"
                  >Layout</a></li>

            <li><a  class="fNiv"href="../misc/contents.html" title="Download" 
                  >Download</a>

	       <ul>
		 <li ><a href="../misc/contents.html"
		       title="Download"
		       >Download</a></li>
		 <li ><a href="http://sqlkit.argolinux.org/download/Changelog"  title="Changelog"
		       title="Changelog"
		       >Changelog</a></li>
		 <li ><a href="../misc/backward_incompatibilities.html"
		       title="Backward incompatibilities"
		       >Backward incompatibilities</a></li>
	       </ul>
            </li>



        </ul>
</div>
   <div style="clear:left;"></div>

    
    <div class="related">
      <ul>
	
<!-- <div class="prevnext"> -->
<!--    <li class="right"  style="margin-right: 10px">Indice -->
<!--      <a href="../genindex.html" title="Indice generale" -->
<!--                accesskey="I">indice</a></li> -->

        <li class="right">Prev:
        <a href="totals.html" title="previous chapter">Totals</a></li>
        <li class="right">Next:
        <a href="editing.html" title="next chapter">Editing data</a></li>
<!-- </div> -->


      </ul>

    </div>

    
  <div class="sphinxsidebar">
     <div class="sphinxsidebarwrapper">


	    <div class="topnav">
    <h3>Table of contents</h3>
		    <ul>
<li><a class="reference external" href="#">Localization</a><ul>
<li><a class="reference external" href="#numbers">Numbers</a><ul>
<li><a class="reference external" href="#forcing-format-representation">forcing format representation</a></li>
</ul>
</li>
<li><a class="reference external" href="#dates">Dates</a><ul>
<li><a class="reference external" href="#id2">forcing format representation</a></li>
</ul>
</li>
<li><a class="reference external" href="#messages">Messages</a><ul>
<li><a class="reference external" href="#translation-of-field-names-of-each-column">Translation of field_names of each column</a><ul>
<li><a class="reference external" href="#label-translation-for-related-tables">label translation for related tables</a></li>
</ul>
</li>
<li><a class="reference external" href="#tooltips">Tooltips</a></li>
</ul>
</li>
</ul>
</li>
</ul>

		<div class="clearboth"></div>
	    </div>



    <h3>Questions?</h3>

    <p>Subscribe to out mailing list <a href="http://groups.google.com/group/sqlkit">
       Google group</a>:</p>

    <form action="http://groups.google.com/group/sqlkit/boxsubscribe" style="padding-left: 1em">
      <input type="text" name="email" value="your@email"/>
      <input type="submit" name="sub" value="Subscribe" />
    </form>
    <div id="searchbox" style="display: none">

    <h3>Quick search</h3>
	<form class="search" action="../search.html" method="get">
	  <input type="text" name="q" size="18" />
	  <input type="submit" value="Search" />
	  <input type="hidden" name="check_keywords" value="yes" />

	  <input type="hidden" name="area" value="default" />
	</form>
	<p class="searchtip" style="font-size: 90%">
        Enter search terms or a module, class or function name.
	</p>
    <h3>License</h3>
	<img src="../_static/gplv3.png" alt="logo GPLv3">

    </div>
    <script type="text/javascript">$('#searchbox').show(0);</script>

     </div>
  </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">

            <div class="body">
                
<div class="section" id="localization">
<span id="id1"></span><h1>Localization<a class="headerlink" href="#localization" title="Permalink to this headline">¶</a></h1>
<p>localization support comprises:</p>
<blockquote>
<ul class="simple">
<li>localization of number (decimal separators and thousand grouping)</li>
<li>localization of date/datetime fields</li>
<li>library messages translation (we need help bu translators, there is a
project in <a class="reference external" href="https://launchpad.net/sqlkit">launchpad</a>)</li>
<li>translation of field_name (see below)</li>
</ul>
</blockquote>
<p>Numbers and dates localization is provided by <a class="reference external" href="http://babel.edgewall.org">babel</a></p>
<div class="section" id="numbers">
<h2>Numbers<a class="headerlink" href="#numbers" title="Permalink to this headline">¶</a></h2>
<p>Numbers are represented according to your locale settings as follows:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">integer:</th><td class="field-body">grouping thousands  (format: &#8216;#.###&#8217;)</td>
</tr>
<tr class="field"><th class="field-name">floats:</th><td class="field-body">grouping thousands, no limit on decimal (format: &#8216;#,###.#&#8217;)</td>
</tr>
<tr class="field"><th class="field-name">decimals:</th><td class="field-body">grouping thousands, number of digits according to type.scale
(format: &#8216;#,###.00&#8217;, for Numeric(8,2))</td>
</tr>
</tbody>
</table>
<div class="section" id="forcing-format-representation">
<h3>forcing format representation<a class="headerlink" href="#forcing-format-representation" title="Permalink to this headline">¶</a></h3>
<p>A different representation can be forced using <a class="reference external" href="http://java.sun.com/docs/books/tutorial/i18n/format/decimalFormat.html#numberpattern">Number Format Pattern
Syntax</a> and setting the new values in the gui_field class via the set_format
method that takes a dictionary as argument or the format argument to the widget:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">fmt</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s">&#39;year&#39;</span>     <span class="p">:</span> <span class="s">&#39;#&#39;</span><span class="p">,</span> <span class="c"># don&#39;t show thousand grouping</span>
   <span class="s">&#39;quantity&#39;</span> <span class="p">:</span> <span class="p">(</span><span class="s">&#39;#,###.#&#39;</span><span class="p">,</span> <span class="s">&#39;en&#39;</span><span class="p">),</span>
<span class="p">}</span>
<span class="n">t</span> <span class="o">=</span> <span class="n">SqlTable</span><span class="p">(</span><span class="o">....</span> <span class="n">format</span><span class="o">=</span><span class="n">fmt</span><span class="p">)</span>  <span class="c"># fmt as argument</span>
<span class="n">t</span><span class="o">.</span><span class="n">set_format</span><span class="p">(</span><span class="n">fmt</span><span class="p">)</span>              <span class="c"># fmt as method</span>
</pre></div>
</div>
<p>where the two possible forms are shown. If the value is a tuple, the second
element is a locale to be used for the representation (as  <cite>quantity</cite> in the
example)</p>
</div>
</div>
<div class="section" id="dates">
<h2>Dates<a class="headerlink" href="#dates" title="Permalink to this headline">¶</a></h2>
<p>dates are formatted according to your locale and the default format is
&#8216;short&#8217; for date/datetime and &#8216;HH:mm&#8217; for time.</p>
<div class="section" id="id2">
<h3>forcing format representation<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<p>A different representation can be forced using <a class="reference external" href="http://java.sun.com/docs/books/tutorial/i18n/format/dateFormat.html">Date Format Pattern
Syntax</a> and setting the new values in the gui_field class via the set_format
as illustrated above for numbers.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>for the time being this only works for <tt class="docutils literal"><span class="pre">SqlTable</span></tt>, <tt class="docutils literal"><span class="pre">SqlMask</span></tt>  uses a
different widget that needs to be improved, so it&#8217;s possible to set
a different date format but not using babel.</p>
<p class="last">Temporarily you should set date_format attribute on the
gui_field.widget.gtkwidget...</p>
</div>
</div>
</div>
<div class="section" id="messages">
<h2>Messages<a class="headerlink" href="#messages" title="Permalink to this headline">¶</a></h2>
<p>Translation of messages is provided by the standard gettext module. If you&#8217;d
like to contribute a translation for your language read the
README.localization in the distribution folder.</p>
<div class="section" id="translation-of-field-names-of-each-column">
<h3>Translation of field_names of each column<a class="headerlink" href="#translation-of-field-names-of-each-column" title="Permalink to this headline">¶</a></h3>
<p>Since many of the labels that appear in a mask and column headers of a table
default to the name of the column, it&#8217;s important to add the possibility to
translate those strings as well, in order to give to the resulting mask a
friendly look.</p>
<p>The same column name may be translated differently in different tables so
sqlkit adds a layer in the way of translation via a &#8220;label_map&#8221; that can be
passed directly to the layout object or to the sqlwidget (label_map option).</p>
<p>This <tt class="docutils literal"><span class="pre">label_map</span></tt> is a dictionary whose key is the <tt class="docutils literal"><span class="pre">field_name</span></tt> and the
value is a tuple with a description and a help_text to show as tooltip on
the label. It instead of a tuple a string is found, it&#8217;s considered a label
and the tooltip is set to None, Each of these are to be considered msgid
that gettext will further try to translate:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">{</span> <span class="s">&#39;first_name&#39;</span> <span class="p">:</span> <span class="p">(</span><span class="s">&#39;First Name&#39;</span><span class="p">,</span> <span class="s">&#39;Write the family name of the director&#39;</span><span class="p">)}</span>
</pre></div>
</div>
<p>Description and help_text can be stored in the table <tt class="docutils literal"><span class="pre">_sqlkit_field</span></tt> that
can be easily edit with <tt class="docutils literal"><span class="pre">sqledit</span> <span class="pre">-c</span> <span class="pre">URL</span></tt>. Each time a sqlwidget is
instantiated it will try to see if any info for the tables it is editing was
written in the database and add those to what can be passed to the widget
as &#8220;label_map&#8221;.</p>
<div class="section" id="label-translation-for-related-tables">
<h4>label translation for related tables<a class="headerlink" href="#label-translation-for-related-tables" title="Permalink to this headline">¶</a></h4>
<p>When related tables are used, the name of the columns may need different
translation in each related table. Suppose you have a project mask with
related table that point to users, one for &#8216;staff&#8217; and another for
&#8216;manager&#8217;, as in:</p>
<div class="highlight-python"><pre>m2m=staff:username m2m=manager:username</pre>
</div>
<p>both would show up as &#8216;username&#8217;, that is pretty misleading. You can then
add two keys to label_map:</p>
<div class="highlight-python"><pre>'staff.username': ('staff', None)
'manager.username': ('manager', None)</pre>
</div>
<p>that would translate as desired. That can be conveniently set in the
_sqlkit_field table, in which case only the description column needs to be
filled with &#8216;staff&#8217;/&#8217;manager&#8217;</p>
</div>
</div>
<div class="section" id="tooltips">
<h3>Tooltips<a class="headerlink" href="#tooltips" title="Permalink to this headline">¶</a></h3>
<p>What we described is also the simpler way to add tooltips to labels and
buttons in your layout. This helps delegating to the customer the
personalization of the hints he wants to add to the GUI.</p>
<p>In the table <tt class="docutils literal"><span class="pre">_sqlkit_field</span></tt> each row should represent a field of a table, but
there&#8217;s no harm adding to it more fields that can be the name of buttons or
relationships (e.g.: author) just for the sake of translation and tooltip.</p>
</div>
</div>
</div>


            </div>
        </div>
     </div>
   </div>

        
</div> <!-- wrap -->

            <div class="bottomnav footer">
                <div class="doc_copyright">
                Alessandro Dentella -- Copyright 2006-2007-2008-2009-2010
		  Sqlkit release 0.9.5.1
<!--                 % if hasdoc('copyright'): -->
<!--                     &copy; <a href="../copyright.html">Copyright</a> 2008, Sandro Dentella. -->
<!--                 % else: -->
<!--                     &copy; Copyright 2008, Sandro Dentella. -->
<!--                 % endif -->
                    creato usando  <a href="http://sphinx.pocoo.org/">Sphinx</a> 0.6.4.
                </div>
            </div>
        












<br style="clear: left" />

    </body>
</html>




