# -*- coding: utf-8 -*-
##----------------------------------------------------------------------
## HP.ProCurve9xxx.get_spanning_tree test
## Auto-generated by manage.py debug-script at 2011-02-01 15:59:03
##----------------------------------------------------------------------
## Copyright (C) 2007-2011 The NOC Project
## See LICENSE for details
##----------------------------------------------------------------------
from noc.lib.test import ScriptTestCase
class HP_ProCurve9xxx_get_spanning_tree_Test(ScriptTestCase):
    script="HP.ProCurve9xxx.get_spanning_tree"
    vendor="HP"
    platform='9304m'
    version='07_8_03T53'
    input={}
    result={'instances': [{'bridge_id': '00:0C:DB:AE:40:00',
                'bridge_priority': 8000,
                'id': 1,
                'interfaces': [{'designated_bridge_id': '00:00:00:00:00:00',
                                'designated_bridge_priority': 0,
                                'designated_port_id': '80.0',
                                'edge': False,
                                'interface': '1/6',
                                'point_to_point': False,
                                'port_id': '0',
                                'priority': 80,
                                'role': 'unknown',
                                'state': 'disabled'},
                               {'designated_bridge_id': '00:00:00:00:00:00',
                                'designated_bridge_priority': 0,
                                'designated_port_id': '80.0',
                                'edge': False,
                                'interface': '1/7',
                                'point_to_point': False,
                                'port_id': '0',
                                'priority': 80,
                                'role': 'unknown',
                                'state': 'disabled'},
                               {'designated_bridge_id': '00:00:00:00:00:00',
                                'designated_bridge_priority': 0,
                                'designated_port_id': '80.0',
                                'edge': False,
                                'interface': '1/8',
                                'point_to_point': False,
                                'port_id': '0',
                                'priority': 80,
                                'role': 'unknown',
                                'state': 'disabled'}],
                'root_id': '00:0C:DB:AE:40:00',
                'root_priority': 8000,
                'vlans': '1'},
               {'bridge_id': '00:0C:DB:AE:40:00',
                'bridge_priority': 8000,
                'id': 2,
                'interfaces': [{'designated_bridge_id': '00:0C:DB:7B:6C:00',
                                'designated_bridge_priority': 8000,
                                'designated_port_id': '80.0',
                                'edge': False,
                                'interface': '1/1',
                                'point_to_point': False,
                                'port_id': '0',
                                'priority': 80,
                                'role': 'unknown',
                                'state': 'forwarding'},
                               {'designated_bridge_id': '00:0C:DB:7B:6C:00',
                                'designated_bridge_priority': 8000,
                                'designated_port_id': '80.0',
                                'edge': False,
                                'interface': '1/2',
                                'point_to_point': False,
                                'port_id': '0',
                                'priority': 80,
                                'role': 'unknown',
                                'state': 'forwarding'},
                               {'designated_bridge_id': '00:00:00:00:00:00',
                                'designated_bridge_priority': 0,
                                'designated_port_id': '80.64',
                                'edge': False,
                                'interface': '1/3',
                                'point_to_point': False,
                                'port_id': '0',
                                'priority': 80,
                                'role': 'unknown',
                                'state': 'disabled'},
                               {'designated_bridge_id': '00:00:00:00:00:00',
                                'designated_bridge_priority': 0,
                                'designated_port_id': '80.64',
                                'edge': False,
                                'interface': '1/4',
                                'point_to_point': False,
                                'port_id': '0',
                                'priority': 80,
                                'role': 'unknown',
                                'state': 'disabled'},
                               {'designated_bridge_id': '00:0C:DB:7B:6C:00',
                                'designated_bridge_priority': 8000,
                                'designated_port_id': '80.64',
                                'edge': False,
                                'interface': '2/1',
                                'point_to_point': False,
                                'port_id': '0',
                                'priority': 80,
                                'role': 'unknown',
                                'state': 'discarding'},
                               {'designated_bridge_id': '00:0C:DB:7B:6C:00',
                                'designated_bridge_priority': 8000,
                                'designated_port_id': '80.64',
                                'edge': False,
                                'interface': '2/2',
                                'point_to_point': False,
                                'port_id': '0',
                                'priority': 80,
                                'role': 'unknown',
                                'state': 'discarding'},
                               {'designated_bridge_id': '00:0C:DB:7B:6C:00',
                                'designated_bridge_priority': 8000,
                                'designated_port_id': '80.66',
                                'edge': False,
                                'interface': '2/3',
                                'point_to_point': False,
                                'port_id': '0',
                                'priority': 80,
                                'role': 'unknown',
                                'state': 'discarding'},
                               {'designated_bridge_id': '00:00:00:00:00:00',
                                'designated_bridge_priority': 0,
                                'designated_port_id': '80.71',
                                'edge': False,
                                'interface': '2/4',
                                'point_to_point': False,
                                'port_id': '0',
                                'priority': 80,
                                'role': 'unknown',
                                'state': 'disabled'},
                               {'designated_bridge_id': '00:0C:DB:7B:6C:00',
                                'designated_bridge_priority': 8000,
                                'designated_port_id': '80.71',
                                'edge': False,
                                'interface': '2/15',
                                'point_to_point': False,
                                'port_id': '0',
                                'priority': 80,
                                'role': 'unknown',
                                'state': 'discarding'}],
                'root_id': '00:0C:DB:7B:6C:00',
                'root_priority': 8000,
                'vlans': '2'},
               {'bridge_id': '00:0C:DB:AE:40:22',
                'bridge_priority': 8000,
                'id': 3,
                'interfaces': [{'designated_bridge_id': '00:0C:DB:AE:40:22',
                                'designated_bridge_priority': 8000,
                                'designated_port_id': '80.66',
                                'edge': False,
                                'interface': '2/3',
                                'point_to_point': False,
                                'port_id': '0',
                                'priority': 80,
                                'role': 'unknown',
                                'state': 'forwarding'},
                               {'designated_bridge_id': '00:00:00:00:00:00',
                                'designated_bridge_priority': 0,
                                'designated_port_id': '80.0',
                                'edge': False,
                                'interface': '2/4',
                                'point_to_point': False,
                                'port_id': '0',
                                'priority': 80,
                                'role': 'unknown',
                                'state': 'disabled'}],
                'root_id': '00:0C:DB:AE:40:22',
                'root_priority': 8000,
                'vlans': '3'},
               {'bridge_id': '00:0C:DB:AE:40:20',
                'bridge_priority': 8000,
                'id': 6,
                'interfaces': [{'designated_bridge_id': '00:0C:DB:7B:6C:20',
                                'designated_bridge_priority': 8000,
                                'designated_port_id': '80.64',
                                'edge': False,
                                'interface': '2/1',
                                'point_to_point': False,
                                'port_id': '0',
                                'priority': 80,
                                'role': 'unknown',
                                'state': 'forwarding'},
                               {'designated_bridge_id': '00:0C:DB:7B:6C:20',
                                'designated_bridge_priority': 8000,
                                'designated_port_id': '80.64',
                                'edge': False,
                                'interface': '2/2',
                                'point_to_point': False,
                                'port_id': '0',
                                'priority': 80,
                                'role': 'unknown',
                                'state': 'forwarding'}],
                'root_id': '00:0C:DB:7B:6C:20',
                'root_priority': 8000,
                'vlans': '6'},
               {'bridge_id': '00:0C:DB:AE:40:20',
                'bridge_priority': 8000,
                'id': 7,
                'interfaces': [{'designated_bridge_id': '00:0C:DB:7B:6C:20',
                                'designated_bridge_priority': 8000,
                                'designated_port_id': '80.64',
                                'edge': False,
                                'interface': '2/1',
                                'point_to_point': False,
                                'port_id': '0',
                                'priority': 80,
                                'role': 'unknown',
                                'state': 'forwarding'},
                               {'designated_bridge_id': '00:0C:DB:7B:6C:20',
                                'designated_bridge_priority': 8000,
                                'designated_port_id': '80.64',
                                'edge': False,
                                'interface': '2/2',
                                'point_to_point': False,
                                'port_id': '0',
                                'priority': 80,
                                'role': 'unknown',
                                'state': 'forwarding'},
                               {'designated_bridge_id': '00:0C:DB:AE:40:20',
                                'designated_bridge_priority': 8000,
                                'designated_port_id': '80.69',
                                'edge': False,
                                'interface': '2/6',
                                'point_to_point': False,
                                'port_id': '0',
                                'priority': 80,
                                'role': 'unknown',
                                'state': 'forwarding'},
                               {'designated_bridge_id': '00:0C:DB:AE:40:20',
                                'designated_bridge_priority': 8000,
                                'designated_port_id': '80.79',
                                'edge': False,
                                'interface': '2/16',
                                'point_to_point': False,
                                'port_id': '0',
                                'priority': 80,
                                'role': 'unknown',
                                'state': 'forwarding'}],
                'root_id': '00:0C:DB:7B:6C:20',
                'root_priority': 8000,
                'vlans': '7'}],
 'mode': 'PVST+'}
    motd=' \n'
    cli={
## 'show span detail'
'show span detail': """show span detail

======================================================================
VLAN 1 - MULTIPLE SPANNING TREE (MSTP) ACTIVE
======================================================================
Bridge identifier    - 0x8000000cdbae4000
Active global timers - Hello: 0 

Port 1/6 is DISABLED
Port 1/7 is DISABLED
Port 1/8 is DISABLED

======================================================================
VLAN 2 - MULTIPLE SPANNING TREE (MSTP) ACTIVE
======================================================================
Bridge identifier    - 0x8000000cdbae4000
Active global timers - None

Port 1/1 is FORWARDING
  Port - Path cost: 4, Priority: 128, Root: 0x8000000cdb7b6c00
  Designated - Bridge: 0x8000000cdb7b6c00, Interface: 0, Path cost: 0
  Active Timers - Message age: 0 
  BPDUs - Sent: 1320, Received: 2668765
Port 1/2 is FORWARDING
  Port - Path cost: 4, Priority: 128, Root: 0x8000000cdb7b6c00
  Designated - Bridge: 0x8000000cdb7b6c00, Interface: 0, Path cost: 0
  Active Timers - Message age: 0 
  BPDUs - Sent: 1320, Received: 2668765
Port 1/3 is DISABLED
Port 1/4 is DISABLED
Port 2/1 is BLOCKING
  Port - Path cost: 4, Priority: 128, Root: 0x8000000cdb7b6c00
  Designated - Bridge: 0x8000000cdb7b6c00, Interface: 64, Path cost: 0
  Active Timers - Message age: 0 
  BPDUs - Sent: 4, Received: 2670414
Port 2/2 is BLOCKING
  Port - Path cost: 4, Priority: 128, Root: 0x8000000cdb7b6c00
  Designated - Bridge: 0x8000000cdb7b6c00, Interface: 64, Path cost: 0
  Active Timers - Message age: 0 
  BPDUs - Sent: 4, Received: 2670414
Port 2/3 is BLOCKING
  Port - Path cost: 4, Priority: 128, Root: 0x8000000cdb7b6c00
  Designated - Bridge: 0x8000000cdb7b6c00, Interface: 66, Path cost: 0
  Active Timers - Message age: 0 
  BPDUs - Sent: 450, Received: 2669591
Port 2/4 is DISABLED
Port 2/15 is BLOCKING
  Port - Path cost: 4, Priority: 128, Root: 0x8000000cdb7b6c00
  Designated - Bridge: 0x8000000cdb7b6c00, Interface: 71, Path cost: 0
  Active Timers - Message age: 0 
  BPDUs - Sent: 3, Received: 2668117

======================================================================
VLAN 3 - MULTIPLE SPANNING TREE (MSTP) ACTIVE
======================================================================
Bridge identifier    - 0x8000000cdbae4022
Active global timers - Hello: 2 

Port 2/3 is FORWARDING
  Port - Path cost: 4, Priority: 128, Root: 0x8000000cdbae4022
  Designated - Bridge: 0x8000000cdbae4022, Interface: 66, Path cost: 0
  Active Timers - None
  BPDUs - Sent: 2684434, Received: 0
Port 2/4 is DISABLED

======================================================================
VLAN 6 - MULTIPLE SPANNING TREE (MSTP) ACTIVE
======================================================================
Bridge identifier    - 0x8000000cdbae4020
Active global timers - None

Port 2/1 is FORWARDING
  Port - Path cost: 4, Priority: 128, Root: 0x8000000cdb7b6c20
  Designated - Bridge: 0x8000000cdb7b6c20, Interface: 64, Path cost: 0
  Active Timers - Message age: 2 
  BPDUs - Sent: 1, Received: 2670410
Port 2/2 is FORWARDING
  Port - Path cost: 4, Priority: 128, Root: 0x8000000cdb7b6c20
  Designated - Bridge: 0x8000000cdb7b6c20, Interface: 64, Path cost: 0
  Active Timers - Message age: 2 
  BPDUs - Sent: 1, Received: 2670410

======================================================================
VLAN 7 - MULTIPLE SPANNING TREE (MSTP) ACTIVE
======================================================================
Bridge identifier    - 0x8000000cdbae4020
Active global timers - None

Port 2/1 is FORWARDING
  Port - Path cost: 4, Priority: 128, Root: 0x8000000cdb7b6c20
  Designated - Bridge: 0x8000000cdb7b6c20, Interface: 64, Path cost: 0
  Active Timers - Message age: 0 
  BPDUs - Sent: 1, Received: 2670410
Port 2/2 is FORWARDING
  Port - Path cost: 4, Priority: 128, Root: 0x8000000cdb7b6c20
  Designated - Bridge: 0x8000000cdb7b6c20, Interface: 64, Path cost: 0
  Active Timers - Message age: 0 
  BPDUs - Sent: 1, Received: 2670410
Port 2/6 is FORWARDING
  Port - Path cost: 4, Priority: 128, Root: 0x8000000cdb7b6c20
  Designated - Bridge: 0x8000000cdbae4020, Interface: 69, Path cost: 4
  Active Timers - Hold: 0
  BPDUs - Sent: 2670042, Received: 0
Port 2/16 is FORWARDING
  Port - Path cost: 4, Priority: 128, Root: 0x8000000cdb7b6c20
  Designated - Bridge: 0x8000000cdbae4020, Interface: 79, Path cost: 4
  Active Timers - Hold: 0
  BPDUs - Sent: 2668107, Received: 0""",
'terminal length 1000':  'terminal length 1000\n',
## 'show span'
'show span': """show span

VLAN 1 BPDU cam_index is 32768 and the IGC and DMA master Are(HEX) 0 1 2 3 4 5 6 7  
STP instance owned by VLAN 1

Global STP (IEEE 802.1D) Parameters:

VLAN Root             Root Root Prio Max He- Ho- Fwd Last     Chg  Bridge      
 ID   ID              Cost Port rity Age llo ld  dly Chang    cnt  Address     
                                Hex  sec sec sec sec sec                       
   1 8000000cdbae4000 0    Root 8000 20  2   1   15  5444861  0    000cdbae4000

Port STP Parameters:

Port  Prio Path  State      Fwd    Design   Designated       Designated       
Num   rity Cost             Trans  Cost     Root             Bridge           
      Hex                                                                     
1/6    80   0     DISABLED    0      0        0000000000000000 0000000000000000 
1/7    80   0     DISABLED    0      0        0000000000000000 0000000000000000 
1/8    80   0     DISABLED    0      0        0000000000000000 0000000000000000 

VLAN 2 BPDU cam_index is 32770 and the IGC Are(HEX) 0 4 7  
STP instance owned by VLAN 2

Global STP (IEEE 802.1D) Parameters:

VLAN Root             Root Root Prio Max He- Ho- Fwd Last     Chg  Bridge      
 ID   ID              Cost Port rity Age llo ld  dly Chang    cnt  Address     
                                Hex  sec sec sec sec sec                       
   2 8000000cdb7b6c00 4    1/1  8000 20  2   1   15  1316828  8    000cdbae4000

Port STP Parameters:

Port  Prio Path  State      Fwd    Design   Designated       Designated       
Num   rity Cost             Trans  Cost     Root             Bridge           
      Hex                                                                     
1/1    80   4     FORWARDING  2      0        8000000cdb7b6c00 8000000cdb7b6c00 
1/2    80   4     FORWARDING  2      0        8000000cdb7b6c00 8000000cdb7b6c00 
1/3    80   0     DISABLED    0      0        0000000000000000 0000000000000000 
1/4    80   0     DISABLED    0      0        0000000000000000 0000000000000000 
2/1    80   4     BLOCKING    3      0        8000000cdb7b6c00 8000000cdb7b6c00 
2/2    80   4     BLOCKING    3      0        8000000cdb7b6c00 8000000cdb7b6c00 
2/3    80   4     BLOCKING    1      0        8000000cdb7b6c00 8000000cdb7b6c00 
2/4    80   0     DISABLED    0      0        0000000000000000 0000000000000000 
2/15   80   4     BLOCKING    0      0        8000000cdb7b6c00 8000000cdb7b6c00 

VLAN 3 BPDU cam_index is 32772 and the IGC Are(HEX) 4  
STP instance owned by VLAN 3

Global STP (IEEE 802.1D) Parameters:

VLAN Root             Root Root Prio Max He- Ho- Fwd Last     Chg  Bridge      
 ID   ID              Cost Port rity Age llo ld  dly Chang    cnt  Address     
                                Hex  sec sec sec sec sec                       
   3 8000000cdbae4022 0    Root 8000 20  2   1   15  5444065  1    000cdbae4022

Port STP Parameters:

Port  Prio Path  State      Fwd    Design   Designated       Designated       
Num   rity Cost             Trans  Cost     Root             Bridge           
      Hex                                                                     
2/3    80   4     FORWARDING  1      0        8000000cdbae4022 8000000cdbae4022 
2/4    80   0     DISABLED    0      0        0000000000000000 0000000000000000 

VLAN 6 BPDU cam_index is 32774 and the IGC Are(HEX) 4  
STP instance owned by VLAN 6

Global STP (IEEE 802.1D) Parameters:

VLAN Root             Root Root Prio Max He- Ho- Fwd Last     Chg  Bridge      
 ID   ID              Cost Port rity Age llo ld  dly Chang    cnt  Address     
                                Hex  sec sec sec sec sec                       
   6 8000000cdb7b6c20 4    2/1  8000 20  2   1   15  5444861  0    000cdbae4020

Port STP Parameters:

Port  Prio Path  State      Fwd    Design   Designated       Designated       
Num   rity Cost             Trans  Cost     Root             Bridge           
      Hex                                                                     
2/1    80   4     FORWARDING  1      0        8000000cdb7b6c20 8000000cdb7b6c20 
2/2    80   4     FORWARDING  1      0        8000000cdb7b6c20 8000000cdb7b6c20 

VLAN 7 BPDU cam_index is 32772 and the IGC Are(HEX) 4 5 7  
STP instance owned by VLAN 7

Global STP (IEEE 802.1D) Parameters:

VLAN Root             Root Root Prio Max He- Ho- Fwd Last     Chg  Bridge      
 ID   ID              Cost Port rity Age llo ld  dly Chang    cnt  Address     
                                Hex  sec sec sec sec sec                       
   7 8000000cdb7b6c20 4    2/1  8000 20  2   1   15  5444861  0    000cdbae4020

Port STP Parameters:

Port  Prio Path  State      Fwd    Design   Designated       Designated       
Num   rity Cost             Trans  Cost     Root             Bridge           
      Hex                                                                     
2/1    80   4     FORWARDING  1      0        8000000cdb7b6c20 8000000cdb7b6c20 
2/2    80   4     FORWARDING  1      0        8000000cdb7b6c20 8000000cdb7b6c20 
2/6    80   4     FORWARDING  2      4        8000000cdb7b6c20 8000000cdbae4020 
2/16   80   4     FORWARDING  33     4        8000000cdb7b6c20 8000000cdbae4020 """,
}
    snmp_get={}
    snmp_getnext={}
