{% extends "member/master.html"%}

{% block title %}{{ site.getLabelValue|escape }} - Members{% endblock %}

{% block content %}
  <h2>{{ site.getLabelValue|escape }} Members
  {% if view.canCreateMember %}
  <small><small>(<a href="{{uriPrefix}}/sites/{{ site.id}}/members/create/">add &raquo;</a>)</small></small>
  {% endif %}
  </h2>
  {% if site.members %}
  <p>
    Here are all the members of <strong>{{ site.getLabelValue|escape }}</strong>.
  </p>
  {% include "snippets/memberstable.html" %}
  {% else %}
  <p>
    There are no members of this site at this time.
  </p>
  {% endif %}
  {% if view.canCreateMember %}
    {% if site.members.pending %}
  <p>
    Pending members.
  </p>
    {% include "snippets/pendingmemberstable.html" %}
    {% endif %}
  <h3>Create new member</h3>
  <form action="{{uriPrefix}}/sites/{{ site.id}}/members/create/" method="post">
    <p>
      <input type='submit' value='Create new member &raquo;'/>
    </p>
  </form>
  {% endif %}

  {% if not view.isSessionPersonMember %}
  <h3>Join site</h3>
  <form action="{{uriPrefix}}/sites/{{ site.id}}/join/" method="post">
    <p>
      <input type='submit' value='Join site &raquo;'/>
    </p>
  </form>
  {% endif %}

{% endblock %}

