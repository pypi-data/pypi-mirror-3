<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<!--Converted with LaTeX2HTML 2008 (1.71)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>Structures</TITLE>
<META NAME="description" CONTENT="Structures">
<META NAME="keywords" CONTENT="Linklist">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META NAME="Generator" CONTENT="LaTeX2HTML v2008">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="Linklist.css">

<LINK REL="next" HREF="node11.html">
<LINK REL="previous" HREF="node9.html">
<LINK REL="up" HREF="Linklist.html">
<LINK REL="next" HREF="node11.html">
</HEAD>

<BODY >

<DIV CLASS="navigation"><!--Navigation Panel-->
<A NAME="tex2html156"
  HREF="node11.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next.png"></A> 
<A NAME="tex2html152"
  HREF="Linklist.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up.png"></A> 
<A NAME="tex2html146"
  HREF="node9.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="prev.png"></A> 
<A NAME="tex2html154"
  HREF="node2.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents" SRC="contents.png"></A>  
<BR>
<B> Next:</B> <A NAME="tex2html157"
  HREF="node11.html">Enumerations</A>
<B> Up:</B> <A NAME="tex2html153"
  HREF="Linklist.html">A Users Guide for</A>
<B> Previous:</B> <A NAME="tex2html147"
  HREF="node9.html">C API Overview</A>
 &nbsp; <B>  <A NAME="tex2html155"
  HREF="node2.html">Contents</A></B> 
<BR>
<BR></DIV>
<!--End of Navigation Panel-->

<H1><A NAME="SECTION00080000000000000000">
Structures</A>
</H1>
Most implementations of link lists allocate a single node per record and these nodes are what are linked to each other.  This type of algorithm works well when the link list is embedded in the application code, but not when implementing a link list within an API, because it cannot be made reenterant.
<BR>
<BR>

<P>
A well written Application Programming Interface (API) requires that the functions contained within it be reenterant and also creates an environment in which the code can be abstracted.  In order to take advantage of these two ideas the Doubly Linked List (hereafter referred to as the DLL) has a three level hierarchy as pictured in the figure.
<BR>
<BR>

<P>
The first level we will refer to as the ``Top Level Struct''.  All the global data is held by one of these structures and it is allocated once for each incident of the link list.  

<P>
<PRE>
typedef struct list
   {
   Node           *head;         /* pointer to head record */
   Node           *tail;         /* pointer to tail record */
   Node           *current;      /* pointer to current record */
   Node           *saved;        /* pointer to stored record */
   size_t         infosize;      /* size of record incident */
   unsigned long  listsize;      /* number of records in list */
   unsigned long  current_index; /* index value of current record */
   unsigned long  save_index;    /* index value of stored record */
   DLL_Boolean    modified;      /* modified flag (TRUE or FALSE) */
   DLL_SrchOrigin search_origin; /* location a search originates from */
   DLL_SrchDir    search_dir;    /* direction the search proceeds from */
   } List;
</PRE>
<BR>
<BR>

<P>
At the next level is the ``Node Struct''.  This structure holds the pointer to the actual record data plus the pointers to the next and prior nodes.  It is allocated once for each record structure.

<P>
<PRE>
typedef struct node
   {
   Info        *info;            /* pointer to record data */
   struct node *next;            /* pointer to next node */
   struct node *prior;           /* pointer to prior node */
   } Node;
</PRE>
<BR>
<BR>

<P>

<DIV ALIGN="CENTER">
<DIV ALIGN="CENTER">
<IMG
 ALIGN="BOTTOM" BORDER="0" SRC="img1.png"
 ALT="\includegraphics{linklistDiagram.eps}">
<BR>
<BR>
Hierarchical Structure of the Doubly Linked List

</DIV>
</DIV>

<P>
The third and final level is the ``Info Struct'', which holds the actual data inserted by the application.  The Info Struct is defined by the developer and is only restricted by the environment in which the application runs or is compiled in.

<P>
<PRE>
typedef struct your_info
   {
   type your_data;               /* Your data goes here */
   } YourInfo;
</PRE>
<BR>
<BR>

<P>
There is one more structure which is not part of this hierarchy.  It is only used to return the current state of the search criteria.

<P>
<PRE>
typedef struct search_modes
   {
   DLL_SrchOrigin search_origin; /* Search from head, tail, or current */
   DLL_SrchDir    search_dir;    /* Search up or down */
   } DLL_SearchModes;
</PRE>

<P>

<DIV CLASS="navigation"><HR>
<!--Navigation Panel-->
<A NAME="tex2html156"
  HREF="node11.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next.png"></A> 
<A NAME="tex2html152"
  HREF="Linklist.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up.png"></A> 
<A NAME="tex2html146"
  HREF="node9.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="prev.png"></A> 
<A NAME="tex2html154"
  HREF="node2.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents" SRC="contents.png"></A>  
<BR>
<B> Next:</B> <A NAME="tex2html157"
  HREF="node11.html">Enumerations</A>
<B> Up:</B> <A NAME="tex2html153"
  HREF="Linklist.html">A Users Guide for</A>
<B> Previous:</B> <A NAME="tex2html147"
  HREF="node9.html">C API Overview</A>
 &nbsp; <B>  <A NAME="tex2html155"
  HREF="node2.html">Contents</A></B> </DIV>
<!--End of Navigation Panel-->
<ADDRESS>
Carl J. Nobile
2012-01-17
</ADDRESS>
</BODY>
</HTML>
