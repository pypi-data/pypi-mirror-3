<?xml version="1.0" encoding="utf-8"?>
<!-- $Id: processor.xml 9a3c109c4e49 2012/08/08 16:52:55 patrick $ -->
<publiforge version="1.0">
  <processor>

    <label xml:lang="en">Publidoc to HTML 5</label>
    <label xml:lang="fr">Publidoc vers HTML 5</label>

    <description xml:lang="en">
      Convert a Publidoc XML document into HTML 5 files with images, sounds
      and videos.
    </description>
    <description xml:lang="fr">
      Convertit un document XML Publidoc en fichiers HTML 5 avec images, sons
      et vidéos.
    </description>

    <engine>publiforge.lib.engine.leprisme</engine>

    <ancestors>
      <ancestor>Publidoc2XHtml</ancestor>
    </ancestors>

    <variables>
      <!-- ~~~~~~~~~~~~~~~~~~~ LePrisme engine variables ~~~~~~~~~~~~~~~~~~ -->
      <group>
        <label xml:lang="en">Engine variables</label>
        <label xml:lang="fr">Variables du moteur</label>

        <var name="subdir" type="string">
          <default>%(fid)s</default>
          <label xml:lang="en">Output directory</label>
          <label xml:lang="fr">Chemin de sortie</label>
          <description xml:lang="en">
            Relative path inside output directory. --
            %(fid)s = file ID --
            %(path)s = relative path of the source file inside the storage
          </description>
          <description xml:lang="fr">
            Chemin relatif dans le répertoire de sortie. --
            %(fid)s = identifiant du fichier --
            %(path)s = chemin relatif du fichier source dans l'espace de stockage
          </description>
        </var>

        <var name="keeptmp" type="boolean">
          <default>false</default>
          <label xml:lang="en">Keep temporary files</label>
          <label xml:lang="fr">Temporaires conservés</label>
        </var>

        <var name="zip" type="boolean">
          <default>false</default>          
          <label xml:lang="en">Result compression</label>
          <label xml:lang="fr">Compression du résultat</label>
        </var>
      </group>

      <!-- ~~~~~~~~~~~~~~~~~~~~ Processor image variables ~~~~~~~~~~~~~~~~~ -->
      <group>
        <label xml:lang="en">Image variables</label>
        <label xml:lang="fr">Variables pour les images</label>

        <var name="img" type="boolean">
          <default>true</default>
          <label xml:lang="en">Image processing</label>
          <label xml:lang="fr">Traitement des images</label>
        </var>

        <var name="img_search" type="string">
          <default>Images/%(id)s.%(ext)s, %(id)s.%(ext)s</default>
          <label xml:lang="en">Search paths</label>
          <label xml:lang="fr">Chemins de recherche</label>
          <description xml:lang="en">
            Patterns for file to find with absolute path or relative
            path to the processed file or resources. --
            %(id)s = source ID --
            %(ext)s = one of available source extensions --
            %(filepath)s = full path to the processed file directory --
            %(stgpath)s = full path to the storage root directory
          </description>
          <description xml:lang="fr">
            Motifs du fichier à trouver avec un chemin absolu ou relatif
            au fichier traité ou aux ressources. --
            %(id)s = ID de la source --
            %(ext)s = une des extensions possibles pour le fichier source --
            %(filepath)s = chemin absolu vers le répertoire du fichier traité --
            %(stgpath)s = chemin absolu vers la racine des espaces de stockage
          </description>
        </var>

        <var name="img_quality" type="integer">
          <default>92</default>
          <label xml:lang="en">JPEG qualité</label>
          <label xml:lang="fr">Qualité JPEG</label>
          <description xml:lang="en">
            Quality for JPEG images between 1 and 100 --
            1 = lowest image quality and highest compression --
            100 = best quality but least effective compression
          </description>
          <description xml:lang="fr">
            Qualité pour les images JPEG entre 1 et 100 --
            1 = qualité minimum et compression maximum --
            100 = qualité maximum et compression minimum
          </description>
        </var>

        <var name="img_optimize" type="select" visible="true">
          <default>4</default>
          <option>0</option><option>1</option><option>2</option>
          <option>3</option><option>4</option><option>5</option>
          <option>6</option><option>7</option>
          <label xml:lang="en">Optimization</label>
          <label xml:lang="fr">Optimisation</label>
        </var>

         <var name="img_ext" type="select">
          <default>.png</default>
          <option value=".png">PNG</option>
          <option value=".jpg">JPEG</option>
          <option value=".gif">GIF</option>
          <label xml:lang="en">Format of created images</label>
          <label xml:lang="fr">Format des images créées</label>
        </var>

        <var name="img_size" type="regex" visible="true">
          <default>640x480&gt;</default>
          <pattern>\d{1,4}x\d{0,4}&gt;?</pattern>
          <label xml:lang="en">Image size</label>
          <label xml:lang="fr">Taille des images</label>
        </var>

        <var name="img_size_thumbnail" type="regex">
          <default>120x120&gt;</default>
          <pattern>\d{1,4}x\d{0,4}&gt;?</pattern>
          <label xml:lang="en">Thumbnail size</label>
          <label xml:lang="fr">Taille des vignettes</label>
        </var>

        <var name="img_size_icon" type="regex">
          <default>x32&gt;</default>
          <pattern>\d{0,4}x\d{1,4}&gt;?</pattern>
          <label xml:lang="en">Icon size</label>
          <label xml:lang="fr">Taille des icônes</label>
        </var>

        <var name="img_size_cover" type="regex">
          <default>768x1024&gt;</default>
          <pattern>\d{1,4}x\d{0,4}&gt;?</pattern>
          <label xml:lang="en">Cover size</label>
          <label xml:lang="fr">Taille de la couverture</label>
        </var>
      </group>

      <!-- ~~~~~~~~~~~~~~~~~~~ Processor audio variables ~~~~~~~~~~~~~~~~~~ -->
      <group>
        <label xml:lang="en">Audio variables</label>
        <label xml:lang="fr">Variables pour l'audio</label>

        <var name="aud" type="boolean" visible="true">
          <default>true</default>
          <label xml:lang="en">Audio processing</label>
          <label xml:lang="fr">Traitement de l'audio</label>
        </var>

        <var name="aud_search" type="string">
          <default>Audios/%(id)s.%(ext)s, %(id)s.%(ext)s</default>
          <label xml:lang="en">Search paths</label>
          <label xml:lang="fr">Chemins de recherche</label>
          <description xml:lang="en">
            Patterns for file to find with absolute path or relative
            path to the processed file or resources. --
            %(id)s = source ID --
            %(ext)s = one of available source extensions --
            %(filepath)s = full path to the processed file directory --
            %(stgpath)s = full path to the storage root directory
          </description>
          <description xml:lang="fr">
            Motifs du fichier à trouver avec un chemin absolu ou relatif
            au fichier traité ou aux ressources. --
            %(id)s = ID de la source --
            %(ext)s = une des extensions possibles pour le fichier source --
            %(filepath)s = chemin absolu vers le répertoire du fichier traité --
            %(stgpath)s = chemin absolu vers la racine des espaces de stockage
          </description>
        </var>

        <var name="aud_ext1" type="select">
          <default>.ogg</default>
          <option value=".ogg">Ogg Vorbis</option>
          <option value=".aac">Advanced Audio Coding (AAC)</option>
          <option value=".m4a">MPEG-4 audio (m4a)</option>
          <option value=".ac3">Dolby AC3</option>
          <option value=".webm">WebM</option>
          <option value=".wav">WAV</option>
          <option value=".mp3">MP3</option>
          <label xml:lang="en">Format of created sounds</label>
          <label xml:lang="fr">Format des sons créés</label>
        </var>

        <var name="aud_ext2" type="select">
          <default>.aac</default>
          <option value=".aac">Advanced Audio Coding (AAC)</option>
          <option value=".m4a">MPEG-4 audio (m4a)</option>
          <option value=".ogg">Ogg Vorbis</option>
          <option value=".ac3">Dolby AC3</option>
          <option value=".webm">WebM</option>
          <option value=".wav">WAV</option>
          <option value=".mp3">MP3</option>
          <label xml:lang="en">Aternative format of created sounds</label>
          <label xml:lang="fr">Format alternatif des sons créés</label>
        </var>
      </group>

      <!-- ~~~~~~~~~~~~~~~~~~~ Processor video variables ~~~~~~~~~~~~~~~~~~ -->
      <group>
        <label xml:lang="en">Video variables</label>
        <label xml:lang="fr">Variables pour la vidéo</label>

        <var name="vid" type="boolean" visible="true">
          <default>true</default>
          <label xml:lang="en">Video processing</label>
          <label xml:lang="fr">Traitement de la vidéo</label>
        </var>

        <var name="vid_search" type="string">
          <default>Videos/%(id)s.%(ext)s, %(id)s.%(ext)s</default>
          <label xml:lang="en">Search paths</label>
          <label xml:lang="fr">Chemins de recherche</label>
          <description xml:lang="en">
            Patterns for file to find with absolute path or relative
            path to the processed file or resources. --
            %(id)s = source ID --
            %(ext)s = one of available source extensions --
            %(filepath)s = full path to the processed file directory --
            %(stgpath)s = full path to the storage root directory
          </description>
          <description xml:lang="fr">
            Motifs du fichier à trouver avec un chemin absolu ou relatif
            au fichier traité ou aux ressources. --
            %(id)s = ID de la source --
            %(ext)s = une des extensions possibles pour le fichier source --
            %(filepath)s = chemin absolu vers le répertoire du fichier traité --
            %(stgpath)s = chemin absolu vers la racine des espaces de stockage
          </description>
        </var>

        <var name="vid_ext" type="select">
          <default>.ogv</default>
          <option value=".ogv">Ogg Theora</option>
          <option value=".mpg">MPEG</option>
          <option value=".mp4">MPEG-4</option>
          <option value=".dv">DV</option>
          <option value=".avi">AVI</option>
          <option value=".mov">MOV</option>
          <option value=".webm">WebM</option>
          <label xml:lang="en">Format of created videos</label>
          <label xml:lang="fr">Format des vidéos créées</label>
        </var>

        <var name="vid_width" type="regex">
          <default>300</default>
          <pattern>\d{2,4}</pattern>
          <label xml:lang="en">Video width in pixels</label>
          <label xml:lang="fr">Largeur des vidéos en pixels</label>
        </var>
      </group>

      <!-- ~~~~~~~~~~~~~~~~~~~ Processor HTML 5 variables ~~~~~~~~~~~~~~~~~ -->
      <group>
        <label xml:lang="en">HTML 5 variables</label>
        <label xml:lang="fr">Variables HTML 5</label>

        <var name="onefile" type="boolean" visible="true">
          <default>false</default>
          <label xml:lang="en">Result in one file</label>
          <label xml:lang="fr">Résultat en un seul fichier</label>
        </var>

        <var name="subtoc" type="boolean" visible="true">
          <default>true</default>
          <label xml:lang="en">With intermediate tables of content</label>
          <label xml:lang="fr">Avec sommaires intermédiaires</label>
        </var>

        <var name="js" type="boolean">
          <default>true</default>
          <label xml:lang="en">With JavaScript</label>
          <label xml:lang="fr">Avec JavaScript</label>
        </var>
      </group>
    </variables>

    <output>Result/Html5</output>

  </processor>
</publiforge>