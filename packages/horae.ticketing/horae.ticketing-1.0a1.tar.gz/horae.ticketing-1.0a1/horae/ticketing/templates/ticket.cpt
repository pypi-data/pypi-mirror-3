<html xmlns:tal="http://xml.zope.org/namespaces/tal"
      xmlns:i18n="http://xml.zope.org/namespaces/i18n"
      xmlns:metal="http://xml.zope.org/namespaces/metal"
      metal:use-macro="path:view/macro"
      i18n:domain="horae.ticketing">
  <div metal:fill-slot="columns" class="ticket-view">
    <div class="cell position-3 width-6"
         tal:attributes="class 'cell position-3 width-6' if view.form else 'cell position-3 width-13'">
      <div id="content">
        <div tal:replace="structure provider:content.before" />
        <dl class="display-form">
          <tal:block repeat="widget view.widgets">
            <tal:define define="odd path:repeat/widget/odd|nothing;
                                cssClass 'odd' if odd else 'even'">
              <dt class=""
                  tal:attributes="class cssClass">
                <tal:block content="widget.label"/>
              </dt>
              <dd class=""
                  tal:attributes="class cssClass">
                <input tal:replace="structure widget()" />
              </dd>
            </tal:define>
          </tal:block>
        </dl>
        <div class="ticket-history"
             tal:condition="view.history"
             tal:content="structure view.history" />
        <div tal:replace="structure provider:content.after" />
      </div>
    </div>
    <div class="cell position-9 width-7"
         tal:condition="view.form">
      <div class="ticket-change-form"
           tal:content="structure view.form" />
    </div>
    <div class="cell position-0 width-3">
      <div id="column-left">
        <div tal:replace="structure provider:sidebar" />
      </div>
    </div>
  </div>
</html>
