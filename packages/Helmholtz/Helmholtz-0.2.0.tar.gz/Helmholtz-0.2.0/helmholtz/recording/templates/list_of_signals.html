{% load tags %}

<table class="list_of_data">
 <tr>
  <th></th>
  <th>Id</th>
  <th>Method</th>
  <th>Episode</th>
  <th>Channel</th>
  <th>Channel Type</th>
  <th>Quality</th>
  <th>Duration</th>
  <th>Min.</th>
  <th>Max.</th>
  <th>PTP</th>
  <th>Amplitude</th>
  <th>Mean</th>
  <th>STD</th>
  <th>RMS</th>
  <th>Variance</th>
  <th></th>
 </tr>

 {% for signal_base in protocol.signal_set.all %}
  {% with signal_base.cast as signal %}
 <tr class="{% cycle odd,even %}">
  <td class="action">
   {% if is_accessible %}
   <a href="{% url signal-detail lab=lab.diminutive expt=protocol.block.experiment.label block=protocol.block.label protocol=protocol.label file=signal.file.name episode=signal.episode channel=signal.channel.number %}">
    <img src="{{MEDIA_URL}}/images/selector-search.gif"></img>
   </a>
   {% else %}
    <img src="{{MEDIA_URL}}/images/selectector-search-deactivaded.png"></img>
   {% endif %}
  </td>
  <td>{{forloop.counter}}</td>
  <td>{{signal.method}}</td>
  <td>{{signal.episode}}</td>
  <td>{{signal.electricalsignal.channel.number}}</td>
  <td>{{signal.electricalsignal.channel.type}}</td>
  <td{% if not signal.quality %} class="nd"{% endif %}>{{signal.quality|default:"N.D"}}</td>
  <td{% if not signal.duration %} class="nd"{% endif %}>{{signal.duration|default:"N.D"|floatformat:"2"}}</td>
  <td{% if not signal.min %} class="nd"{% endif %}>{{signal.min|default:"N.D"|floatformat:"2"}}</td>
  <td{% if not signal.max %} class="nd"{% endif %}>{{signal.max|default:"N.D"|floatformat:"2"}}</td>
  <td{% if not signal.p2p %} class="nd"{% endif %}>{{signal.p2p|default:"N.D"|floatformat:"2"}}</td>
  <td{% if not signal.amplitude %} class="nd"{% endif %}>{{signal.amplitude|default:"N.D"|floatformat:"2"}}</td>
  <td{% if not signal.mean %} class="nd"{% endif %}>{{signal.mean|default:"N.D"|floatformat:"2"}}</td>
  <td{% if not signal.std %} class="nd"{% endif %}>{{signal.std|default:"N.D"|floatformat:"2"}}</td>
  <td{% if not signal.rms %} class="nd"{% endif %}>{{signal.rms|default:"N.D"|floatformat:"2"}}</td>
  <td{% if not signal.var %} class="nd"{% endif %}>{{signal.var|default:"N.D"|floatformat:"2"}}</td>
  <td class="action">
   {% if is_accessible %}
   <a href="#">
    <img src="{{MEDIA_URL}}/images/icon_addlink.gif" class="expander" ></img>
   </a>
   {% else %}
    <img src="{{MEDIA_URL}}/images/icon_addlink_gr.gif"></img>
   {% endif %}
  </td>
 </tr>
 {% comment %}{% if is_accessible %}{% endcomment %} 
 <tr class="detail_row">
  <td colspan="17">
   <img src="{{MEDIA_URL}}/thumbnails/{{signal.file.name.lower}}_ep{{signal.episode}}_ch{{signal.channel.number}}.png" width="800px"></img>
  </td>
 </tr>
 {% comment %}{% endif %}{% endcomment %} 
 {% endwith %}
 {% endfor %}
 <tr>
  <th colspan="17">
   <br/>
  </th>
 </tr>
</table> 

<script src="{{MEDIA_URL}}/scripts/details.js"></script>
