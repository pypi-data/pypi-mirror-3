<html tal:replace="structure context/manage_page_header"/>

<script type="text/javascript">
<!-- 

isSelected = false;

function toggleSelect() {
  if (isSelected == false) {
    for (i = 0; i < document.objectItems.length; i++)
      document.objectItems.elements[i].checked = true ;
    isSelected = true;
    document.objectItems.selectButton.value = "Deselect All";
    return isSelected;
  }
  else {
    for (i = 0; i < document.objectItems.length; i++)
      document.objectItems.elements[i].checked = false ;
    isSelected = false;
    document.objectItems.selectButton.value = "Select All";
    return isSelected;       
  }
}

//-->
</script>


    <span tal:replace="structure context/manage_tabs"/>

       <br/>
       <form action="" name="objectItems" method="post" tal:attributes="action request/URL1"
             tal:define="sort_on request/sort_on | string:effective_date;
                         ledger_txns request/ledger_txns | python: False;
                         txns python: ledger_txns and context.blLedgerTransactions() or context.blTransactions();">

       <input type="radio" name="ledger_txns:boolean" value="0" 
              tal:attributes="checked python: ledger_txns and 0 or 1"><i>Period Txns</i>
       &nbsp;&nbsp;&nbsp;
       <input type="radio" name="ledger_txns:boolean" value="1" 
              tal:attributes="checked python: ledger_txns and 1 or 0"><i>Ledger Txns</i>
       <input type="submit" name="manage_transactions:method" value=" Go "/>

       <table border="0" cellpadding="2" cellspacing="0" width="100%" tal:condition="txns">
           <tr class="list-header">
               <td/>
               <td/>
               <td class="list-item">Number</td>
               <td class="list-item">Status</td>
               <td class="list-item" align="right">Amount</td>
               <td>&nbsp;</td>
               <td class="list-item">Entered By</td>
               <td class="list-item">Effective</td>
               <td class="list-item">Last Modified</td>
           </tr>
           <tr class="" tal:repeat="item txns"
               tal:attributes="class python: test(repeat['item'].index % 2, 'row-normal', 'row-hilite')">
               <td class="list-item">
                  <input type="checkbox" name="ids:list" value="" tal:attributes="value item/getId">
               </td>
               <td class="list-item">
                   <img src="" tal:attributes="src item/icon"/></td>
               <td class="list-item">
                   <a href="" tal:attributes="href string:${item/absolute_url}/manage_workspace"  
                              tal:content="item/title_and_id"/>
               </td>
               <td class="list-item" tal:content="item/status"/>
               <td class="list-item" align="right" tal:content="item/debitTotal"/>
               <td>&nbsp;</td>
               <td class="list-item" tal:content="item/entered_by"/>
               <td class="list-item" 
                   tal:content="python: item.effective_date.strftime('%Y-%m-%d')"/>
               <td class="list-item" 
                   tal:content="python: item.bobobase_modification_time().strftime('%Y-%m-%d %H:%M')"/>
           </tr>
           <tr tal:condition="not: ledger_txns">
               <td  colspan="7">
                   <input type="submit"  value=" Reverse " name="manage_reverse:method"/>
                   <input type="submit"  value=" Delete  " name="manage_delete:method"/>

                    &nbsp;&nbsp;
                  <input class="form-element" type="submit" name="selectButton" value="Select All"
                         onClick="toggleSelect(); return false" />

               </td>
           </tr>
       </table>
       </form>

<html tal:replace="structure context/manage_page_footer"/>





