<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      xmlns:tal="http://xml.zope.org/namespaces/tal"
      xmlns:metal="http://xml.zope.org/namespaces/metal"
      xmlns:i18n="http://xml.zope.org/namespaces/i18n"
      lang="en"
      metal:use-macro="here/main_template/macros/master"
      i18n:domain="plone">
      
<metal:js fill-slot="javascript_head_slot">
  <!--[if (!IE)|(gte IE 8)]><!-->
    <link href="/viewer/viewer-datauri.css" media="screen" rel="stylesheet" type="text/css"
      tal:attributes="href string:${view/dvstatic}/assets/viewer-datauri.css" />
  <!--<![endif]-->
  <!--[if lte IE 7]>
    <link href="/viewer/viewer.css" media="screen" rel="stylesheet" type="text/css"
        tal:attributes="href string:${view/dvstatic}/assets/viewer.css" />
  <![endif]-->
  <link href="/viewer/printviewer.css" media="print" rel="stylesheet" type="text/css"
      tal:attributes="href string:${view/dvstatic}/assets/printviewer.css" />
  <script src="/viewer/viewer.js"
      tal:attributes="src string:${view/dvstatic}/assets/viewer.js"></script>
  <script type="text/javascript">
  jQuery('.close-fullscreen').live('click', function(){
    if(window.opener){
      window.close();
      window.opener.location = jQuery('base').attr('href') + '/view#bypass-fullscreen';
      window.opener.location.reload();
    }else{
      window.location = jQuery('base').attr('href') + '/view#bypass-fullscreen';
      window.location.reload();
    }
    return false;
    });
  </script>
</metal:js>
<metal:css fill-slot="style_slot">
<style>
.DV-navigation .DV-fullscreen{
  right: 10px;
  top: 54px;
  left: inherit;
  cursor: pointer;
}

.fullscreen .DV-navigation .DV-fullscreen{
  display:none;
}

.not-fullscreen .close-fullscreen{
  display:none;
}
</style>
</metal:css>

<body>

<div metal:fill-slot="content-core">
  <tal:main-macro metal:define-macro="content-core" 
         tal:define="size python:here.getObjSize(here);
                     content_type here/get_content_type|here/Format;">
    <tal:show tal:condition="view/enabled">        
      <div id="DV-container">

      <div class="DV-loadingDocument"><span>Loading</span></div>
        <noscript>
          <div id="DV-noJS" style="height:500px">
            The Document Viewer requires that you enable Javascript.
          </div>
        </noscript>
      </div>
      <div id="overlay"></div>
      <script type="text/javascript" tal:content="structure view/javascript">
      </script>
    </tal:show>

    <p>
      <metal:field use-macro="python:here.widget('file', mode='view')">
        File
      </metal:field>
    </p>
  </tal:main-macro>
</div>

</body>

</html>
