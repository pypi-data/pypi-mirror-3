[buildout]
parts = instance gocept.fssyncz2 zsync test
versions = versions
allow-picked-versions = false
#extensions = buildout.dumppickedversions
develop = .

[versions]
plone.recipe.zope2instance = 3.8
pyquery = 0.6.1
collective.recipe.z2testrunner = 0.3.1
distribute = 0.6.15
lxml = 2.3
plone.recipe.zope2install = 3.2
pycrypto = 2.0.1
mailinglogger = 3.3.3
paramiko = 1.7.6
setuptools = 0.6c11
zc.buildout = 1.5.2
zc.recipe.egg = 1.3.2
zope.app.catalog = 3.5.1
zope.app.dtmlpage = 3.5.0
zope.app.fssync = 3.5
zope.app.module = 3.5.0
zope.broken = 3.6.0
zope.container = 3.12.0
zope.exceptions = 3.6.1
zope.fssync = 3.5.2
zope.interface = 3.8.0
zope.testing = 3.9.5
zope.xmlpickle = 3.4.0


[zope2]
recipe = plone.recipe.zope2install
url = http://www.zope.org/Products/Zope/2.11.6/Zope-2.11.6-final.tgz
fake-zope-eggs = true
fake-eggs-folder = ${buildout:parts-directory}/fake-eggs
additional-fake-eggs =
    zope.lifecycleevent=3.5.2
    zope.location=3.5.4
    ZODB3=3.8.0

[instance]
recipe = plone.recipe.zope2instance
zope2-location = ${zope2:location}
blob-storage = ${buildout:directory}/var/blobstorage
user = admin:admin
http-address = 127.0.0.1:8080
debug-mode = on
verbose-security = on
eggs =
    gocept.fssyncz2 [test]
zcml =
    gocept.fssyncz2-overrides
    gocept.fssyncz2

[gocept.fssyncz2]
recipe = zc.recipe.egg:script
extra-paths = ${zope2:location}/lib/python
arguments = host='${instance:http-address}', folder='test', repository='${buildout:directory}/dump', credentials='${instance:user}'

[zsync]
recipe = zc.recipe.egg
eggs = zope.app.fssync
entry-points = zsync=zope.app.fssync.main:main

[test]
recipe = collective.recipe.z2testrunner
zope2part = instance
packages = gocept.fssyncz2
