<div id="messages" class="${request.is_xhr and 'ajax-replace' or ''}">
  <div tal:repeat="queue ('notice', 'success', 'error', '')" tal:omit-tag="">
    <div class="message ${queue} round-corners"
         tal:define="messages request.session.pop_flash(queue)"
         tal:condition="messages"
         tal:repeat="message messages">
      <span tal:omit-tag="" tal:repeat="line message.splitlines()">
        ${line}
        <br />
      </span>
    </div>
  </div>
</div>
