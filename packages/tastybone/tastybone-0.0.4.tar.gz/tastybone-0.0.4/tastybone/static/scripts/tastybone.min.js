// Generated by CoffeeScript 1.3.3
(function(){var e,t;window.TastyBone={},t=window.TastyBone,e=function(){function e(e,n){var r=this;this.original_url=e,_.extend(this,Backbone.Events),n=n||{},jQuery.get(this.original_url,n,function(e){return _.each(e,function(e,n){var i,s,o;if(n[0]==="_")return;return i=n[0].toUpperCase()+n.slice(1),o=t.Model.factory(e.list_endpoint,r),s=t.Collection.factory(o,e.list_endpoint),r.models[i+"Model"]=o,r.collections[i+"Collection"]=s}),r.trigger("ready",r)})}return e.prototype.models={},e.prototype.collections={},e}(),t.Bone=e}).call(this),function(){var e,t={}.hasOwnProperty,n=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e};e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return n(t,e),t.prototype.idAttribute="resource_uri",t.prototype.url=function(){return this.id!=null?this.id:Backbone.Model.prototype.url.call(this)},t.factory=function(e,r){var i;return i=function(t){function r(){return r.__super__.constructor.apply(this,arguments)}return n(r,t),r.prototype.initialize=function(){return this.urlRoot=e},r}(t)},t}(Backbone.Model),window.TastyBone.Model=e}.call(this),function(){var e,t={}.hasOwnProperty,n=function(e,n){function i(){this.constructor=e}for(var r in n)t.call(n,r)&&(e[r]=n[r]);return i.prototype=n.prototype,e.prototype=new i,e.__super__=n.prototype,e};e=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return n(t,e),t.prototype.url=function(e){var t,n;return this.models!=null&&this.models.length>0?(n=function(e){var t;return t=e.split("/"),t=t[t.length-2]},t=_.pluck(this.models,"id"),t=_.reduce(t,function(e,t){return e+";"+n(t)}),t=n(t),this.urlRoot+"set/"+t):this.urlRoot},t.prototype.parse=function(e){return e!=null&&e.meta!=null&&(this.meta=e.meta),e.objects||e},t.factory=function(e,r){var i;return i=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return n(i,t),i.prototype.model=e,i.prototype.urlRoot=r,i}(t)},t}(Backbone.Collection),window.TastyBone.Collection=e}.call(this);