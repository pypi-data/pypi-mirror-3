

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Satchmo Development Branch &mdash; Satchmo v0.9.2-development documentation</title>
    <link rel="stylesheet" href="_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.9.2-development',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="author" title="About these documents" href="about.html" />
    <link rel="top" title="Satchmo v0.9.2-development documentation" href="index.html" />
    <link rel="next" title="Satchmo Release 0.9.1" href="release-notes-0-9-1.html" />
    <link rel="prev" title="Managing Your Store" href="managing.html" /> 
  </head>
  <body>

<div style="background-image: url(_static/satchmo-sliver.jpg); background-repeat: repeat-x; background-color: white; text-align: left;">
<img src="_static/satchmo-front.jpg">
</div>

    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="release-notes-0-9-1.html" title="Satchmo Release 0.9.1"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="managing.html" title="Managing Your Store"
             accesskey="P">previous</a> |</li>
        <li><a href="http://www.satchmoproject.com">Satchmo home </a> |&nbsp;</li>
        
        <li><a href="index.html">Satchmo v0.9.2-development documentation</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Satchmo Development Branch</a><ul>
<li><a class="reference internal" href="#new-features">New Features</a></li>
<li><a class="reference internal" href="#translations">Translations</a></li>
<li><a class="reference internal" href="#bug-fixes">Bug Fixes</a></li>
<li><a class="reference internal" href="#performance-improvements">Performance Improvements</a></li>
<li><a class="reference internal" href="#additional-packages">Additional Packages</a></li>
<li><a class="reference internal" href="#migration-notes">Migration Notes</a><ul>
<li><a class="reference internal" href="#csrf">CSRF</a></li>
<li><a class="reference internal" href="#messages">Messages</a></li>
<li><a class="reference internal" href="#protx-payment-module-renamed">Protx Payment Module Renamed</a></li>
<li><a class="reference internal" href="#productpricelookup-index">ProductPriceLookup Index</a></li>
<li><a class="reference internal" href="#support-for-django-1-3">Support for Django 1.3</a></li>
<li><a class="reference internal" href="#active-products">Active Products</a></li>
<li><a class="reference internal" href="#order-shipping-method-and-description-fields-increased">Order Shipping Method and Description Fields increased</a></li>
<li><a class="reference internal" href="#fedex-module-update">Fedex Module Update</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="managing.html"
                        title="previous chapter">Managing Your Store</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="release-notes-0-9-1.html"
                        title="next chapter">Satchmo Release 0.9.1</a></p>

<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" size="18" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
<p>Documentation Version:</p>
<ul>
    <li><a href="/docs/dev">Current development version</a></li>
    <li><a href="/docs/rel/latest">Latest Release version</a></li>
    <li><a href="http://bitbucket.org/chris1610/satchmo/downloads/Satchmo-0-9-1.pdf">PDF Documentation</a></li>
</ul>

        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="satchmo-development-branch">
<h1>Satchmo Development Branch<a class="headerlink" href="#satchmo-development-branch" title="Permalink to this headline">¶</a></h1>
<p>These are the notes for the latest development version.
The full list of closed tickets can be viewed <a class="reference external" href="http://www.bitbucket.org/chris1610/satchmo/issues?status=resolved&amp;milestone=0.9.2">here</a></p>
<div class="section" id="new-features">
<h2>New Features<a class="headerlink" href="#new-features" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Display payment methods in emails</li>
<li>Update the default templates to show quick orders and category indexes</li>
<li>Ensure notes fields can be saved if they are included in the checkout process</li>
<li>Display country names instead of abbreviations in templates</li>
<li>Update google analytics code to use latest tracker js</li>
<li>Add an unlimited downloads option for downloadable products</li>
<li>Added support for Django&#8217;s new CSRF support</li>
<li>UPS Shipping module now allows you to box products together into 1 container</li>
<li>Add a new config for the persistent cart to provide more options for how it handles returning users</li>
<li>New template tag to show tiered shipping pricing table</li>
<li>Control product variations inclusion in searching view the settings</li>
<li>UPS module will display actual shipping times</li>
<li>New template tag product_featured_list</li>
<li>New config option to allow users to create their username instead of automatically generating</li>
<li>Satchmo check now does a more thorough job of checking your environment for issues</li>
<li>Product variation images can be shown when the user selects the product</li>
<li>In the admin view of products, stock and price are displayed in a more useable format</li>
<li>Ability to add and manage addressbook entries</li>
</ul>
</div>
<div class="section" id="translations">
<h2>Translations<a class="headerlink" href="#translations" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Added Dutch translation</li>
<li>Added Czech translation</li>
<li>Updated French translation</li>
<li>Updated Spanish translation</li>
<li>Added Romanian translation</li>
</ul>
</div>
<div class="section" id="bug-fixes">
<h2>Bug Fixes<a class="headerlink" href="#bug-fixes" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Fix issue if Unicode characters in options</li>
<li>Fix issues with migrations and content types</li>
<li>Resolve Paypal unneeded dependency on subscription product</li>
<li>Make sure &#8220;all valid&#8221; discounts are correctly applied</li>
<li>Fix Wishlish ajax add view</li>
<li>Ensure that product variation properly inherits shipping from its parent</li>
<li>Handling of gift certificate plus other payments fixed</li>
<li>Bug in tax processor rendering fixed</li>
<li>Bug in autosuccess payment module fixed</li>
<li>Rebuild pricing was deleting prices if multiple sites were being used</li>
<li>Currency template tags handles decimal places parameter correctly</li>
<li>Improve robustness of South migrations</li>
<li>Fix obscure issue where some users were able to edit the wrong information</li>
<li>Remove custom read only widget use and use Django&#8217;s newer read only field</li>
<li>Paypal was not saving contact information correctly in certain cases</li>
<li>Newsletter subscription status could be lost when checking out</li>
<li>Use smart_attr for tiered weight shipping module</li>
<li>Make sure that the product image file name doesn&#8217;t exceed the length of the file field</li>
<li>Multiple doc formatting fixes</li>
<li>Authorize.net now uses shipee first and last names if given</li>
<li>Typo in wishlist ajax view</li>
<li>Make sure jquery correctly shows error messages on product pages</li>
<li>Fixed problem where category caching was not handling translations correctly</li>
<li>Ensure Ajax calls in checkout use SSL if it is turned on</li>
<li>Akismet for comment moderation is fixed</li>
<li>Improvements to South migrations</li>
<li>Update Paypal IPN docs</li>
<li>Fix issue where inactive or out of stock products could be purchased if there was a time lag between cart addition and checkout</li>
<li>Cart template tag now allows show_discount</li>
<li>Several fixes to transaction management</li>
<li>Improve postgres syncdb support</li>
<li>UPS time in transit prevents weekend pickups</li>
<li>Payments weren&#8217;t showing up correctly in admin</li>
<li>Multiple updates to the tests to make them more robust</li>
<li>Fix issue with persistent cart not working correctly</li>
<li>Updates and fixes to sermepa payment module</li>
<li>Fixes to syncdb</li>
<li>Fedex module API changes</li>
<li>Several fixes to handle unicode characters better</li>
<li>Replace some admin jquery scripts with simpler django readonly fields</li>
<li>Ensure that google checkout empties the cart</li>
<li>Converted to SOAP based Fedex API</li>
<li>Fix use of sale variable in context processor</li>
<li>Handle different ship to and bill to addressees better</li>
<li>Tax processor was not being cached correctly</li>
<li>Secure autocomplete view so that only staff users could view it</li>
<li>Fix product variation pricing so that explicit prices don&#8217;t get overriden by deltas</li>
<li>Fix apply_even_split so that discounts get applied properly</li>
<li>Ensure home page paginator handles improper inputs better</li>
</ul>
</div>
<div class="section" id="performance-improvements">
<h2>Performance Improvements<a class="headerlink" href="#performance-improvements" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Tweaks to price queries to reduce unneeded queries</li>
<li>Made a couple of view and template changes to reduce the number of SQL queries per page</li>
<li>Added db index on Price Lookup table</li>
</ul>
</div>
<div class="section" id="additional-packages">
<h2>Additional Packages<a class="headerlink" href="#additional-packages" title="Permalink to this headline">¶</a></h2>
<dl class="docutils">
<dt>We have also made several updates to satchmo&#8217;s dependencies including:</dt>
<dd><ul class="first last simple">
<li><a class="reference external" href="https://bitbucket.org/bkroeze/django-livesettings">livesettings</a></li>
<li><a class="reference external" href="https://bitbucket.org/bkroeze/django-keyedcache">keyedcache</a></li>
<li><a class="reference external" href="https://bitbucket.org/bkroeze/django-caching-app-plugins/">django-caching-app-plugins</a></li>
</ul>
</dd>
</dl>
<p>You should upgrade these to the latest version when you upgrade your satchmo site.</p>
</div>
<div class="section" id="migration-notes">
<h2>Migration Notes<a class="headerlink" href="#migration-notes" title="Permalink to this headline">¶</a></h2>
<div class="section" id="csrf">
<h3>CSRF<a class="headerlink" href="#csrf" title="Permalink to this headline">¶</a></h3>
<p>As of <a class="reference external" href="http://bitbucket.org/chris1610/satchmo/changeset/a624c8018f52">rev 1999</a>, Satchmo supports the newest Django 1.2 Cross Site Request Forgery (CSRF)
protection. You are encouraged to read more about it int the <a class="reference external" href="http://docs.djangoproject.com/en/dev/ref/contrib/csrf/">Django docs</a></p>
<p>If you have an existing Satchmo store and need to support CSRF, you will need to do a couple of things:</p>
<blockquote>
<ol class="arabic simple">
<li>Upgrade to Django 1.2.3 or greater</li>
<li>Ensure &#8216;django.middleware.csrf.CsrfViewMiddleware&#8217; is in your MIDDLEWARE_CLASSES</li>
<li>Ensure that any forms in your custom templates, have {% csrf_token %} inside the &lt;form&gt; element</li>
</ol>
</blockquote>
</div>
<div class="section" id="messages">
<h3>Messages<a class="headerlink" href="#messages" title="Permalink to this headline">¶</a></h3>
<p>As of <a class="reference external" href="http://bitbucket.org/chris1610/satchmo/changeset/a624c8018f52">rev 1999</a>, Satchmo incorporates some of the components of the new <a class="reference external" href="http://docs.djangoproject.com/en/dev/ref/contrib/messages/">messages framework</a>.</p>
<p>If you have an existing Satchmo store you will need to:</p>
<blockquote>
<ol class="arabic simple">
<li>Add &#8216;django.contrib.messages.middleware.MessageMiddleware&#8217; to your MIDDLEWARE_CLASSES</li>
<li>Add &#8216;django.contrib.messages.context_processors.messages&#8217; to your TEMPLATE_CONTEXT_PROCESSORS</li>
<li>Add &#8216;django.contrib.messages&#8217; to your INSTALLED_APPS setting</li>
</ol>
</blockquote>
</div>
<div class="section" id="protx-payment-module-renamed">
<h3>Protx Payment Module Renamed<a class="headerlink" href="#protx-payment-module-renamed" title="Permalink to this headline">¶</a></h3>
<p>As of <a class="reference external" href="http://bitbucket.org/chris1610/satchmo/changeset/04f821df32ec">rev 2051</a>, the Protx module has been renamed to Sage Pay. You will need to manually copy over your former Protx credentials to
the new Sage Pay module. No further changes should be necessary.</p>
</div>
<div class="section" id="productpricelookup-index">
<h3>ProductPriceLookup Index<a class="headerlink" href="#productpricelookup-index" title="Permalink to this headline">¶</a></h3>
<p>As of <a class="reference external" href="https://bitbucket.org/chris1610/satchmo/changeset/dd9fccf8a2aa">rev 2120</a>, the price lookup model has an index on the productslug to improve performance on large data sets.</p>
<p>A south migration is included. To apply:</p>
<blockquote>
python manage.py migrate product</blockquote>
</div>
<div class="section" id="support-for-django-1-3">
<h3>Support for Django 1.3<a class="headerlink" href="#support-for-django-1-3" title="Permalink to this headline">¶</a></h3>
<p>As mentioned above, when using Django 1.3, it is important to upgrade <a class="reference external" href="https://bitbucket.org/bkroeze/django-caching-app-plugins/">django-caching-app-plugins</a> (app_plugins) to version 0.1.2.</p>
</div>
<div class="section" id="active-products">
<h3>Active Products<a class="headerlink" href="#active-products" title="Permalink to this headline">¶</a></h3>
<p>Previously, category.active_products() would not consistently return the correct product variations. In <a class="reference external" href="https://bitbucket.org/chris1610/satchmo/changeset/318f7eb41140">rev 2168</a>
this was fixed but had the unintended side effect of returning all the product variations in the default templates. In order to maintain
consistency, the default variation display value is now False. The only people that will notice the issue are those that customized
the variation display in the category page.</p>
</div>
<div class="section" id="order-shipping-method-and-description-fields-increased">
<h3>Order Shipping Method and Description Fields increased<a class="headerlink" href="#order-shipping-method-and-description-fields-increased" title="Permalink to this headline">¶</a></h3>
<p>The fields in the Order model for storing the shipping method and description were too small. The size of the field has been increased to 200 characters.
A migration is included for this change:</p>
<blockquote>
python manage.py migrate contact &#8211;fake 0001
python manage.py migrate shop &#8211;fake 0001
python manage.py migrate shop</blockquote>
</div>
<div class="section" id="fedex-module-update">
<h3>Fedex Module Update<a class="headerlink" href="#fedex-module-update" title="Permalink to this headline">¶</a></h3>
<p>The old Fedex module used the XML api reference. The Fedex API documentation is geared more towards a SOAP API. We have moved to
using this new interface.  If you were using the old Fedex module, you will need to update your account and get a new API key.</p>
<p>Additionally, we are requiring two new modules for Fedex. You can install them using pip or easy_install:</p>
<blockquote>
pip install fedex
pip install suds</blockquote>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="release-notes-0-9-1.html" title="Satchmo Release 0.9.1"
             >next</a> |</li>
        <li class="right" >
          <a href="managing.html" title="Managing Your Store"
             >previous</a> |</li>
        <li><a href="http://www.satchmoproject.com">Satchmo home </a> |&nbsp;</li>
        
        <li><a href="index.html">Satchmo v0.9.2-development documentation</a> &raquo;</li> 
      </ul>
    </div>

    <div class="footer">
        &copy; Copyright 2010, Chris Moffitt.
      Last updated on Mar 10, 2012.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.0.5.
    </div>
<script src='http://www.google-analytics.com/ga.js' type='text/javascript'></script>
<script type="text/javascript">
var pageTracker = _gat._getTracker("UA-1711397-1");
pageTracker._initData();
pageTracker._trackPageview();
</script>
  </body>
</html>