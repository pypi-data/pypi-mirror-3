

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Configuring Media Tree &mdash; Django Media Tree v0.7.0 documentation</title>
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.7.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="Django Media Tree v0.7.0 documentation" href="index.html" />
    <link rel="next" title="FileNode Utility functions" href="utils.html" />
    <link rel="prev" title="Using FileNodes in templates" href="templates.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="utils.html" title="FileNode Utility functions"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="templates.html" title="Using FileNodes in templates"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">Django Media Tree v0.7.0 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="configuring-media-tree">
<span id="configuration"></span><h1>Configuring Media Tree<a class="headerlink" href="#configuring-media-tree" title="Permalink to this headline">¶</a></h1>
<p>The following settings can be specified in your Django project&#8217;s settings
module.</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">MEDIA_TREE_STORAGE</span></tt></dt>
<dd><p class="first">File storage class to be used for any file-related operations when dealing
with media files.</p>
<p class="last">This is not set by default, meaning that Django&#8217;s <tt class="docutils literal"><span class="pre">DEFAULT_FILE_STORAGE</span></tt>
will be used. If you need to implement your custom storage, please refer to the
relevant Django <a class="reference external" href="https://docs.djangoproject.com/en/dev/ref/settings/#default-file-storage">documentation on that setting</a> and
on <a class="reference external" href="https://docs.djangoproject.com/en/dev/ref/files/storage/#module-django.core.files.storage">file storage</a>
in general.</p>
</dd>
<dt><tt class="docutils literal"><span class="pre">MEDIA_TREE_MEDIA_BACKENDS</span></tt></dt>
<dd><p class="first">A tuple of media backends for thumbnail generation and other media-related
tasks, i.e. a list of wrappers for the 3rd-party applications that take
care of them.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Please refer to the <a class="reference internal" href="installation.html#configuring-media-backends"><em>installation instructions</em></a> for information on how to configure
supported media backends.</p>
</div>
<p class="last">For general information on media backends, see <a class="reference internal" href="templates.html#media-backends"><em>Using FileNodes in templates</em></a> for
more information.</p>
</dd>
<dt><tt class="docutils literal"><span class="pre">MEDIA_TREE_MEDIA_BACKEND_DEBUG</span></tt></dt>
<dd><p class="first">Specifies whether exceptions caused by media backends, such as <tt class="docutils literal"><span class="pre">ThumbnailError</span></tt>, should be
raised or silently ignored.</p>
<p class="last">Default: <tt class="docutils literal"><span class="pre">settings.DEBUG</span></tt></p>
</dd>
<dt><tt class="docutils literal"><span class="pre">MEDIA_TREE_LIST_DISPLAY</span></tt></dt>
<dd>A tuple containing the columns that should be displayed in the
<tt class="docutils literal"><span class="pre">FileNodeAdmin</span></tt>. Note that the <tt class="docutils literal"><span class="pre">browse_controls</span></tt> column is necessary for
the admin to function properly.</dd>
<dt><tt class="docutils literal"><span class="pre">MEDIA_TREE_LIST_FILTER</span></tt></dt>
<dd>A tuple containing the fields that nodes can be filtered by in the
<tt class="docutils literal"><span class="pre">FileNodeAdmin</span></tt>.</dd>
<dt><tt class="docutils literal"><span class="pre">MEDIA_TREE_SEARCH_FIELDS</span></tt></dt>
<dd>A tuple containing the fields that nodes can be searched by in the
<tt class="docutils literal"><span class="pre">FileNodeAdmin</span></tt>.</dd>
<dt><tt class="docutils literal"><span class="pre">MEDIA_TREE_UPLOAD_SUBDIR</span></tt></dt>
<dd><p class="first">Default: <tt class="docutils literal"><span class="pre">'upload'</span></tt></p>
<p class="last">The name of the folder under your <tt class="docutils literal"><span class="pre">MEDIA_ROOT</span></tt> where media files are stored.</p>
</dd>
<dt><tt class="docutils literal"><span class="pre">MEDIA_TREE_PREVIEW_SUBDIR</span></tt></dt>
<dd><p class="first">Default: <tt class="docutils literal"><span class="pre">'upload/_preview'</span></tt></p>
<p class="last">The name of the folder under your <tt class="docutils literal"><span class="pre">MEDIA_ROOT</span></tt> where cached versions of
media files, e.g. thumbnails, are stored.</p>
</dd>
<dt><tt class="docutils literal"><span class="pre">MEDIA_TREE_ICON_DIRS</span></tt></dt>
<dd><p class="first">Default:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">(</span>
    <span class="s">&#39;media_tree/img/icons/mimetypes&#39;</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
<p class="last">A tuple containing all icon directories. See <a class="reference internal" href="installation.html#install-icon-sets"><em>Installing icon sets</em></a>
for more information.</p>
</dd>
<dt><tt class="docutils literal"><span class="pre">MEDIA_TREE_THUMBNAIL_SIZES</span></tt></dt>
<dd><p class="first">A dictionary of default thumbnail sizes. You can pass the dictionary key to
the <tt class="docutils literal"><span class="pre">thumbnail</span></tt> templatetag instead of a numeric size.</p>
<p>Default:</p>
<div class="last highlight-python"><div class="highlight"><pre><span class="p">{</span>
    <span class="s">&#39;small&#39;</span><span class="p">:</span> <span class="p">(</span><span class="mi">80</span><span class="p">,</span> <span class="mi">80</span><span class="p">),</span>
    <span class="s">&#39;default&#39;</span><span class="p">:</span> <span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">),</span>
    <span class="s">&#39;medium&#39;</span><span class="p">:</span> <span class="p">(</span><span class="mi">250</span><span class="p">,</span> <span class="mi">250</span><span class="p">),</span>
    <span class="s">&#39;large&#39;</span><span class="p">:</span> <span class="p">(</span><span class="mi">400</span><span class="p">,</span> <span class="mi">400</span><span class="p">),</span>
    <span class="s">&#39;full&#39;</span><span class="p">:</span> <span class="bp">None</span><span class="p">,</span> <span class="c"># None means: use original size</span>
<span class="p">}</span>
</pre></div>
</div>
</dd>
<dt><tt class="docutils literal"><span class="pre">MEDIA_TREE_ALLOWED_FILE_TYPES</span></tt></dt>
<dd><p class="first">A whitelist of file extensions that can be uploaded. By default, this is a
comprehensive list of many common media file extensions that generally
shouldn&#8217;t pose a security risk.</p>
<div class="last admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Just because a file extension may be considered “safe”, there is
absolutely no guarantee that a skilled attacker couldn&#8217;t find an exploit.
You should only allow people you trust to upload files to your webserver.
Be careful when adding potentially unsafe file extensions to this
setting, such as executables or scripts, as this possibly opens a door to
attackers.</p>
</div>
</dd>
<dt><tt class="docutils literal"><span class="pre">MEDIA_TREE_THUMBNAIL_EXTENSIONS</span></tt></dt>
<dd><p class="first">Default: <tt class="docutils literal"><span class="pre">('jpg',</span> <span class="pre">'png')</span></tt></p>
<p class="last">A tuple of image extensions used for thumbnail files. Note that <tt class="docutils literal"><span class="pre">png</span></tt> is
in there since you typically might want to preserve the file type of PNG
images instead of converting them to JPG.</p>
</dd>
<dt><tt class="docutils literal"><span class="pre">MEDIA_TREE_FILE_SIZE_LIMIT</span></tt></dt>
<dd><p class="first">Default: <tt class="docutils literal"><span class="pre">1000000000</span> <span class="pre">#</span> <span class="pre">1</span> <span class="pre">GB</span></tt></p>
<p class="last">Maximum file size for uploaded files.</p>
</dd>
<dt><tt class="docutils literal"><span class="pre">MEDIA_TREE_SWFUPLOAD</span></tt></dt>
<dd><p class="first">Default: <tt class="xref docutils literal"><span class="pre">True</span></tt></p>
<p class="last">Toggles support for SWFUpload on or off. See
<a class="reference internal" href="installation.html#install-swfupload"><em>Installing SWFUpload</em></a> for more information.</p>
</dd>
<dt><tt class="docutils literal"><span class="pre">MEDIA_TREE_GLOBAL_THUMBNAIL_OPTIONS</span></tt></dt>
<dd><p class="first">A dictionary of options that should be applied by default when generating
thumbnails. You might use this, for instance, to sharpen all thumbnails:</p>
<div class="last highlight-python"><div class="highlight"><pre><span class="n">MEDIA_TREE_GLOBAL_THUMBNAIL_OPTIONS</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s">&#39;sharpen&#39;</span><span class="p">:</span> <span class="bp">True</span>
<span class="p">}</span>
</pre></div>
</div>
</dd>
</dl>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="templates.html"
                        title="previous chapter">Using FileNodes in templates</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="utils.html"
                        title="next chapter">FileNode Utility functions</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/configuration.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" size="18" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="utils.html" title="FileNode Utility functions"
             >next</a> |</li>
        <li class="right" >
          <a href="templates.html" title="Using FileNodes in templates"
             >previous</a> |</li>
        <li><a href="index.html">Django Media Tree v0.7.0 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2011, Samuel Luescher.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.0.7.
    </div>
  </body>
</html>