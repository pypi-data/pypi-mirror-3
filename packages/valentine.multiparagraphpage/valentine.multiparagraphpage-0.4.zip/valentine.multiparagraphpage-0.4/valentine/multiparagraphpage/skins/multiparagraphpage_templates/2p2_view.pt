<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      lang="en"
      metal:use-macro="here/main_template/macros/master"
      i18n:domain="structureddocument">

<body>

<div metal:fill-slot="main" tal:omit-tag="">

  <metal:main_macro define-macro="main"
		    tal:define="view context/@@multiparagraphpage_view">
    <div tal:replace="structure provider:plone.abovecontenttitle" />
    
    <h1 class="documentFirstHeading" tal:content="here/Title">Main title</h1>
    
    <div tal:replace="structure provider:plone.belowcontenttitle" />
    
    <p class="documentDescription hiddenStructure"
       tal:content="here/Description"
       tal:condition="here/Description">
      Description
    </p>
    
    <div tal:replace="structure provider:plone.abovecontentbody" />    
    
    <div tal:define="paragraphs view/getSlotsContent;
                     two_by_two python:len(paragraphs)==4"
	 tal:attributes="id python:test(two_by_two, 'two-by-two', '')">
      
      <tal:paragraphs repeat="p paragraphs">
	
	<tal:count tal:define="nr repeat/p/index;
                               start repeat/p/start;">
	  <div tal:condition="python: nr % 2 ==0"
	       class=""
	       tal:attributes="class python:test(two_by_two and start, 'paragraph-left first-two-by-two-paragraph first-two-by-two-paragraph','paragraph-left')">
	    <tal:paragraph
	       tal:replace="structure p" />
	  </div>
	  <div tal:condition="python: nr % 2 == 1"
	       class="paragraph-right" >
	    <tal:paragraph
	       tal:replace="structure p" />
	  </div>
	  <div id="toprow-line"  tal:condition="python:test(nr==1 and two_by_two)" ></div>
	</tal:count>
      </tal:paragraphs>
      
    </div>
    
    <div tal:replace="structure provider:plone.belowcontentbody" />
    
  </metal:main_macro>
  
</div>
</body>
</html>
