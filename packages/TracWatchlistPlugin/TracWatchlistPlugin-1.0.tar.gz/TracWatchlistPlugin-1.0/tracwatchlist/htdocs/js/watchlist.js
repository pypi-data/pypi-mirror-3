/* Javascript code for Trac Watchlist Plugin 
 * $Id: watchlist.js 11371 2012-03-10 20:27:00Z martin_s $
 * */
/* From http://chris-barr.com/entry/disable_text_selection_with_jquery/  */
$(function(){$.extend($.fn.disableTextSelect=function(){return this.each(function(){if($.browser.mozilla){$(this).css("MozUserSelect","none")}else{if($.browser.msie){$(this).bind("selectstart",function(){return false})}else{$(this).mousedown(function(){return false})}}})});$(".noSelect").disableTextSelect()});
/* */
function wlremoveempty(b){tdiv=$(b).parents("div.watchlist-parent").get(0);pdiv=$(tdiv).parent("div");$(tdiv).remove();$(pdiv).find("h2").removeClass("foldable");$(pdiv).find("p.noentrymessage").css("display","block");wlremmsgbox()}function wldeleterow(c,b){$(c).remove()}function wlresettodefault(){}function wlremmsgbox(){$("#message-box").remove()}jQuery(document).ready(function(){$("input.ackmsg").each(function(){$(this).disableTextSelect();$(this).click(function(){$(this).parents("div.system-message").hide(5).remove();return false})});$("td.unwatch a.plainlink").each(function(){$(this).click(function(){tr=$(this).parents("tr").get(0);table=$(tr).parents("table").get(0);$.ajax({url:$(this).attr("href")+"&async=true",success:function(b,c){wldeleterow(tr,table)}});return false})});$("td.notify a.plainlink").each(function(){$(this).click(function(){a=this;chkbox=$(this).children("input");$.ajax({url:$(this).attr("href")+"&async=true",success:function(b,c){if($(chkbox).attr("checked")){$(a).attr("href",$(a).attr("href").replace("action=notifyoff","action=notifyon"));$(chkbox).removeAttr("checked")}else{$(a).attr("href",$(a).attr("href").replace("action=notifyon","action=notifyoff"));$(chkbox).attr("checked","checked")}}});return false})});$(".foldable").enableFolding(false,false,true);$("a.newwindow").click(function(){window.open(this.href);return false});$("td a.more").click(function(){$(this).hide();$(this).parent().find(".moretext,.less").show()});$("td a.less").click(function(){$(this).hide();$(this).parent().find(".moretext").hide();$(this).parent().find(".more").show()});$("div#ctxtnav a").click(function(){$($(this).attr("href")+" div.collapsed").removeClass("collapsed");return true});if(location.hash){$(location.hash+" div.collapsed").removeClass("collapsed")}});