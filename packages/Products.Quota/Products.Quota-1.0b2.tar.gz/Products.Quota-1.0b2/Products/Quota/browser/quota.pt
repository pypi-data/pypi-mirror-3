<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      lang="en"
      metal:use-macro="here/main_template/macros/master"
      i18n:domain="quota">
<body>

<metal:main fill-slot="main">
    <tal:main-macro metal:define-macro="main"
                    tal:define="quota view/quota;
                                threshold view/threshold;
                                total view/total;
                                increment request/increment|nothing">

        <h1 class="documentFirstHeading">
            <span tal:content="context/Title"> Title or id </span>
        </h1>
        <dl class="portalMessage error" id="kssPortalMessage">
          <dt>ERROR</dt>
          <dd>QUOTA EXCEEDED</dd>
        </dl>

        <p>&nbsp;</p>

        <p class="documentDescription"
        i18n:translate="actual_quota_label">
            At the moment, this container has
                <span tal:content="total" i18n:name="total" /> MB.
        </p>
        <p class="documentDescription"
        i18n:translate="over_quota_label"
        tal:condition="increment">
            You were trying to add
                <span tal:content="increment" i18n:name="increment" /> Bytes.
        </p>

        <tal:view condition="not: view/can_edit">

          <p class="documentDescription"
             i18n:translate="no_quota_limit"
             tal:condition="python: quota==-1">
              This container has no quota limit
          </p>
  
          <tal:block tal:condition="python: quota>0">
              <p class="documentDescription"
              i18n:translate="quota_limit_label">
                  It has a quota limit of
                      <span tal:content="quota" i18n:name="limit" /> MB,
              </p>
              <p class="documentDescription"
              i18n:translate="hard_quota_limit_label">
                  with an additional threshold of
                      <span tal:content="threshold" i18n:name="threshold" /> MB.
              </p>
          </tal:block>
        </tal:view>
        <tal:edit condition="view/can_edit">
          <form method="POST" action="@@quota_edit">
              <p class="documentDescription">
                <span i18n:translate="quota_limit_label">
                  It has a quota limit of
                </span>
                <input type="text" name="max_size" size="5"
                       tal:attributes="value quota" /> MB,
              </p>
              <p class="documentDescription">
                <span i18n:translate="hard_quota_limit_label">
                  with an additional threshold of
                </span>
                <input type="text" name="threshold" size="5"
                       tal:attributes="value threshold" /> MB.
              </p>
              <p><input type="submit" class="standalone"
                        name="submit" value="save settings"
                        i18n:attributes="value save_settings" /></p>

          </form>
        </tal:edit>

    </tal:main-macro>
</metal:main>

</body>
</html>

