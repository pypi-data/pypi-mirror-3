<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<!--Converted with LaTeX2HTML 2008 (1.71)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>List Update</TITLE>
<META NAME="description" CONTENT="List Update">
<META NAME="keywords" CONTENT="Linklist">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META NAME="Generator" CONTENT="LaTeX2HTML v2008">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="Linklist.css">

<LINK REL="next" HREF="node17.html">
<LINK REL="previous" HREF="node15.html">
<LINK REL="up" HREF="node12.html">
<LINK REL="next" HREF="node17.html">
</HEAD>

<BODY >

<DIV CLASS="navigation"><!--Navigation Panel-->
<A NAME="tex2html234"
  HREF="node17.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next.png"></A> 
<A NAME="tex2html230"
  HREF="node12.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up.png"></A> 
<A NAME="tex2html224"
  HREF="node15.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="prev.png"></A> 
<A NAME="tex2html232"
  HREF="node2.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents" SRC="contents.png"></A>  
<BR>
<B> Next:</B> <A NAME="tex2html235"
  HREF="node17.html">Search</A>
<B> Up:</B> <A NAME="tex2html231"
  HREF="node12.html">Functions</A>
<B> Previous:</B> <A NAME="tex2html225"
  HREF="node15.html">Pointer Manipulation</A>
 &nbsp; <B>  <A NAME="tex2html233"
  HREF="node2.html">Contents</A></B> 
<BR>
<BR></DIV>
<!--End of Navigation Panel-->

<H2><A NAME="SECTION000104000000000000000">
List Update</A>
</H2>
<DL>
<DT><STRONG>NAME</STRONG></DT>
<DD>&nbsp;&nbsp;&nbsp;&nbsp;
<BR>
DLL_AddRecord, DLL_InsertRecord, DLL_SwapRecord,
<BR>
DLL_UpdateCurrentRecord, DLL_DeleteCurrentRecord,
<BR>
DLL_DeleteEntireList

<P>
</DD>
<DT><STRONG>SYNOPSIS</STRONG></DT>
<DD><PRE>
#include &lt;linklist.h&gt;

DLL_Return DLL_AddRecord(List *list, Info *info,
                         int (*pFun)(Info *, Info *));
DLL_Return DLL_InsertRecord(List *list, Info *info,
                            DLL_InsertDir dir);
DLL_Return DLL_SwapRecord(List *list, DLL_InsertDir dir);
DLL_Return DLL_UpdateCurrentRecord(List *list,
                                   Info *record);
DLL_Return DLL_DeleteCurrentRecord(List *list);
DLL_Return DLL_DeleteEntireList(List *list);
</PRE>

<P>
</DD>
<DT><STRONG>DESCRIPTION</STRONG></DT>
<DD>&nbsp;&nbsp;&nbsp;&nbsp;
<BR>
These functions manipulate the data in the link list.  They all return the enumerated type <SPAN  CLASS="textit">DLL_Return</SPAN> and take as their first argument, <SPAN  CLASS="textbf">list</SPAN>, the pointer returned by <SPAN  CLASS="textit">DLL_CreateList</SPAN>.

<P>
<DL>
<DT><STRONG>DLL_AddRecord</STRONG></DT>
<DD>&nbsp;&nbsp;&nbsp;&nbsp;
<BR>
This function adds a new node and record to the link list.  The second argument is a pointer to the <SPAN  CLASS="textit">Info</SPAN> structure where the new data is stored.  The third argument is a pointer to a function used to sort the insertion of the new data.  The return value of this function is identical to the return value of the <SPAN  CLASS="textit">strcmp</SPAN> function of the standard C library.
<BR>
<BR>

<P>
Where the return value is
<PRE>
   less than zero:     arg1 &lt; arg2,

   zero:               arg1 == arg2, or

   greater than zero:  arg1 &gt; arg2.
</PRE>

<P>
Below is an example of this function:

<P>
<PRE>
   int sort_foo(Info *record, Info *compare)
      {
      return(strcmp(record-&gt;info_element,
                    compare-&gt;info_element));
      }
</PRE>

<P>
If a <SPAN  CLASS="textit">NULL</SPAN> is passed instead of the function pointer no sorting will take place causing the next new node and record to be added to the tail of the list.  A return value of <SPAN  CLASS="textbf">DLL_MEM_ERROR</SPAN> indicates that memory could not be allocated and <SPAN  CLASS="textbf">DLL_NORMAL</SPAN> indicates that the function succeeded in its task.

<P>
</DD>
<DT><STRONG>DLL_InsertRecord</STRONG></DT>
<DD>&nbsp;&nbsp;&nbsp;&nbsp;
<BR>
This function adds a new node and record to the link list above or below current record.  The new record will be current after completion.  The second argument is a pointer to the <SPAN  CLASS="textit">Info</SPAN> structure where the new data is stored.  The third argument is passed an enumerated define of type <SPAN  CLASS="textit">DLL_InsertDir</SPAN>.

<P>
<PRE>
typedef enum
   {
   DLL_INSERT_DEFAULT, /* Use current insert setting */
   DLL_ABOVE,          /* Insert new record ABOVE current record */
   DLL_BELOW           /* Insert new record BELOW current record */ 
   } DLL_InsertDir;
</PRE>
<P>
In the current version the value <SPAN  CLASS="textbf">DLL_INSERT_DEFAULT</SPAN> is not used; it has been included for conformity to other like definitions and possible future expansion.
<BR>
<BR>

<P>
The value <SPAN  CLASS="textbf">DLL_NOT_MODIFIED</SPAN>, if returned, indicates that a wrong value was passed in the argument <SPAN  CLASS="textit">dir</SPAN>; <SPAN  CLASS="textbf">DLL_MEM_ERROR</SPAN> indicates that memory could not be allocated; and <SPAN  CLASS="textbf">DLL_NORMAL</SPAN> indicates that the function succeeded in its task.

<P>
</DD>
<DT><STRONG>DLL_SwapRecord</STRONG></DT>
<DD>&nbsp;&nbsp;&nbsp;&nbsp;
<BR>
This function swaps the current record up or down one place in the list.  The swapped record will remain current after completion.  The second argument is passed the same enumerated define of type <SPAN  CLASS="textit">DLL_InsertDir</SPAN> as the function <SPAN  CLASS="textbf">DLL_InsertRecord</SPAN> above.  The value <SPAN  CLASS="textbf">DLL_NOT_MODIFIED</SPAN>, if returned, indicates that a value other than the type <SPAN  CLASS="textit">DLL_InsertDir</SPAN> was passed in the argument <SPAN  CLASS="textit">dir</SPAN>; <SPAN  CLASS="textbf">DLL_NULL_LIST</SPAN> indicates that the list is empty and there are no nodes to swap; <SPAN  CLASS="textbf">DLL_NOT_FOUND</SPAN> indicates that the current node is either at the head and cannot be swapped above or is at the tail and cannot be swapped below; and <SPAN  CLASS="textbf">DLL_NORMAL</SPAN> indicates that the function succeeded in its task.

<P>
</DD>
<DT><STRONG>DLL_UpdateCurrentRecord</STRONG></DT>
<DD>&nbsp;&nbsp;&nbsp;&nbsp;
<BR>
This function replaces the current data in an <SPAN  CLASS="textit">Info</SPAN> structure with updated data from the application.  The entire structure gets overwritten so all elements in the updating structure will need to be present whether or not they have been changed.  The second argument of this function is passed a pointer to an <SPAN  CLASS="textit">Info</SPAN> structure which contains the updated information.  The value <SPAN  CLASS="textbf">DLL_NULL_LIST</SPAN>, if returned, indicates that the list is empty and <SPAN  CLASS="textbf">DLL_NORMAL</SPAN> indicates that the function succeeded in its task.

<P>
</DD>
<DT><STRONG>DLL_DeleteCurrentRecord</STRONG></DT>
<DD>&nbsp;&nbsp;&nbsp;&nbsp;
<BR>
This function deletes the current <SPAN  CLASS="textit">Node</SPAN> and its <SPAN  CLASS="textit">Info</SPAN> structures from the list.  The value <SPAN  CLASS="textbf">DLL_NULL_LIST</SPAN>, if returned, indicates that the list is empty and <SPAN  CLASS="textbf">DLL_NORMAL</SPAN> indicates that the function succeeded in its task.

<P>
</DD>
<DT><STRONG>DLL_DeleteEntireList</STRONG></DT>
<DD>&nbsp;&nbsp;&nbsp;&nbsp;
<BR>
This function deletes all the <SPAN  CLASS="textit">Node</SPAN> and <SPAN  CLASS="textit">Info</SPAN> structures from the list.  It does not delete the <SPAN  CLASS="textit">Top Level Struct</SPAN> allowing the application to add new records without having to reinitialize the list again.  The value <SPAN  CLASS="textbf">DLL_NULL_LIST</SPAN>, if returned, indicates that the list is empty and <SPAN  CLASS="textbf">DLL_NORMAL</SPAN> indicates that the function succeeded in its task.
</DD>
</DL>

<P>
</DD>
<DT><STRONG>EXAMPLE</STRONG></DT>
<DD>&nbsp;&nbsp;&nbsp;&nbsp;
<BR>
Examples of most of these functions can be seen in the source file <SPAN  CLASS="textit">dll_test.c</SPAN> used in the testing of the link list API.

<P>
</DD>
</DL>

<P>

<DIV CLASS="navigation"><HR>
<!--Navigation Panel-->
<A NAME="tex2html234"
  HREF="node17.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next.png"></A> 
<A NAME="tex2html230"
  HREF="node12.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up.png"></A> 
<A NAME="tex2html224"
  HREF="node15.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="prev.png"></A> 
<A NAME="tex2html232"
  HREF="node2.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents" SRC="contents.png"></A>  
<BR>
<B> Next:</B> <A NAME="tex2html235"
  HREF="node17.html">Search</A>
<B> Up:</B> <A NAME="tex2html231"
  HREF="node12.html">Functions</A>
<B> Previous:</B> <A NAME="tex2html225"
  HREF="node15.html">Pointer Manipulation</A>
 &nbsp; <B>  <A NAME="tex2html233"
  HREF="node2.html">Contents</A></B> </DIV>
<!--End of Navigation Panel-->
<ADDRESS>
Carl J. Nobile
2012-01-17
</ADDRESS>
</BODY>
</HTML>
