

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>aglyph.cache — Simple object caching support for Aglyph &mdash; Aglyph v1.1.0 documentation</title>
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '1.1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="Aglyph v1.1.0 documentation" href="index.html" />
    <link rel="up" title="Aglyph API reference" href="api-ref.html" />
    <link rel="next" title="aglyph.component — Defining components and their dependencies" href="aglyph.component.html" />
    <link rel="prev" title="aglyph.binder — The Aglyph component binder" href="aglyph.binder.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="aglyph.component.html" title="aglyph.component — Defining components and their dependencies"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="aglyph.binder.html" title="aglyph.binder — The Aglyph component binder"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">Aglyph v1.1.0 documentation</a> &raquo;</li>
          <li><a href="api-ref.html" accesskey="U">Aglyph API reference</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="module-aglyph.cache">
<span id="aglyph-cache-simple-object-caching-support-for-aglyph"></span><h1><a class="reference internal" href="#module-aglyph.cache" title="aglyph.cache"><tt class="xref py py-mod docutils literal"><span class="pre">aglyph.cache</span></tt></a> &#8212; Simple object caching support for Aglyph<a class="headerlink" href="#module-aglyph.cache" title="Permalink to this headline">¶</a></h1>
<p>The classes in this module define mapping types that use lock objects
for synchronization.</p>
<p>Atomic &#8220;check-then-act&#8221; operations can be performed by acquiring the
cache lock, performing the check-then-act sequence, and finally
releasing the cache lock.</p>
<dl class="class">
<dt id="aglyph.cache.MutexCache">
<em class="property">class </em><tt class="descclassname">aglyph.cache.</tt><tt class="descname">MutexCache</tt><a class="reference internal" href="_modules/aglyph/cache.html#MutexCache"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aglyph.cache.MutexCache" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">aglyph.cache._LockingCache</span></tt></p>
<p>A mapping that uses a primitive lock to synchronize access.</p>
<p>If the lock is held, any attempt to acquire it will block until the
holding thread releases the lock.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">cache</span> <span class="o">=</span> <span class="n">MutexCache</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cache</span><span class="o">.</span><span class="n">lock</span><span class="o">.</span><span class="n">locked</span><span class="p">()</span>
<span class="go">False</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">cache</span><span class="o">.</span><span class="n">lock</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">cache</span><span class="o">.</span><span class="n">lock</span><span class="o">.</span><span class="n">locked</span><span class="p">()</span>
<span class="gp">...</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cache</span><span class="o">.</span><span class="n">lock</span><span class="o">.</span><span class="n">locked</span><span class="p">()</span>
<span class="go">False</span>
</pre></div>
</div>
</dd></dl>

<dl class="class">
<dt id="aglyph.cache.ReentrantMutexCache">
<em class="property">class </em><tt class="descclassname">aglyph.cache.</tt><tt class="descname">ReentrantMutexCache</tt><a class="reference internal" href="_modules/aglyph/cache.html#ReentrantMutexCache"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aglyph.cache.ReentrantMutexCache" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <tt class="xref py py-class docutils literal"><span class="pre">aglyph.cache._LockingCache</span></tt></p>
<p>A mapping that uses a reentrant lock to synchronize access.</p>
<p>If the lock is held, any attempt to acquire it by a thread OTHER
than the holding thread will block until the holding thread releases
the lock. (A reentrant mutex permits the same thread to acquire the
same lock more than once, allowing nested access to a shared
resource by a single thread.)</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">cache</span> <span class="o">=</span> <span class="n">ReentrantMutexCache</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cache</span><span class="o">.</span><span class="n">lock</span><span class="o">.</span><span class="n">_count</span>
<span class="go">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">cache</span><span class="o">.</span><span class="n">lock</span><span class="p">:</span>
<span class="gp">... </span>    <span class="n">cache</span><span class="o">.</span><span class="n">lock</span><span class="o">.</span><span class="n">_count</span>
<span class="gp">... </span>    <span class="k">with</span> <span class="n">cache</span><span class="o">.</span><span class="n">lock</span><span class="p">:</span>
<span class="gp">... </span>        <span class="n">cache</span><span class="o">.</span><span class="n">lock</span><span class="o">.</span><span class="n">_count</span>
<span class="gp">... </span>
<span class="go">1</span>
<span class="go">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cache</span><span class="o">.</span><span class="n">lock</span><span class="o">.</span><span class="n">_count</span>
<span class="go">0</span>
</pre></div>
</div>
</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="aglyph.binder.html"
                        title="previous chapter"><tt class="docutils literal docutils literal docutils literal"><span class="pre">aglyph.binder</span></tt> &#8212; The Aglyph component binder</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="aglyph.component.html"
                        title="next chapter"><tt class="docutils literal"><span class="pre">aglyph.component</span></tt> &#8212; Defining components and their dependencies</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/aglyph.cache.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" size="18" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="aglyph.component.html" title="aglyph.component — Defining components and their dependencies"
             >next</a> |</li>
        <li class="right" >
          <a href="aglyph.binder.html" title="aglyph.binder — The Aglyph component binder"
             >previous</a> |</li>
        <li><a href="index.html">Aglyph v1.1.0 documentation</a> &raquo;</li>
          <li><a href="api-ref.html" >Aglyph API reference</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2006-2011, Matthew Zipay.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.0.7.
    </div>
  </body>
</html>