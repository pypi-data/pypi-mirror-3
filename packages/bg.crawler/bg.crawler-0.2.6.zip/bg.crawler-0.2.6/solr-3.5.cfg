[buildout]
parts =
    solr-download
    solr-instance

[versions]
collective.recipe.solrinstance = 3.6
gocept.download = 0.9.5


[solr-download]
recipe = hexagonit.recipe.download
download-directory = parts/solr-download
strip-top-level-dir = true
url = http://ftp-stud.hs-esslingen.de/pub/Mirrors/ftp.apache.org/dist//lucene/solr/3.5.0/apache-solr-3.5.0.tgz
ignore-existing = true

[solr-instance]
recipe = collective.recipe.solrinstance
solr-location = ${solr-download:location}
host = 0.0.0.0
port = 8983
logdir = ${buildout:directory}/var/solr
logging-template = ${buildout:directory}/templates/logging.properties.tmpl
max-num-results = 500
section-name = SOLR
unique-key = id
default-search-field = text
filter = 
    text solr.StopFilterFactory ignoreCase="true" words="stopwords.txt"
    text solr.WordDelimiterFilterFactory generateWordParts="1" generateNumberParts="1" catenateWords="0" catencatenateAll="0"
    text solr.LowerCaseFilterFactory 
    text solr.RemoveDuplicatesTokenFilterFactory 

index =
    name:text             type:text    stored:true
    name:title            type:text    stored:true
    name:created          type:date    stored:true required:true
    name:modified         type:date    stored:true 
    name:filesize         type:integer stored:true 
    name:mimetype         type:string  stored:true
    name:id               type:string  stored:true required:true
    name:relpath          type:string  stored:true
    name:fullpath         type:string  stored:true
    name:renderurl        type:string  stored:true
    name:tag              type:string  stored:true
