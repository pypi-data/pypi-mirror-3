
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>API Details &mdash; Alembic v0.1.0 documentation</title>
    <link rel="stylesheet" href="_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="Alembic v0.1.0 documentation" href="index.html" />
    <link rel="prev" title="Operation Reference" href="ops.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="ops.html" title="Operation Reference"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">Alembic v0.1.0 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="api-details">
<h1>API Details<a class="headerlink" href="#api-details" title="Permalink to this headline">¶</a></h1>
<p>This section describes some key functions used within the migration process, particularly those referenced within
a migration environment&#8217;s <tt class="docutils literal"><span class="pre">env.py</span></tt> file.</p>
<div class="section" id="env-py-directives">
<h2>env.py Directives<a class="headerlink" href="#env-py-directives" title="Permalink to this headline">¶</a></h2>
<p>The <a class="reference internal" href="#module-alembic.context" title="alembic.context"><tt class="xref py py-mod docutils literal"><span class="pre">alembic.context</span></tt></a> module contains API features that are generally used within
<tt class="docutils literal"><span class="pre">env.py</span></tt> files.</p>
<p>The central object in use is the <a class="reference internal" href="#alembic.context.Context" title="alembic.context.Context"><tt class="xref py py-class docutils literal"><span class="pre">Context</span></tt></a> object.   This object is
made present when the <tt class="docutils literal"><span class="pre">env.py</span></tt> script calls upon the <a class="reference internal" href="#alembic.context.configure" title="alembic.context.configure"><tt class="xref py py-func docutils literal"><span class="pre">configure()</span></tt></a>
method for the first time.  Before this function is called, there&#8217;s not
yet any database connection or dialect-specific state set up, and those
functions which require this state will raise an exception when used,
until <a class="reference internal" href="#alembic.context.configure" title="alembic.context.configure"><tt class="xref py py-func docutils literal"><span class="pre">configure()</span></tt></a> is called successfully.</p>
<dl class="function">
<dt id="sqlalchemy.engine.engine_from_config">
<tt class="descclassname">sqlalchemy.engine.</tt><tt class="descname">engine_from_config</tt><big>(</big><em>configuration</em>, <em>prefix='sqlalchemy.'</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#sqlalchemy.engine.engine_from_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a new Engine instance using a configuration dictionary.</p>
<p>The dictionary is typically produced from a config file where keys
are prefixed, such as sqlalchemy.url, sqlalchemy.echo, etc.  The
&#8216;prefix&#8217; argument indicates the prefix to be searched for.</p>
<p>A select set of keyword arguments will be &#8220;coerced&#8221; to their
expected type based on string values.  In a future release, this
functionality will be expanded and include dialect-specific
arguments.</p>
</dd></dl>

<span class="target" id="module-alembic.context"></span><dl class="class">
<dt id="alembic.context.Context">
<em class="property">class </em><tt class="descclassname">alembic.context.</tt><tt class="descname">Context</tt><big>(</big><em>dialect</em>, <em>script</em>, <em>connection</em>, <em>fn</em>, <em>as_sql=False</em>, <em>output_buffer=None</em>, <em>transactional_ddl=None</em>, <em>starting_rev=None</em>, <em>compare_type=False</em>, <em>compare_server_default=False</em><big>)</big><a class="headerlink" href="#alembic.context.Context" title="Permalink to this definition">¶</a></dt>
<dd><p>Maintains state throughout the migration running process.</p>
<p>Mediates the relationship between an <tt class="docutils literal"><span class="pre">env.py</span></tt> environment script, 
a <a class="reference internal" href="#alembic.script.ScriptDirectory" title="alembic.script.ScriptDirectory"><tt class="xref py py-class docutils literal"><span class="pre">ScriptDirectory</span></tt></a> instance, and a <a class="reference internal" href="#alembic.ddl.impl.DefaultImpl" title="alembic.ddl.impl.DefaultImpl"><tt class="xref py py-class docutils literal"><span class="pre">DefaultImpl</span></tt></a> instance.</p>
<p>The <a class="reference internal" href="#alembic.context.Context" title="alembic.context.Context"><tt class="xref py py-class docutils literal"><span class="pre">Context</span></tt></a> is available directly via the <a class="reference internal" href="#alembic.context.get_context" title="alembic.context.get_context"><tt class="xref py py-func docutils literal"><span class="pre">get_context()</span></tt></a> function,
though usually it is referenced behind the scenes by the various module level functions
within the <a class="reference internal" href="#module-alembic.context" title="alembic.context"><tt class="xref py py-mod docutils literal"><span class="pre">alembic.context</span></tt></a> module.</p>
<dl class="attribute">
<dt id="alembic.context.Context.bind">
<tt class="descname">bind</tt><a class="headerlink" href="#alembic.context.Context.bind" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the current &#8220;bind&#8221;.</p>
<p>In online mode, this is an instance of
<a class="reference external" href="http://www.sqlalchemy.org/docs/core/connections.html#sqlalchemy.engine.base.Connection" title="(in SQLAlchemy v0.7)"><tt class="xref py py-class docutils literal"><span class="pre">sqlalchemy.engine.base.Connection</span></tt></a>, and is suitable
for ad-hoc execution of any kind of usage described 
in <a class="reference external" href="http://www.sqlalchemy.org/docs/core/tutorial.html#sqlexpression-toplevel" title="(in SQLAlchemy v0.7)"><em>SQL Expression Language Tutorial</em></a> as well as 
for usage with the <a class="reference external" href="http://www.sqlalchemy.org/docs/core/schema.html#sqlalchemy.schema.Table.create" title="(in SQLAlchemy v0.7)"><tt class="xref py py-meth docutils literal"><span class="pre">sqlalchemy.schema.Table.create()</span></tt></a>
and <a class="reference external" href="http://www.sqlalchemy.org/docs/core/schema.html#sqlalchemy.schema.MetaData.create_all" title="(in SQLAlchemy v0.7)"><tt class="xref py py-meth docutils literal"><span class="pre">sqlalchemy.schema.MetaData.create_all()</span></tt></a> methods
of <tt class="xref py py-class docutils literal"><span class="pre">Table</span></tt>, <tt class="xref py py-class docutils literal"><span class="pre">MetaData</span></tt>.</p>
<p>Note that when &#8220;standard output&#8221; mode is enabled, 
this bind will be a &#8220;mock&#8221; connection handler that cannot
return results and is only appropriate for a very limited
subset of commands.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="alembic.context.begin_transaction">
<tt class="descclassname">alembic.context.</tt><tt class="descname">begin_transaction</tt><big>(</big><big>)</big><a class="headerlink" href="#alembic.context.begin_transaction" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a context manager that will 
enclose an operation within a &#8220;transaction&#8221;,
as defined by the environment&#8217;s offline
and transactional DDL settings.</p>
<p>e.g.:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">with</span> <span class="n">context</span><span class="o">.</span><span class="n">begin_transaction</span><span class="p">():</span>
    <span class="n">context</span><span class="o">.</span><span class="n">run_migrations</span><span class="p">()</span>
</pre></div>
</div>
<p><a class="reference internal" href="#alembic.context.begin_transaction" title="alembic.context.begin_transaction"><tt class="xref py py-func docutils literal"><span class="pre">begin_transaction()</span></tt></a> is intended to
&#8220;do the right thing&#8221; regardless of 
calling context:</p>
<ul class="simple">
<li>If <a class="reference internal" href="#alembic.context.is_transactional_ddl" title="alembic.context.is_transactional_ddl"><tt class="xref py py-func docutils literal"><span class="pre">is_transactional_ddl()</span></tt></a> is <tt class="xref docutils literal"><span class="pre">False</span></tt>,
returns a &#8220;do nothing&#8221; context manager
which otherwise produces no transactional
state or directives.</li>
<li>If <a class="reference internal" href="#alembic.context.is_offline_mode" title="alembic.context.is_offline_mode"><tt class="xref py py-func docutils literal"><span class="pre">is_offline_mode()</span></tt></a> is <tt class="xref docutils literal"><span class="pre">True</span></tt>,
returns a context manager that will
invoke the <a class="reference internal" href="#alembic.ddl.impl.DefaultImpl.emit_begin" title="alembic.ddl.impl.DefaultImpl.emit_begin"><tt class="xref py py-meth docutils literal"><span class="pre">DefaultImpl.emit_begin()</span></tt></a>
and <a class="reference internal" href="#alembic.ddl.impl.DefaultImpl.emit_commit" title="alembic.ddl.impl.DefaultImpl.emit_commit"><tt class="xref py py-meth docutils literal"><span class="pre">DefaultImpl.emit_commit()</span></tt></a>
methods, which will produce the string
directives <tt class="docutils literal"><span class="pre">BEGIN</span></tt> and <tt class="docutils literal"><span class="pre">COMMIT</span></tt> on
the output stream, as rendered by the
target backend (e.g. SQL Server would
emit <tt class="docutils literal"><span class="pre">BEGIN</span> <span class="pre">TRANSACTION</span></tt>).</li>
<li>Otherwise, calls <a class="reference external" href="http://www.sqlalchemy.org/docs/core/connections.html#sqlalchemy.engine.base.Connection.begin" title="(in SQLAlchemy v0.7)"><tt class="xref py py-meth docutils literal"><span class="pre">sqlalchemy.engine.base.Connection.begin()</span></tt></a>
on the current online connection, which
returns a <a class="reference external" href="http://www.sqlalchemy.org/docs/core/connections.html#sqlalchemy.engine.base.Transaction" title="(in SQLAlchemy v0.7)"><tt class="xref py py-class docutils literal"><span class="pre">sqlalchemy.engine.base.Transaction</span></tt></a>
object.  This object demarcates a real
transaction and is itself a context manager,
which will roll back if an exception
is raised.</li>
</ul>
<p>Note that a custom <tt class="docutils literal"><span class="pre">env.py</span></tt> script which 
has more specific transactional needs can of course
manipulate the <a class="reference external" href="http://www.sqlalchemy.org/docs/core/connections.html#sqlalchemy.engine.base.Connection" title="(in SQLAlchemy v0.7)"><tt class="xref py py-class docutils literal"><span class="pre">Connection</span></tt></a>
directly to produce transactional state in &#8220;online&#8221;
mode.</p>
</dd></dl>

<dl class="data">
<dt id="alembic.context.config">
<tt class="descclassname">alembic.context.</tt><tt class="descname">config</tt><a class="headerlink" href="#alembic.context.config" title="Permalink to this definition">¶</a></dt>
<dd><p>The current <a class="reference internal" href="#alembic.config.Config" title="alembic.config.Config"><tt class="xref py py-class docutils literal"><span class="pre">Config</span></tt></a> object.</p>
<p>This is the gateway to the <tt class="docutils literal"><span class="pre">alembic.ini</span></tt> or other
.ini file in use for the current command.</p>
<p>This function does not require that the <a class="reference internal" href="#alembic.context.Context" title="alembic.context.Context"><tt class="xref py py-class docutils literal"><span class="pre">Context</span></tt></a>
has been configured.</p>
</dd></dl>

<dl class="function">
<dt id="alembic.context.configure">
<tt class="descclassname">alembic.context.</tt><tt class="descname">configure</tt><big>(</big><em>connection=None</em>, <em>url=None</em>, <em>dialect_name=None</em>, <em>transactional_ddl=None</em>, <em>output_buffer=None</em>, <em>starting_rev=None</em>, <em>tag=None</em>, <em>target_metadata=None</em>, <em>compare_type=False</em>, <em>compare_server_default=False</em>, <em>upgrade_token='upgrades'</em>, <em>downgrade_token='downgrades'</em>, <em>sqlalchemy_module_prefix='sa.'</em>, <em>**kw</em><big>)</big><a class="headerlink" href="#alembic.context.configure" title="Permalink to this definition">¶</a></dt>
<dd><p>Configure the migration environment.</p>
<p>The important thing needed here is first a way to figure out
what kind of &#8220;dialect&#8221; is in use.   The second is to pass
an actual database connection, if one is required.</p>
<p>If the <a class="reference internal" href="#alembic.context.is_offline_mode" title="alembic.context.is_offline_mode"><tt class="xref py py-func docutils literal"><span class="pre">is_offline_mode()</span></tt></a> function returns <tt class="xref docutils literal"><span class="pre">True</span></tt>,
then no connection is needed here.  Otherwise, the
<tt class="docutils literal"><span class="pre">connection</span></tt> parameter should be present as an 
instance of <a class="reference external" href="http://www.sqlalchemy.org/docs/core/connections.html#sqlalchemy.engine.base.Connection" title="(in SQLAlchemy v0.7)"><tt class="xref py py-class docutils literal"><span class="pre">sqlalchemy.engine.base.Connection</span></tt></a>.</p>
<p>This function is typically called from the <tt class="docutils literal"><span class="pre">env.py</span></tt>
script within a migration environment.  It can be called
multiple times for an invocation.  The most recent <a class="reference external" href="http://www.sqlalchemy.org/docs/core/connections.html#sqlalchemy.engine.base.Connection" title="(in SQLAlchemy v0.7)"><tt class="xref py py-class docutils literal"><span class="pre">Connection</span></tt></a>
for which it was called is the one that will be operated upon
by the next call to <a class="reference internal" href="#alembic.context.run_migrations" title="alembic.context.run_migrations"><tt class="xref py py-func docutils literal"><span class="pre">run_migrations()</span></tt></a>.</p>
<p>General parameters:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>connection</strong> &#8211; a <a class="reference external" href="http://www.sqlalchemy.org/docs/core/connections.html#sqlalchemy.engine.base.Connection" title="(in SQLAlchemy v0.7)"><tt class="xref py py-class docutils literal"><span class="pre">Connection</span></tt></a> to use
for SQL execution in &#8220;online&#8221; mode.  When present, is also used to 
determine the type of dialect in use.</li>
<li><strong>url</strong> &#8211; a string database url, or a <a class="reference external" href="http://www.sqlalchemy.org/docs/core/engines.html#sqlalchemy.engine.url.URL" title="(in SQLAlchemy v0.7)"><tt class="xref py py-class docutils literal"><span class="pre">sqlalchemy.engine.url.URL</span></tt></a> object.
The type of dialect to be used will be derived from this if <tt class="docutils literal"><span class="pre">connection</span></tt> is
not passed.</li>
<li><strong>dialect_name</strong> &#8211; string name of a dialect, such as &#8220;postgresql&#8221;, &#8220;mssql&#8221;, etc.
The type of dialect to be used will be derived from this if <tt class="docutils literal"><span class="pre">connection</span></tt>
and <tt class="docutils literal"><span class="pre">url</span></tt> are not passed.</li>
<li><strong>transactional_ddl</strong> &#8211; Force the usage of &#8220;transactional&#8221; DDL on or off;
this otherwise defaults to whether or not the dialect in use supports it.</li>
<li><strong>output_buffer</strong> &#8211; a file-like object that will be used for textual output
when the <tt class="docutils literal"><span class="pre">--sql</span></tt> option is used to generate SQL scripts.  Defaults to
<tt class="docutils literal"><span class="pre">sys.stdout</span></tt> if not passed here and also not present on the <a class="reference internal" href="#alembic.config.Config" title="alembic.config.Config"><tt class="xref py py-class docutils literal"><span class="pre">Config</span></tt></a>
object.  The value here overrides that of the <a class="reference internal" href="#alembic.config.Config" title="alembic.config.Config"><tt class="xref py py-class docutils literal"><span class="pre">Config</span></tt></a> object.</li>
<li><strong>starting_rev</strong> &#8211; Override the &#8220;starting revision&#8221; argument when using
<tt class="docutils literal"><span class="pre">--sql</span></tt> mode.</li>
<li><strong>tag</strong> &#8211; a string tag for usage by custom <tt class="docutils literal"><span class="pre">env.py</span></tt> scripts.  Set via
the <tt class="docutils literal"><span class="pre">--tag</span></tt> option, can be overridden here.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Parameters specific to the autogenerate feature, when <tt class="docutils literal"><span class="pre">alembic</span> <span class="pre">revision</span></tt>
is run with the <tt class="docutils literal"><span class="pre">--autogenerate</span></tt> feature:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>target_metadata</strong> &#8211; a <a class="reference external" href="http://www.sqlalchemy.org/docs/core/schema.html#sqlalchemy.schema.MetaData" title="(in SQLAlchemy v0.7)"><tt class="xref py py-class docutils literal"><span class="pre">sqlalchemy.schema.MetaData</span></tt></a> object that
will be consulted during autogeneration.  The tables present will be compared against
what is locally available on the target <a class="reference external" href="http://www.sqlalchemy.org/docs/core/connections.html#sqlalchemy.engine.base.Connection" title="(in SQLAlchemy v0.7)"><tt class="xref py py-class docutils literal"><span class="pre">Connection</span></tt></a>
to produce candidate upgrade/downgrade operations.</li>
<li><strong>compare_type</strong> &#8211; <p>Indicates type comparison behavior during an autogenerate
operation.  Defaults to <tt class="xref docutils literal"><span class="pre">False</span></tt> which disables type comparison.  Set to 
<tt class="xref docutils literal"><span class="pre">True</span></tt> to turn on default type comparison, which has varied accuracy depending
on backend.</p>
<p>To customize type comparison behavior, a callable may be specified which
can filter type comparisons during an autogenerate operation.   The format of 
this callable is:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">def</span> <span class="nf">my_compare_type</span><span class="p">(</span><span class="n">context</span><span class="p">,</span> <span class="n">inspected_column</span><span class="p">,</span> 
            <span class="n">metadata_column</span><span class="p">,</span> <span class="n">inspected_type</span><span class="p">,</span> <span class="n">metadata_type</span><span class="p">):</span>
    <span class="c"># return True if the types are different,</span>
    <span class="c"># False if not, or None to allow the default implementation</span>
    <span class="c"># to compare these types</span>
    <span class="k">pass</span>
</pre></div>
</div>
<p><tt class="docutils literal"><span class="pre">inspected_column</span></tt> is a dictionary structure as returned by
<a class="reference external" href="http://www.sqlalchemy.org/docs/core/schema.html#sqlalchemy.engine.reflection.Inspector.get_columns" title="(in SQLAlchemy v0.7)"><tt class="xref py py-meth docutils literal"><span class="pre">sqlalchemy.engine.reflection.Inspector.get_columns()</span></tt></a>, whereas
<tt class="docutils literal"><span class="pre">metadata_column</span></tt> is a <a class="reference external" href="http://www.sqlalchemy.org/docs/core/schema.html#sqlalchemy.schema.Column" title="(in SQLAlchemy v0.7)"><tt class="xref py py-class docutils literal"><span class="pre">sqlalchemy.schema.Column</span></tt></a> from
the local model environment.</p>
<p>A return value of <tt class="xref docutils literal"><span class="pre">None</span></tt> indicates to allow default type comparison to
proceed.</p>
</li>
<li><strong>compare_server_default</strong> &#8211; <p>Indicates server default comparison behavior during 
an autogenerate operation.  Defaults to <tt class="xref docutils literal"><span class="pre">False</span></tt> which disables server default 
comparison.  Set to  <tt class="xref docutils literal"><span class="pre">True</span></tt> to turn on server default comparison, which has 
varied accuracy depending on backend.</p>
<p>To customize server default comparison behavior, a callable may be specified
which can filter server default comparisons during an autogenerate operation.
defaults during an autogenerate operation.   The format of this callable is:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">def</span> <span class="nf">my_compare_server_default</span><span class="p">(</span><span class="n">context</span><span class="p">,</span> <span class="n">inspected_column</span><span class="p">,</span> 
            <span class="n">metadata_column</span><span class="p">,</span> <span class="n">inspected_default</span><span class="p">,</span> <span class="n">metadata_default</span><span class="p">,</span>
            <span class="n">rendered_metadata_default</span><span class="p">):</span>
    <span class="c"># return True if the defaults are different,</span>
    <span class="c"># False if not, or None to allow the default implementation</span>
    <span class="c"># to compare these defaults</span>
    <span class="k">pass</span>
</pre></div>
</div>
<p><tt class="docutils literal"><span class="pre">inspected_column</span></tt> is a dictionary structure as returned by
<a class="reference external" href="http://www.sqlalchemy.org/docs/core/schema.html#sqlalchemy.engine.reflection.Inspector.get_columns" title="(in SQLAlchemy v0.7)"><tt class="xref py py-meth docutils literal"><span class="pre">sqlalchemy.engine.reflection.Inspector.get_columns()</span></tt></a>, whereas
<tt class="docutils literal"><span class="pre">metadata_column</span></tt> is a <a class="reference external" href="http://www.sqlalchemy.org/docs/core/schema.html#sqlalchemy.schema.Column" title="(in SQLAlchemy v0.7)"><tt class="xref py py-class docutils literal"><span class="pre">sqlalchemy.schema.Column</span></tt></a> from
the local model environment.</p>
<p>A return value of <tt class="xref docutils literal"><span class="pre">None</span></tt> indicates to allow default server default comparison 
to proceed.  Note that some backends such as Postgresql actually execute
the two defaults on the database side to compare for equivalence.</p>
</li>
<li><strong>upgrade_token</strong> &#8211; When autogenerate completes, the text of the 
candidate upgrade operations will be present in this template 
variable when <tt class="docutils literal"><span class="pre">script.py.mako</span></tt> is rendered.  Defaults to <tt class="docutils literal"><span class="pre">upgrades</span></tt>.</li>
<li><strong>downgrade_token</strong> &#8211; When autogenerate completes, the text of the 
candidate downgrade operations will be present in this
template variable when <tt class="docutils literal"><span class="pre">script.py.mako</span></tt> is rendered.  Defaults to 
<tt class="docutils literal"><span class="pre">downgrades</span></tt>.</li>
<li><strong>sqlalchemy_module_prefix</strong> &#8211; When autogenerate refers to SQLAlchemy 
<a class="reference external" href="http://www.sqlalchemy.org/docs/core/schema.html#sqlalchemy.schema.Column" title="(in SQLAlchemy v0.7)"><tt class="xref py py-class docutils literal"><span class="pre">Column</span></tt></a> or type classes, this prefix will be used
(i.e. <tt class="docutils literal"><span class="pre">sa.Column(&quot;somename&quot;,</span> <span class="pre">sa.Integer)</span></tt>)  Defaults to &#8220;<tt class="docutils literal"><span class="pre">sa.</span></tt>&#8221;.
Can be <tt class="xref docutils literal"><span class="pre">None</span></tt> to indicate no prefix.  
Note that when dialect-specific types are rendered, autogenerate
will render them using the dialect module name, i.e. <tt class="docutils literal"><span class="pre">mssql.BIT()</span></tt>, 
<tt class="docutils literal"><span class="pre">postgresql.UUID()</span></tt>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Parameters specific to individual backends:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><strong>mssql_batch_separator</strong> &#8211; The &#8220;batch separator&#8221; which will be placed
between each statement when generating offline SQL Server 
migrations.  Defaults to <tt class="docutils literal"><span class="pre">GO</span></tt>.  Note this is in addition to the customary
semicolon <tt class="docutils literal"><span class="pre">;</span></tt> at the end of each statement; SQL Server considers
the &#8220;batch separator&#8221; to denote the end of an individual statement
execution, and cannot group certain dependent operations in 
one step.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="alembic.context.configure_connection">
<tt class="descclassname">alembic.context.</tt><tt class="descname">configure_connection</tt><big>(</big><em>connection</em><big>)</big><a class="headerlink" href="#alembic.context.configure_connection" title="Permalink to this definition">¶</a></dt>
<dd><p>Deprecated; use <a class="reference internal" href="#alembic.context.configure" title="alembic.context.configure"><tt class="xref py py-func docutils literal"><span class="pre">alembic.context.configure()</span></tt></a>.</p>
</dd></dl>

<dl class="function">
<dt id="alembic.context.execute">
<tt class="descclassname">alembic.context.</tt><tt class="descname">execute</tt><big>(</big><em>sql</em><big>)</big><a class="headerlink" href="#alembic.context.execute" title="Permalink to this definition">¶</a></dt>
<dd><p>Execute the given SQL using the current change context.</p>
<p>The behavior of <a class="reference internal" href="#alembic.context.execute" title="alembic.context.execute"><tt class="xref py py-func docutils literal"><span class="pre">context.execute()</span></tt></a> is the same
as that of <a class="reference internal" href="ops.html#alembic.op.execute" title="alembic.op.execute"><tt class="xref py py-func docutils literal"><span class="pre">op.execute()</span></tt></a>.  Please see that
function&#8217;s documentation for full detail including
caveats and limitations.</p>
<p>This function requires that a <a class="reference internal" href="#alembic.context.Context" title="alembic.context.Context"><tt class="xref py py-class docutils literal"><span class="pre">Context</span></tt></a> has first been 
made available via <a class="reference internal" href="#alembic.context.configure" title="alembic.context.configure"><tt class="xref py py-func docutils literal"><span class="pre">configure()</span></tt></a>.</p>
</dd></dl>

<dl class="function">
<dt id="alembic.context.get_bind">
<tt class="descclassname">alembic.context.</tt><tt class="descname">get_bind</tt><big>(</big><big>)</big><a class="headerlink" href="#alembic.context.get_bind" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the current &#8216;bind&#8217;.</p>
<p>In &#8220;online&#8221; mode, this is the 
<tt class="xref py py-class docutils literal"><span class="pre">sqlalchemy.engine.Connection</span></tt> currently being used
to emit SQL to the database.</p>
<p>This function requires that a <a class="reference internal" href="#alembic.context.Context" title="alembic.context.Context"><tt class="xref py py-class docutils literal"><span class="pre">Context</span></tt></a> has first been 
made available via <a class="reference internal" href="#alembic.context.configure" title="alembic.context.configure"><tt class="xref py py-func docutils literal"><span class="pre">configure()</span></tt></a>.</p>
</dd></dl>

<dl class="function">
<dt id="alembic.context.get_context">
<tt class="descclassname">alembic.context.</tt><tt class="descname">get_context</tt><big>(</big><big>)</big><a class="headerlink" href="#alembic.context.get_context" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the current <a class="reference internal" href="#alembic.context.Context" title="alembic.context.Context"><tt class="xref py py-class docutils literal"><span class="pre">Context</span></tt></a> object.</p>
<p>If <a class="reference internal" href="#alembic.context.configure" title="alembic.context.configure"><tt class="xref py py-func docutils literal"><span class="pre">configure()</span></tt></a> has not been called yet, raises
an exception.</p>
<p>Generally, env.py scripts should access the module-level functions
in <tt class="xref py py-mod docutils literal"><span class="pre">alebmic.context</span></tt> to get at this object&#8217;s functionality.</p>
</dd></dl>

<dl class="function">
<dt id="alembic.context.get_head_revision">
<tt class="descclassname">alembic.context.</tt><tt class="descname">get_head_revision</tt><big>(</big><big>)</big><a class="headerlink" href="#alembic.context.get_head_revision" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the hex identifier of the &#8216;head&#8217; revision.</p>
<p>This function does not require that the <a class="reference internal" href="#alembic.context.Context" title="alembic.context.Context"><tt class="xref py py-class docutils literal"><span class="pre">Context</span></tt></a> 
has been configured.</p>
</dd></dl>

<dl class="function">
<dt id="alembic.context.get_revision_argument">
<tt class="descclassname">alembic.context.</tt><tt class="descname">get_revision_argument</tt><big>(</big><big>)</big><a class="headerlink" href="#alembic.context.get_revision_argument" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the &#8216;destination&#8217; revision argument.</p>
<p>This is typically the argument passed to the 
<tt class="docutils literal"><span class="pre">upgrade</span></tt> or <tt class="docutils literal"><span class="pre">downgrade</span></tt> command.</p>
<p>If it was specified as <tt class="docutils literal"><span class="pre">head</span></tt>, the actual 
version number is returned; if specified
as <tt class="docutils literal"><span class="pre">base</span></tt>, <tt class="xref docutils literal"><span class="pre">None</span></tt> is returned.</p>
<p>This function does not require that the <a class="reference internal" href="#alembic.context.Context" title="alembic.context.Context"><tt class="xref py py-class docutils literal"><span class="pre">Context</span></tt></a> 
has been configured.</p>
</dd></dl>

<dl class="function">
<dt id="alembic.context.get_starting_revision_argument">
<tt class="descclassname">alembic.context.</tt><tt class="descname">get_starting_revision_argument</tt><big>(</big><big>)</big><a class="headerlink" href="#alembic.context.get_starting_revision_argument" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the &#8216;starting revision&#8217; argument,
if the revision was passed using <tt class="docutils literal"><span class="pre">start:end</span></tt>.</p>
<p>This is only meaningful in &#8220;offline&#8221; mode.
Returns <tt class="xref docutils literal"><span class="pre">None</span></tt> if no value is available
or was configured.</p>
<p>This function does not require that the <a class="reference internal" href="#alembic.context.Context" title="alembic.context.Context"><tt class="xref py py-class docutils literal"><span class="pre">Context</span></tt></a> 
has been configured.</p>
</dd></dl>

<dl class="function">
<dt id="alembic.context.get_tag_argument">
<tt class="descclassname">alembic.context.</tt><tt class="descname">get_tag_argument</tt><big>(</big><big>)</big><a class="headerlink" href="#alembic.context.get_tag_argument" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the value passed for the <tt class="docutils literal"><span class="pre">--tag</span></tt> argument, if any.</p>
<p>The <tt class="docutils literal"><span class="pre">--tag</span></tt> argument is not used directly by Alembic,
but is available for custom <tt class="docutils literal"><span class="pre">env.py</span></tt> configurations that 
wish to use it; particularly for offline generation scripts
that wish to generate tagged filenames.</p>
<p>This function does not require that the <a class="reference internal" href="#alembic.context.Context" title="alembic.context.Context"><tt class="xref py py-class docutils literal"><span class="pre">Context</span></tt></a> 
has been configured.</p>
</dd></dl>

<dl class="function">
<dt id="alembic.context.is_offline_mode">
<tt class="descclassname">alembic.context.</tt><tt class="descname">is_offline_mode</tt><big>(</big><big>)</big><a class="headerlink" href="#alembic.context.is_offline_mode" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if the current migrations environment 
is running in &#8220;offline mode&#8221;.</p>
<p>This is <tt class="xref docutils literal"><span class="pre">True</span></tt> or <tt class="xref docutils literal"><span class="pre">False</span></tt> depending 
on the the <tt class="docutils literal"><span class="pre">--sql</span></tt> flag passed.</p>
<p>This function does not require that the <a class="reference internal" href="#alembic.context.Context" title="alembic.context.Context"><tt class="xref py py-class docutils literal"><span class="pre">Context</span></tt></a> 
has been configured.</p>
</dd></dl>

<dl class="function">
<dt id="alembic.context.is_transactional_ddl">
<tt class="descclassname">alembic.context.</tt><tt class="descname">is_transactional_ddl</tt><big>(</big><big>)</big><a class="headerlink" href="#alembic.context.is_transactional_ddl" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if the context is configured to expect a
transactional DDL capable backend.</p>
<p>This defaults to the type of database in use, and 
can be overridden by the <tt class="docutils literal"><span class="pre">transactional_ddl</span></tt> argument
to <a class="reference internal" href="#alembic.context.configure" title="alembic.context.configure"><tt class="xref py py-func docutils literal"><span class="pre">configure()</span></tt></a></p>
<p>This function requires that a <a class="reference internal" href="#alembic.context.Context" title="alembic.context.Context"><tt class="xref py py-class docutils literal"><span class="pre">Context</span></tt></a> has first been 
made available via <a class="reference internal" href="#alembic.context.configure" title="alembic.context.configure"><tt class="xref py py-func docutils literal"><span class="pre">configure()</span></tt></a>.</p>
</dd></dl>

<dl class="function">
<dt id="alembic.context.run_migrations">
<tt class="descclassname">alembic.context.</tt><tt class="descname">run_migrations</tt><big>(</big><em>**kw</em><big>)</big><a class="headerlink" href="#alembic.context.run_migrations" title="Permalink to this definition">¶</a></dt>
<dd><p>Run migrations as determined by the current command line configuration
as well as versioning information present (or not) in the current 
database connection (if one is present).</p>
<p>The function accepts optional <tt class="docutils literal"><span class="pre">**kw</span></tt> arguments.   If these are
passed, they are sent directly to the <tt class="docutils literal"><span class="pre">upgrade()</span></tt> and <tt class="docutils literal"><span class="pre">downgrade()</span></tt>
functions within each target revision file.   By modifying the
<tt class="docutils literal"><span class="pre">script.py.mako</span></tt> file so that the <tt class="docutils literal"><span class="pre">upgrade()</span></tt> and <tt class="docutils literal"><span class="pre">downgrade()</span></tt>
functions accept arguments, parameters can be passed here so that
contextual information, usually information to identify a particular
database in use, can be passed from a custom <tt class="docutils literal"><span class="pre">env.py</span></tt> script
to the migration functions.</p>
<p>This function requires that a <a class="reference internal" href="#alembic.context.Context" title="alembic.context.Context"><tt class="xref py py-class docutils literal"><span class="pre">Context</span></tt></a> has first been 
made available via <a class="reference internal" href="#alembic.context.configure" title="alembic.context.configure"><tt class="xref py py-func docutils literal"><span class="pre">configure()</span></tt></a>.</p>
</dd></dl>

<dl class="function">
<dt id="alembic.context.static_output">
<tt class="descclassname">alembic.context.</tt><tt class="descname">static_output</tt><big>(</big><em>text</em><big>)</big><a class="headerlink" href="#alembic.context.static_output" title="Permalink to this definition">¶</a></dt>
<dd><p>Emit text directly to the &#8220;offline&#8221; SQL stream.</p>
<p>Typically this is for emitting comments that 
start with &#8211;.  The statement is not treated
as a SQL execution, no ; or batch separator
is added, etc.</p>
</dd></dl>

</div>
<div class="section" id="commands">
<h2>Commands<a class="headerlink" href="#commands" title="Permalink to this headline">¶</a></h2>
<p>Alembic commands are all represented by functions in the <a class="reference internal" href="#module-alembic.command" title="alembic.command"><tt class="xref py py-mod docutils literal"><span class="pre">alembic.command</span></tt></a>
package.  They all accept the same style of usage, being sent
the <a class="reference internal" href="#alembic.config.Config" title="alembic.config.Config"><tt class="xref py py-class docutils literal"><span class="pre">Config</span></tt></a> object as the first argument.</p>
<p>Commands can be run programmatically, by first constructing a <a class="reference internal" href="#alembic.config.Config" title="alembic.config.Config"><tt class="xref py py-class docutils literal"><span class="pre">Config</span></tt></a>
object, as in:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">alembic.config</span> <span class="kn">import</span> <span class="n">Config</span>
<span class="kn">from</span> <span class="nn">alembic</span> <span class="kn">import</span> <span class="n">command</span>
<span class="n">alembic_cfg</span> <span class="o">=</span> <span class="n">Config</span><span class="p">(</span><span class="s">&quot;/path/to/yourapp/alembic.ini&quot;</span><span class="p">)</span>
<span class="n">command</span><span class="o">.</span><span class="n">upgrade</span><span class="p">(</span><span class="n">alembic_cfg</span><span class="p">,</span> <span class="s">&quot;head&quot;</span><span class="p">)</span>
</pre></div>
</div>
<span class="target" id="module-alembic.command"></span><dl class="function">
<dt id="alembic.command.branches">
<tt class="descclassname">alembic.command.</tt><tt class="descname">branches</tt><big>(</big><em>config</em><big>)</big><a class="headerlink" href="#alembic.command.branches" title="Permalink to this definition">¶</a></dt>
<dd><p>Show current un-spliced branch points</p>
</dd></dl>

<dl class="function">
<dt id="alembic.command.current">
<tt class="descclassname">alembic.command.</tt><tt class="descname">current</tt><big>(</big><em>config</em><big>)</big><a class="headerlink" href="#alembic.command.current" title="Permalink to this definition">¶</a></dt>
<dd><p>Display the current revision for each database.</p>
</dd></dl>

<dl class="function">
<dt id="alembic.command.downgrade">
<tt class="descclassname">alembic.command.</tt><tt class="descname">downgrade</tt><big>(</big><em>config</em>, <em>revision</em>, <em>sql=False</em>, <em>tag=None</em><big>)</big><a class="headerlink" href="#alembic.command.downgrade" title="Permalink to this definition">¶</a></dt>
<dd><p>Revert to a previous version.</p>
</dd></dl>

<dl class="function">
<dt id="alembic.command.history">
<tt class="descclassname">alembic.command.</tt><tt class="descname">history</tt><big>(</big><em>config</em><big>)</big><a class="headerlink" href="#alembic.command.history" title="Permalink to this definition">¶</a></dt>
<dd><p>List changeset scripts in chronological order.</p>
</dd></dl>

<dl class="function">
<dt id="alembic.command.init">
<tt class="descclassname">alembic.command.</tt><tt class="descname">init</tt><big>(</big><em>config</em>, <em>directory</em>, <em>template='generic'</em><big>)</big><a class="headerlink" href="#alembic.command.init" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize a new scripts directory.</p>
</dd></dl>

<dl class="function">
<dt id="alembic.command.list_templates">
<tt class="descclassname">alembic.command.</tt><tt class="descname">list_templates</tt><big>(</big><em>config</em><big>)</big><a class="headerlink" href="#alembic.command.list_templates" title="Permalink to this definition">¶</a></dt>
<dd><p>List available templates</p>
</dd></dl>

<dl class="function">
<dt id="alembic.command.revision">
<tt class="descclassname">alembic.command.</tt><tt class="descname">revision</tt><big>(</big><em>config</em>, <em>message=None</em>, <em>autogenerate=False</em><big>)</big><a class="headerlink" href="#alembic.command.revision" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a new revision file.</p>
</dd></dl>

<dl class="function">
<dt id="alembic.command.splice">
<tt class="descclassname">alembic.command.</tt><tt class="descname">splice</tt><big>(</big><em>config</em>, <em>parent</em>, <em>child</em><big>)</big><a class="headerlink" href="#alembic.command.splice" title="Permalink to this definition">¶</a></dt>
<dd><p>&#8216;splice&#8217; two branches, creating a new revision file.</p>
<p>this command isn&#8217;t implemented right now.</p>
</dd></dl>

<dl class="function">
<dt id="alembic.command.stamp">
<tt class="descclassname">alembic.command.</tt><tt class="descname">stamp</tt><big>(</big><em>config</em>, <em>revision</em>, <em>sql=False</em>, <em>tag=None</em><big>)</big><a class="headerlink" href="#alembic.command.stamp" title="Permalink to this definition">¶</a></dt>
<dd><p>&#8216;stamp&#8217; the revision table with the given revision; don&#8217;t
run any migrations.</p>
</dd></dl>

<dl class="function">
<dt id="alembic.command.upgrade">
<tt class="descclassname">alembic.command.</tt><tt class="descname">upgrade</tt><big>(</big><em>config</em>, <em>revision</em>, <em>sql=False</em>, <em>tag=None</em><big>)</big><a class="headerlink" href="#alembic.command.upgrade" title="Permalink to this definition">¶</a></dt>
<dd><p>Upgrade to a later version.</p>
</dd></dl>

</div>
<div class="section" id="module-alembic.config">
<span id="configuration"></span><h2>Configuration<a class="headerlink" href="#module-alembic.config" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="alembic.config.Config">
<em class="property">class </em><tt class="descclassname">alembic.config.</tt><tt class="descname">Config</tt><big>(</big><em>file_</em>, <em>ini_section='alembic'</em>, <em>output_buffer=None</em><big>)</big><a class="headerlink" href="#alembic.config.Config" title="Permalink to this definition">¶</a></dt>
<dd><p>Represent an Alembic configuration.</p>
<p>Within an <tt class="docutils literal"><span class="pre">env.py</span></tt> script, this is available
via the <a class="reference internal" href="#alembic.context.config" title="alembic.context.config"><tt class="xref py py-attr docutils literal"><span class="pre">alembic.context.config</span></tt></a> attribute:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">alembic</span> <span class="kn">import</span> <span class="n">context</span>

<span class="n">some_param</span> <span class="o">=</span> <span class="n">context</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">get_main_option</span><span class="p">(</span><span class="s">&quot;my option&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>When invoking Alembic programatically, a new
<a class="reference internal" href="#alembic.config.Config" title="alembic.config.Config"><tt class="xref py py-class docutils literal"><span class="pre">Config</span></tt></a> can be created simply by passing
the name of an .ini file to the constructor:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">alembic.config</span> <span class="kn">import</span> <span class="n">Config</span>
<span class="n">alembic_cfg</span> <span class="o">=</span> <span class="n">Config</span><span class="p">(</span><span class="s">&quot;/path/to/yourapp/alembic.ini&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>With a <a class="reference internal" href="#alembic.config.Config" title="alembic.config.Config"><tt class="xref py py-class docutils literal"><span class="pre">Config</span></tt></a> object, you can then
run Alembic commands programmatically using the directives
in <a class="reference internal" href="#module-alembic.command" title="alembic.command"><tt class="xref py py-mod docutils literal"><span class="pre">alembic.command</span></tt></a>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>file</strong> &#8211; name of the .ini file to open.</li>
<li><strong>ini_section</strong> &#8211; name of the main Alembic section within the 
.ini file</li>
<li><strong>output_buffer</strong> &#8211; optional file-like input buffer which
will be passed to the <a class="reference internal" href="#alembic.context.Context" title="alembic.context.Context"><tt class="xref py py-class docutils literal"><span class="pre">Context</span></tt></a> - used to redirect
access when using Alembic programmatically.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="alembic.config.Config.config_file_name">
<tt class="descname">config_file_name</tt><a class="headerlink" href="#alembic.config.Config.config_file_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Filesystem path to the .ini file in use.</p>
</dd></dl>

<dl class="attribute">
<dt id="alembic.config.Config.config_ini_section">
<tt class="descname">config_ini_section</tt><a class="headerlink" href="#alembic.config.Config.config_ini_section" title="Permalink to this definition">¶</a></dt>
<dd><p>Name of the config file section to read basic configuration
from.  Defaults to <tt class="docutils literal"><span class="pre">alembic</span></tt>, that is the <tt class="docutils literal"><span class="pre">[alembic]</span></tt> section
of the .ini file.  This value is modified using the <tt class="docutils literal"><span class="pre">-n/--name</span></tt>
option to the Alembic runnier.</p>
</dd></dl>

<dl class="method">
<dt id="alembic.config.Config.get_main_option">
<tt class="descname">get_main_option</tt><big>(</big><em>name</em>, <em>default=None</em><big>)</big><a class="headerlink" href="#alembic.config.Config.get_main_option" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an option from the &#8216;main&#8217; section of the .ini file.</p>
<p>This defaults to being a key from the <tt class="docutils literal"><span class="pre">[alembic]</span></tt> 
section, unless the <tt class="docutils literal"><span class="pre">-n/--name</span></tt> flag were used to 
indicate a different section.</p>
</dd></dl>

<dl class="method">
<dt id="alembic.config.Config.get_section">
<tt class="descname">get_section</tt><big>(</big><em>name</em><big>)</big><a class="headerlink" href="#alembic.config.Config.get_section" title="Permalink to this definition">¶</a></dt>
<dd><p>Return all the configuration options from a given .ini file section
as a dictionary.</p>
</dd></dl>

<dl class="method">
<dt id="alembic.config.Config.get_section_option">
<tt class="descname">get_section_option</tt><big>(</big><em>section</em>, <em>name</em>, <em>default=None</em><big>)</big><a class="headerlink" href="#alembic.config.Config.get_section_option" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an option from the given section of the .ini file.</p>
</dd></dl>

<dl class="method">
<dt id="alembic.config.Config.get_template_directory">
<tt class="descname">get_template_directory</tt><big>(</big><big>)</big><a class="headerlink" href="#alembic.config.Config.get_template_directory" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the directory where Alembic setup templates are found.</p>
<p>This method is used by the alembic <tt class="docutils literal"><span class="pre">init</span></tt> and <tt class="docutils literal"><span class="pre">list_templates</span></tt>
commands.</p>
</dd></dl>

<dl class="method">
<dt id="alembic.config.Config.set_main_option">
<tt class="descname">set_main_option</tt><big>(</big><em>name</em>, <em>value</em><big>)</big><a class="headerlink" href="#alembic.config.Config.set_main_option" title="Permalink to this definition">¶</a></dt>
<dd><p>Set an option programmatically within the &#8216;main&#8217; section.</p>
<p>This overrides whatever was in the .ini file.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="alembic.config.main">
<tt class="descclassname">alembic.config.</tt><tt class="descname">main</tt><big>(</big><em>argv=None</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#alembic.config.main" title="Permalink to this definition">¶</a></dt>
<dd><p>The console runner function for Alembic.</p>
</dd></dl>

</div>
<div class="section" id="module-alembic.script">
<span id="internals"></span><h2>Internals<a class="headerlink" href="#module-alembic.script" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="alembic.script.Script">
<em class="property">class </em><tt class="descclassname">alembic.script.</tt><tt class="descname">Script</tt><big>(</big><em>module</em>, <em>rev_id</em><big>)</big><a class="headerlink" href="#alembic.script.Script" title="Permalink to this definition">¶</a></dt>
<dd><p>Represent a single revision file in a <tt class="docutils literal"><span class="pre">versions/</span></tt> directory.</p>
<dl class="method">
<dt id="alembic.script.Script.add_nextrev">
<tt class="descname">add_nextrev</tt><big>(</big><em>rev</em><big>)</big><a class="headerlink" href="#alembic.script.Script.add_nextrev" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="alembic.script.Script.doc">
<tt class="descname">doc</tt><a class="headerlink" href="#alembic.script.Script.doc" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="alembic.script.Script.from_filename">
<em class="property">classmethod </em><tt class="descname">from_filename</tt><big>(</big><em>dir_</em>, <em>filename</em><big>)</big><a class="headerlink" href="#alembic.script.Script.from_filename" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="alembic.script.Script.from_path">
<em class="property">classmethod </em><tt class="descname">from_path</tt><big>(</big><em>path</em><big>)</big><a class="headerlink" href="#alembic.script.Script.from_path" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="alembic.script.Script.is_branch_point">
<tt class="descname">is_branch_point</tt><a class="headerlink" href="#alembic.script.Script.is_branch_point" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="alembic.script.Script.is_head">
<tt class="descname">is_head</tt><a class="headerlink" href="#alembic.script.Script.is_head" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="alembic.script.ScriptDirectory">
<em class="property">class </em><tt class="descclassname">alembic.script.</tt><tt class="descname">ScriptDirectory</tt><big>(</big><em>dir</em><big>)</big><a class="headerlink" href="#alembic.script.ScriptDirectory" title="Permalink to this definition">¶</a></dt>
<dd><p>Provides operations upon an Alembic script directory.</p>
<dl class="method">
<dt id="alembic.script.ScriptDirectory.copy_file">
<tt class="descname">copy_file</tt><big>(</big><em>src</em>, <em>dest</em><big>)</big><a class="headerlink" href="#alembic.script.ScriptDirectory.copy_file" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="alembic.script.ScriptDirectory.downgrade_to">
<tt class="descname">downgrade_to</tt><big>(</big><em>destination</em>, <em>current_rev</em><big>)</big><a class="headerlink" href="#alembic.script.ScriptDirectory.downgrade_to" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="alembic.script.ScriptDirectory.env_py_location">
<tt class="descname">env_py_location</tt><a class="headerlink" href="#alembic.script.ScriptDirectory.env_py_location" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="alembic.script.ScriptDirectory.from_config">
<em class="property">classmethod </em><tt class="descname">from_config</tt><big>(</big><em>config</em><big>)</big><a class="headerlink" href="#alembic.script.ScriptDirectory.from_config" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="alembic.script.ScriptDirectory.generate_rev">
<tt class="descname">generate_rev</tt><big>(</big><em>revid</em>, <em>message</em>, <em>refresh=False</em>, <em>**kw</em><big>)</big><a class="headerlink" href="#alembic.script.ScriptDirectory.generate_rev" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="alembic.script.ScriptDirectory.generate_template">
<tt class="descname">generate_template</tt><big>(</big><em>src</em>, <em>dest</em>, <em>**kw</em><big>)</big><a class="headerlink" href="#alembic.script.ScriptDirectory.generate_template" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="alembic.script.ScriptDirectory.run_env">
<tt class="descname">run_env</tt><big>(</big><big>)</big><a class="headerlink" href="#alembic.script.ScriptDirectory.run_env" title="Permalink to this definition">¶</a></dt>
<dd><p>Run the script environment.</p>
<p>This basically runs the <tt class="docutils literal"><span class="pre">env.py</span></tt> script present
in the migration environment.   It is called exclusively
by the command functions in <a class="reference internal" href="#module-alembic.command" title="alembic.command"><tt class="xref py py-mod docutils literal"><span class="pre">alembic.command</span></tt></a>.</p>
<p>As <tt class="docutils literal"><span class="pre">env.py</span></tt> runs <a class="reference internal" href="#alembic.context.configure_connection" title="alembic.context.configure_connection"><tt class="xref py py-func docutils literal"><span class="pre">context.configure_connection()</span></tt></a>, 
the connection environment should be set up first.   This
is typically achieved using the <tt class="xref py py-func docutils literal"><span class="pre">context.opts()</span></tt>.</p>
</dd></dl>

<dl class="method">
<dt id="alembic.script.ScriptDirectory.upgrade_from">
<tt class="descname">upgrade_from</tt><big>(</big><em>destination</em>, <em>current_rev</em><big>)</big><a class="headerlink" href="#alembic.script.ScriptDirectory.upgrade_from" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="alembic.script.ScriptDirectory.walk_revisions">
<tt class="descname">walk_revisions</tt><big>(</big><big>)</big><a class="headerlink" href="#alembic.script.ScriptDirectory.walk_revisions" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterate through all revisions.</p>
<p>This is actually a breadth-first tree traversal,
with leaf nodes being heads.</p>
</dd></dl>

<dl class="method">
<dt id="alembic.script.ScriptDirectory.write">
<tt class="descname">write</tt><big>(</big><em>rev_id</em>, <em>content</em><big>)</big><a class="headerlink" href="#alembic.script.ScriptDirectory.write" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<div class="section" id="module-alembic.ddl">
<span id="ddl-internals"></span><h3>DDL Internals<a class="headerlink" href="#module-alembic.ddl" title="Permalink to this headline">¶</a></h3>
<span class="target" id="module-alembic.ddl.base"></span><dl class="class">
<dt id="alembic.ddl.base.AddColumn">
<em class="property">class </em><tt class="descclassname">alembic.ddl.base.</tt><tt class="descname">AddColumn</tt><big>(</big><em>name</em>, <em>column</em>, <em>schema=None</em><big>)</big><a class="headerlink" href="#alembic.ddl.base.AddColumn" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="alembic.ddl.base.AlterColumn">
<em class="property">class </em><tt class="descclassname">alembic.ddl.base.</tt><tt class="descname">AlterColumn</tt><big>(</big><em>name</em>, <em>column_name</em>, <em>schema=None</em>, <em>existing_type=None</em>, <em>existing_nullable=None</em>, <em>existing_server_default=None</em><big>)</big><a class="headerlink" href="#alembic.ddl.base.AlterColumn" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="alembic.ddl.base.AlterTable">
<em class="property">class </em><tt class="descclassname">alembic.ddl.base.</tt><tt class="descname">AlterTable</tt><big>(</big><em>table_name</em>, <em>schema=None</em><big>)</big><a class="headerlink" href="#alembic.ddl.base.AlterTable" title="Permalink to this definition">¶</a></dt>
<dd><p>Represent an ALTER TABLE statement.</p>
<p>Only the string name and optional schema name of the table
is required, not a full Table object.</p>
</dd></dl>

<dl class="class">
<dt id="alembic.ddl.base.ColumnDefault">
<em class="property">class </em><tt class="descclassname">alembic.ddl.base.</tt><tt class="descname">ColumnDefault</tt><big>(</big><em>name</em>, <em>column_name</em>, <em>default</em>, <em>**kw</em><big>)</big><a class="headerlink" href="#alembic.ddl.base.ColumnDefault" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="alembic.ddl.base.ColumnName">
<em class="property">class </em><tt class="descclassname">alembic.ddl.base.</tt><tt class="descname">ColumnName</tt><big>(</big><em>name</em>, <em>column_name</em>, <em>newname</em>, <em>**kw</em><big>)</big><a class="headerlink" href="#alembic.ddl.base.ColumnName" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="alembic.ddl.base.ColumnNullable">
<em class="property">class </em><tt class="descclassname">alembic.ddl.base.</tt><tt class="descname">ColumnNullable</tt><big>(</big><em>name</em>, <em>column_name</em>, <em>nullable</em>, <em>**kw</em><big>)</big><a class="headerlink" href="#alembic.ddl.base.ColumnNullable" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="alembic.ddl.base.ColumnType">
<em class="property">class </em><tt class="descclassname">alembic.ddl.base.</tt><tt class="descname">ColumnType</tt><big>(</big><em>name</em>, <em>column_name</em>, <em>type_</em>, <em>**kw</em><big>)</big><a class="headerlink" href="#alembic.ddl.base.ColumnType" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="alembic.ddl.base.DropColumn">
<em class="property">class </em><tt class="descclassname">alembic.ddl.base.</tt><tt class="descname">DropColumn</tt><big>(</big><em>name</em>, <em>column</em>, <em>schema=None</em><big>)</big><a class="headerlink" href="#alembic.ddl.base.DropColumn" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="alembic.ddl.base.RenameTable">
<em class="property">class </em><tt class="descclassname">alembic.ddl.base.</tt><tt class="descname">RenameTable</tt><big>(</big><em>old_table_name</em>, <em>new_table_name</em>, <em>schema=None</em><big>)</big><a class="headerlink" href="#alembic.ddl.base.RenameTable" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="alembic.ddl.base.add_column">
<tt class="descclassname">alembic.ddl.base.</tt><tt class="descname">add_column</tt><big>(</big><em>compiler</em>, <em>column</em>, <em>**kw</em><big>)</big><a class="headerlink" href="#alembic.ddl.base.add_column" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="alembic.ddl.base.alter_column">
<tt class="descclassname">alembic.ddl.base.</tt><tt class="descname">alter_column</tt><big>(</big><em>compiler</em>, <em>name</em><big>)</big><a class="headerlink" href="#alembic.ddl.base.alter_column" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="alembic.ddl.base.alter_table">
<tt class="descclassname">alembic.ddl.base.</tt><tt class="descname">alter_table</tt><big>(</big><em>compiler</em>, <em>name</em>, <em>schema</em><big>)</big><a class="headerlink" href="#alembic.ddl.base.alter_table" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="alembic.ddl.base.drop_column">
<tt class="descclassname">alembic.ddl.base.</tt><tt class="descname">drop_column</tt><big>(</big><em>compiler</em>, <em>name</em><big>)</big><a class="headerlink" href="#alembic.ddl.base.drop_column" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="alembic.ddl.base.format_column_name">
<tt class="descclassname">alembic.ddl.base.</tt><tt class="descname">format_column_name</tt><big>(</big><em>compiler</em>, <em>name</em><big>)</big><a class="headerlink" href="#alembic.ddl.base.format_column_name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="alembic.ddl.base.format_server_default">
<tt class="descclassname">alembic.ddl.base.</tt><tt class="descname">format_server_default</tt><big>(</big><em>compiler</em>, <em>default</em><big>)</big><a class="headerlink" href="#alembic.ddl.base.format_server_default" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="alembic.ddl.base.format_table_name">
<tt class="descclassname">alembic.ddl.base.</tt><tt class="descname">format_table_name</tt><big>(</big><em>compiler</em>, <em>name</em>, <em>schema</em><big>)</big><a class="headerlink" href="#alembic.ddl.base.format_table_name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="alembic.ddl.base.format_type">
<tt class="descclassname">alembic.ddl.base.</tt><tt class="descname">format_type</tt><big>(</big><em>compiler</em>, <em>type_</em><big>)</big><a class="headerlink" href="#alembic.ddl.base.format_type" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="alembic.ddl.base.quote_dotted">
<tt class="descclassname">alembic.ddl.base.</tt><tt class="descname">quote_dotted</tt><big>(</big><em>name</em>, <em>quote</em><big>)</big><a class="headerlink" href="#alembic.ddl.base.quote_dotted" title="Permalink to this definition">¶</a></dt>
<dd><p>quote the elements of a dotted name</p>
</dd></dl>

<dl class="function">
<dt id="alembic.ddl.base.visit_add_column">
<tt class="descclassname">alembic.ddl.base.</tt><tt class="descname">visit_add_column</tt><big>(</big><em>element</em>, <em>compiler</em>, <em>**kw</em><big>)</big><a class="headerlink" href="#alembic.ddl.base.visit_add_column" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="alembic.ddl.base.visit_column_default">
<tt class="descclassname">alembic.ddl.base.</tt><tt class="descname">visit_column_default</tt><big>(</big><em>element</em>, <em>compiler</em>, <em>**kw</em><big>)</big><a class="headerlink" href="#alembic.ddl.base.visit_column_default" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="alembic.ddl.base.visit_column_name">
<tt class="descclassname">alembic.ddl.base.</tt><tt class="descname">visit_column_name</tt><big>(</big><em>element</em>, <em>compiler</em>, <em>**kw</em><big>)</big><a class="headerlink" href="#alembic.ddl.base.visit_column_name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="alembic.ddl.base.visit_column_nullable">
<tt class="descclassname">alembic.ddl.base.</tt><tt class="descname">visit_column_nullable</tt><big>(</big><em>element</em>, <em>compiler</em>, <em>**kw</em><big>)</big><a class="headerlink" href="#alembic.ddl.base.visit_column_nullable" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="alembic.ddl.base.visit_column_type">
<tt class="descclassname">alembic.ddl.base.</tt><tt class="descname">visit_column_type</tt><big>(</big><em>element</em>, <em>compiler</em>, <em>**kw</em><big>)</big><a class="headerlink" href="#alembic.ddl.base.visit_column_type" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="alembic.ddl.base.visit_drop_column">
<tt class="descclassname">alembic.ddl.base.</tt><tt class="descname">visit_drop_column</tt><big>(</big><em>element</em>, <em>compiler</em>, <em>**kw</em><big>)</big><a class="headerlink" href="#alembic.ddl.base.visit_drop_column" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="alembic.ddl.base.visit_rename_table">
<tt class="descclassname">alembic.ddl.base.</tt><tt class="descname">visit_rename_table</tt><big>(</big><em>element</em>, <em>compiler</em>, <em>**kw</em><big>)</big><a class="headerlink" href="#alembic.ddl.base.visit_rename_table" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<span class="target" id="module-alembic.ddl.impl"></span><dl class="class">
<dt id="alembic.ddl.impl.DefaultImpl">
<em class="property">class </em><tt class="descclassname">alembic.ddl.impl.</tt><tt class="descname">DefaultImpl</tt><big>(</big><em>dialect</em>, <em>connection</em>, <em>as_sql</em>, <em>transactional_ddl</em>, <em>output_buffer</em>, <em>context_opts</em><big>)</big><a class="headerlink" href="#alembic.ddl.impl.DefaultImpl" title="Permalink to this definition">¶</a></dt>
<dd><p>Provide the entrypoint for major migration operations,
including database-specific behavioral variances.</p>
<p>While individual SQL/DDL constructs already provide
for database-specific implementations, variances here
allow for entirely different sequences of operations
to take place for a particular migration, such as
SQL Server&#8217;s special &#8216;IDENTITY INSERT&#8217; step for 
bulk inserts.</p>
<dl class="method">
<dt id="alembic.ddl.impl.DefaultImpl.add_column">
<tt class="descname">add_column</tt><big>(</big><em>table_name</em>, <em>column</em><big>)</big><a class="headerlink" href="#alembic.ddl.impl.DefaultImpl.add_column" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="alembic.ddl.impl.DefaultImpl.add_constraint">
<tt class="descname">add_constraint</tt><big>(</big><em>const</em><big>)</big><a class="headerlink" href="#alembic.ddl.impl.DefaultImpl.add_constraint" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="alembic.ddl.impl.DefaultImpl.alter_column">
<tt class="descname">alter_column</tt><big>(</big><em>table_name</em>, <em>column_name</em>, <em>nullable=None</em>, <em>server_default=False</em>, <em>name=None</em>, <em>type_=None</em>, <em>schema=None</em>, <em>existing_type=None</em>, <em>existing_server_default=None</em>, <em>existing_nullable=None</em><big>)</big><a class="headerlink" href="#alembic.ddl.impl.DefaultImpl.alter_column" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="alembic.ddl.impl.DefaultImpl.bind">
<tt class="descname">bind</tt><a class="headerlink" href="#alembic.ddl.impl.DefaultImpl.bind" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="alembic.ddl.impl.DefaultImpl.bulk_insert">
<tt class="descname">bulk_insert</tt><big>(</big><em>table</em>, <em>rows</em><big>)</big><a class="headerlink" href="#alembic.ddl.impl.DefaultImpl.bulk_insert" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="alembic.ddl.impl.DefaultImpl.compare_server_default">
<tt class="descname">compare_server_default</tt><big>(</big><em>inspector_column</em>, <em>metadata_column</em>, <em>rendered_metadata_default</em><big>)</big><a class="headerlink" href="#alembic.ddl.impl.DefaultImpl.compare_server_default" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="alembic.ddl.impl.DefaultImpl.compare_type">
<tt class="descname">compare_type</tt><big>(</big><em>inspector_column</em>, <em>metadata_column</em><big>)</big><a class="headerlink" href="#alembic.ddl.impl.DefaultImpl.compare_type" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="alembic.ddl.impl.DefaultImpl.create_index">
<tt class="descname">create_index</tt><big>(</big><em>index</em><big>)</big><a class="headerlink" href="#alembic.ddl.impl.DefaultImpl.create_index" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="alembic.ddl.impl.DefaultImpl.create_table">
<tt class="descname">create_table</tt><big>(</big><em>table</em><big>)</big><a class="headerlink" href="#alembic.ddl.impl.DefaultImpl.create_table" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="alembic.ddl.impl.DefaultImpl.drop_column">
<tt class="descname">drop_column</tt><big>(</big><em>table_name</em>, <em>column</em>, <em>**kw</em><big>)</big><a class="headerlink" href="#alembic.ddl.impl.DefaultImpl.drop_column" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="alembic.ddl.impl.DefaultImpl.drop_constraint">
<tt class="descname">drop_constraint</tt><big>(</big><em>const</em><big>)</big><a class="headerlink" href="#alembic.ddl.impl.DefaultImpl.drop_constraint" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="alembic.ddl.impl.DefaultImpl.drop_index">
<tt class="descname">drop_index</tt><big>(</big><em>index</em><big>)</big><a class="headerlink" href="#alembic.ddl.impl.DefaultImpl.drop_index" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="alembic.ddl.impl.DefaultImpl.drop_table">
<tt class="descname">drop_table</tt><big>(</big><em>table</em><big>)</big><a class="headerlink" href="#alembic.ddl.impl.DefaultImpl.drop_table" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="alembic.ddl.impl.DefaultImpl.emit_begin">
<tt class="descname">emit_begin</tt><big>(</big><big>)</big><a class="headerlink" href="#alembic.ddl.impl.DefaultImpl.emit_begin" title="Permalink to this definition">¶</a></dt>
<dd><p>Emit the string <tt class="docutils literal"><span class="pre">BEGIN</span></tt>, or the backend-specific
equivalent, on the current connection context.</p>
<p>This is used in offline mode and typically
via <a class="reference internal" href="#alembic.context.begin_transaction" title="alembic.context.begin_transaction"><tt class="xref py py-func docutils literal"><span class="pre">context.begin_transaction()</span></tt></a>.</p>
</dd></dl>

<dl class="method">
<dt id="alembic.ddl.impl.DefaultImpl.emit_commit">
<tt class="descname">emit_commit</tt><big>(</big><big>)</big><a class="headerlink" href="#alembic.ddl.impl.DefaultImpl.emit_commit" title="Permalink to this definition">¶</a></dt>
<dd><p>Emit the string <tt class="docutils literal"><span class="pre">COMMIT</span></tt>, or the backend-specific
equivalent, on the current connection context.</p>
<p>This is used in offline mode and typically
via <a class="reference internal" href="#alembic.context.begin_transaction" title="alembic.context.begin_transaction"><tt class="xref py py-func docutils literal"><span class="pre">context.begin_transaction()</span></tt></a>.</p>
</dd></dl>

<dl class="method">
<dt id="alembic.ddl.impl.DefaultImpl.execute">
<tt class="descname">execute</tt><big>(</big><em>sql</em><big>)</big><a class="headerlink" href="#alembic.ddl.impl.DefaultImpl.execute" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="alembic.ddl.impl.DefaultImpl.get_by_dialect">
<em class="property">classmethod </em><tt class="descname">get_by_dialect</tt><big>(</big><em>dialect</em><big>)</big><a class="headerlink" href="#alembic.ddl.impl.DefaultImpl.get_by_dialect" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="alembic.ddl.impl.DefaultImpl.rename_table">
<tt class="descname">rename_table</tt><big>(</big><em>old_table_name</em>, <em>new_table_name</em>, <em>schema=None</em><big>)</big><a class="headerlink" href="#alembic.ddl.impl.DefaultImpl.rename_table" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="alembic.ddl.impl.DefaultImpl.start_migrations">
<tt class="descname">start_migrations</tt><big>(</big><big>)</big><a class="headerlink" href="#alembic.ddl.impl.DefaultImpl.start_migrations" title="Permalink to this definition">¶</a></dt>
<dd><p>A hook called when <tt class="xref py py-meth docutils literal"><span class="pre">Context.run_migrations()</span></tt>
is called.</p>
<p>Implementations can set up per-migration-run state here.</p>
</dd></dl>

<dl class="method">
<dt id="alembic.ddl.impl.DefaultImpl.static_output">
<tt class="descname">static_output</tt><big>(</big><em>text</em><big>)</big><a class="headerlink" href="#alembic.ddl.impl.DefaultImpl.static_output" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="alembic.ddl.impl.ImplMeta">
<em class="property">class </em><tt class="descclassname">alembic.ddl.impl.</tt><tt class="descname">ImplMeta</tt><big>(</big><em>classname</em>, <em>bases</em>, <em>dict_</em><big>)</big><a class="headerlink" href="#alembic.ddl.impl.ImplMeta" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<div class="section" id="module-alembic.ddl.mysql">
<span id="mysql"></span><h4>MySQL<a class="headerlink" href="#module-alembic.ddl.mysql" title="Permalink to this headline">¶</a></h4>
<dl class="class">
<dt id="alembic.ddl.mysql.MySQLAlterColumn">
<em class="property">class </em><tt class="descclassname">alembic.ddl.mysql.</tt><tt class="descname">MySQLAlterColumn</tt><big>(</big><em>name</em>, <em>column_name</em>, <em>schema=None</em>, <em>newname=None</em>, <em>type_=None</em>, <em>nullable=None</em>, <em>default=False</em><big>)</big><a class="headerlink" href="#alembic.ddl.mysql.MySQLAlterColumn" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#alembic.ddl.base.AlterColumn" title="alembic.ddl.base.AlterColumn"><tt class="xref py py-class docutils literal"><span class="pre">alembic.ddl.base.AlterColumn</span></tt></a></p>
</dd></dl>

<dl class="class">
<dt id="alembic.ddl.mysql.MySQLImpl">
<em class="property">class </em><tt class="descclassname">alembic.ddl.mysql.</tt><tt class="descname">MySQLImpl</tt><big>(</big><em>dialect</em>, <em>connection</em>, <em>as_sql</em>, <em>transactional_ddl</em>, <em>output_buffer</em>, <em>context_opts</em><big>)</big><a class="headerlink" href="#alembic.ddl.mysql.MySQLImpl" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#alembic.ddl.impl.DefaultImpl" title="alembic.ddl.impl.DefaultImpl"><tt class="xref py py-class docutils literal"><span class="pre">alembic.ddl.impl.DefaultImpl</span></tt></a></p>
<dl class="method">
<dt id="alembic.ddl.mysql.MySQLImpl.alter_column">
<tt class="descname">alter_column</tt><big>(</big><em>table_name</em>, <em>column_name</em>, <em>nullable=None</em>, <em>server_default=False</em>, <em>name=None</em>, <em>type_=None</em>, <em>schema=None</em>, <em>existing_type=None</em>, <em>existing_server_default=None</em>, <em>existing_nullable=None</em><big>)</big><a class="headerlink" href="#alembic.ddl.mysql.MySQLImpl.alter_column" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-alembic.ddl.mssql">
<span id="ms-sql"></span><h4>MS-SQL<a class="headerlink" href="#module-alembic.ddl.mssql" title="Permalink to this headline">¶</a></h4>
<dl class="class">
<dt id="alembic.ddl.mssql.MSSQLImpl">
<em class="property">class </em><tt class="descclassname">alembic.ddl.mssql.</tt><tt class="descname">MSSQLImpl</tt><big>(</big><em>*arg</em>, <em>**kw</em><big>)</big><a class="headerlink" href="#alembic.ddl.mssql.MSSQLImpl" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#alembic.ddl.impl.DefaultImpl" title="alembic.ddl.impl.DefaultImpl"><tt class="xref py py-class docutils literal"><span class="pre">alembic.ddl.impl.DefaultImpl</span></tt></a></p>
<dl class="method">
<dt id="alembic.ddl.mssql.MSSQLImpl.alter_column">
<tt class="descname">alter_column</tt><big>(</big><em>table_name</em>, <em>column_name</em>, <em>nullable=None</em>, <em>server_default=False</em>, <em>name=None</em>, <em>type_=None</em>, <em>schema=None</em>, <em>existing_type=None</em>, <em>existing_server_default=None</em>, <em>existing_nullable=None</em><big>)</big><a class="headerlink" href="#alembic.ddl.mssql.MSSQLImpl.alter_column" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="alembic.ddl.mssql.MSSQLImpl.bulk_insert">
<tt class="descname">bulk_insert</tt><big>(</big><em>table</em>, <em>rows</em><big>)</big><a class="headerlink" href="#alembic.ddl.mssql.MSSQLImpl.bulk_insert" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="alembic.ddl.mssql.MSSQLImpl.drop_column">
<tt class="descname">drop_column</tt><big>(</big><em>table_name</em>, <em>column</em>, <em>**kw</em><big>)</big><a class="headerlink" href="#alembic.ddl.mssql.MSSQLImpl.drop_column" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="alembic.ddl.mssql.MSSQLImpl.emit_begin">
<tt class="descname">emit_begin</tt><big>(</big><big>)</big><a class="headerlink" href="#alembic.ddl.mssql.MSSQLImpl.emit_begin" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="alembic.ddl.mssql.mssql_add_column">
<tt class="descclassname">alembic.ddl.mssql.</tt><tt class="descname">mssql_add_column</tt><big>(</big><em>compiler</em>, <em>column</em>, <em>**kw</em><big>)</big><a class="headerlink" href="#alembic.ddl.mssql.mssql_add_column" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="alembic.ddl.mssql.visit_add_column">
<tt class="descclassname">alembic.ddl.mssql.</tt><tt class="descname">visit_add_column</tt><big>(</big><em>element</em>, <em>compiler</em>, <em>**kw</em><big>)</big><a class="headerlink" href="#alembic.ddl.mssql.visit_add_column" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="alembic.ddl.mssql.visit_column_default">
<tt class="descclassname">alembic.ddl.mssql.</tt><tt class="descname">visit_column_default</tt><big>(</big><em>element</em>, <em>compiler</em>, <em>**kw</em><big>)</big><a class="headerlink" href="#alembic.ddl.mssql.visit_column_default" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="alembic.ddl.mssql.visit_column_nullable">
<tt class="descclassname">alembic.ddl.mssql.</tt><tt class="descname">visit_column_nullable</tt><big>(</big><em>element</em>, <em>compiler</em>, <em>**kw</em><big>)</big><a class="headerlink" href="#alembic.ddl.mssql.visit_column_nullable" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="alembic.ddl.mssql.visit_rename_column">
<tt class="descclassname">alembic.ddl.mssql.</tt><tt class="descname">visit_rename_column</tt><big>(</big><em>element</em>, <em>compiler</em>, <em>**kw</em><big>)</big><a class="headerlink" href="#alembic.ddl.mssql.visit_rename_column" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-alembic.ddl.postgresql">
<span id="postgresql"></span><h4>Postgresql<a class="headerlink" href="#module-alembic.ddl.postgresql" title="Permalink to this headline">¶</a></h4>
<dl class="class">
<dt id="alembic.ddl.postgresql.PostgresqlImpl">
<em class="property">class </em><tt class="descclassname">alembic.ddl.postgresql.</tt><tt class="descname">PostgresqlImpl</tt><big>(</big><em>dialect</em>, <em>connection</em>, <em>as_sql</em>, <em>transactional_ddl</em>, <em>output_buffer</em>, <em>context_opts</em><big>)</big><a class="headerlink" href="#alembic.ddl.postgresql.PostgresqlImpl" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#alembic.ddl.impl.DefaultImpl" title="alembic.ddl.impl.DefaultImpl"><tt class="xref py py-class docutils literal"><span class="pre">alembic.ddl.impl.DefaultImpl</span></tt></a></p>
<dl class="method">
<dt id="alembic.ddl.postgresql.PostgresqlImpl.compare_server_default">
<tt class="descname">compare_server_default</tt><big>(</big><em>inspector_column</em>, <em>metadata_column</em>, <em>rendered_metadata_default</em><big>)</big><a class="headerlink" href="#alembic.ddl.postgresql.PostgresqlImpl.compare_server_default" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-alembic.ddl.sqlite">
<span id="sqlite"></span><h4>SQLite<a class="headerlink" href="#module-alembic.ddl.sqlite" title="Permalink to this headline">¶</a></h4>
<dl class="class">
<dt id="alembic.ddl.sqlite.SQLiteImpl">
<em class="property">class </em><tt class="descclassname">alembic.ddl.sqlite.</tt><tt class="descname">SQLiteImpl</tt><big>(</big><em>dialect</em>, <em>connection</em>, <em>as_sql</em>, <em>transactional_ddl</em>, <em>output_buffer</em>, <em>context_opts</em><big>)</big><a class="headerlink" href="#alembic.ddl.sqlite.SQLiteImpl" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#alembic.ddl.impl.DefaultImpl" title="alembic.ddl.impl.DefaultImpl"><tt class="xref py py-class docutils literal"><span class="pre">alembic.ddl.impl.DefaultImpl</span></tt></a></p>
</dd></dl>

</div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">API Details</a><ul>
<li><a class="reference internal" href="#env-py-directives">env.py Directives</a></li>
<li><a class="reference internal" href="#commands">Commands</a></li>
<li><a class="reference internal" href="#module-alembic.config">Configuration</a></li>
<li><a class="reference internal" href="#module-alembic.script">Internals</a><ul>
<li><a class="reference internal" href="#module-alembic.ddl">DDL Internals</a><ul>
<li><a class="reference internal" href="#module-alembic.ddl.mysql">MySQL</a></li>
<li><a class="reference internal" href="#module-alembic.ddl.mssql">MS-SQL</a></li>
<li><a class="reference internal" href="#module-alembic.ddl.postgresql">Postgresql</a></li>
<li><a class="reference internal" href="#module-alembic.ddl.sqlite">SQLite</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="ops.html"
                        title="previous chapter">Operation Reference</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/api.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" size="18" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="ops.html" title="Operation Reference"
             >previous</a> |</li>
        <li><a href="index.html">Alembic v0.1.0 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2010-2011, Mike Bayer.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.0.7.
    </div>
  </body>
</html>