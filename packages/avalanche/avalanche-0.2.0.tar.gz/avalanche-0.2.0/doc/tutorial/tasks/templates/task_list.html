{% extends "base.html" %}

{% block page %}
<h1>Task's List</h1>

{% if show_closed %}
  <a href="{{uri_for('task-list')}}">hide closed</a>
{% else %}
  <a href="{{uri_for('task-list', closed='1')}}">show closed</a>
{% endif %}

<ul id="tasks">
{% if tasks %}
  {% for task in tasks %}
  <li>
    {% if task.closed %}
      <span class="name" style="text-decoration:line-through">{{task.name}}</span>
    {% else %}
      <span class="name">{{task.name}}</span>
      <span class="actions">
        <form method="POST" action="{{uri_for('task-close', task_id=task.key().id())}}">
          [ <button type="submit">close</button> ]
        </form>
      </span>
    {% endif %}
  </li>
  {% endfor %}
{% else %}
  <li>There are no open tasks</li>
{% endif %}
  <li class="last">
    <a href="{{uri_for('task-new')}}">Add task</a>
  </li>
</ul>
{% endblock %}