<!DOCTYPE html5>
<html xml:lang="en" xmlns:tal="http://xml.zope.org/namespaces/tal"
      xmlns:metal="http://xml.zope.org/namespaces/metal">

  <head metal:use-macro="main.macros['head']" />

<tal:block metal:use-macro="main.macros['body']">
  <div metal:fill-slot="content">
    <div id="bottom">
      <h2 class="title" tal:content="string: ${package_name}"/>

      <div tal:condition="package" class="package-details">
        <h3 tal:content="string:Version ${package.version.version}" />
        <a class="all-versions" tal:condition="other_versions" href="${request.route_url('packages')}/${package_name}">(all versions)</a>
        <p>This package is used by following buildouts:</p>
        <ul>
          <li tal:repeat="buildout package.buildouts">
            <a href="${request.route_url('buildouts')}/${buildout.id}"
               tal:content="string: ${buildout.name}" />
          </li>
        </ul>
      </div>

      <tal:packages tal:condition="not: package" tal:repeat="package packages">
        <div tal:condition="package.buildouts" class="package-details">
          <h3 tal:content="string:Version ${package.version.version}" />
          <p>This package is used by following buildouts:</p>
          <ul>
            <li tal:repeat="buildout package.buildouts">
              <a href="${request.route_url('buildouts')}/${buildout.id}"
                 tal:content="string: ${buildout.name}" />
            </li>
          </ul>
        </div>
      </tal:packages>
    </div>
  </div>
</tal:block>
</html>
