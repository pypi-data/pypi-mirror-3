<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      lang="en"
      metal:use-macro="context/main_template/macros/master"
      i18n:domain="zpydoc">
<body>
 
  <metal:main fill-slot="main">
 
      <h1><img src="" tal:define="icon python: context.getIcon(1)"
               tal:attributes="src string:${utool}/${icon}">&nbsp;<span tal:content="context/title_or_id"/></h1>

        <a href=""
           class="link-parent"
           tal:define="parent_url python:context.navigationParent(context, template.getId())"
           tal:condition="parent_url"
           tal:attributes="href parent_url"
           i18n:translate="go_to_parent_url">
        Up one level
        </a>

         <div class="documentDescription" tal:content="context/Description"/>

    <fieldset>
        <legend><tal:block tal:condition="python: context.module_permitted('__builtins__')">Builtins, </tal:block>Packages and Modules</legend>
        <table width="100%"
               tal:define="encode python: modules['Products.Zpydoc.utils'].pydoc_encode;
                           pkgs context/getDocumentables;
                           cols python: 3;
                           rows python: int(math.ceil(len(pkgs) / float(cols)));
                           width python: '%i%%' % (100 / cols)">
          <tr tal:repeat="row python: range(0, rows)">
              <td width="25%" valign=top tal:repeat="col python:range(0, cols)" nowrap
                  tal:define="width python: '%i%%' % (100 / cols)">
                  <tal:block tal:on-error="string:"
                        tal:define="index python: rows * col + row;
                                    pkg python: pkgs[index][0];
                                    ispackage python: pkgs[index][1];
                                    ismodule  python: pkgs[index][2]">
                     <img tal:condition="ispackage" src="package.png" 
                          tal:attributes="src string:${portal_url}/package.png"/>
                     <img tal:condition="ismodule" src="file.png" 
                          tal:attributes="src string:${portal_url}/file.png"/>
                     <a href=""
                        tal:attributes="href python: '%s.html' % encode(pkg)">
                         <strong tal:condition="ispackage" tal:content="pkg"/>
                         <span tal:condition="not: ispackage" tal:content="pkg"/>
                     </a>
                   </tal:block>
              </td>
           </tr>
         </table>
     </fieldset>

     <div width="100%" align=right>
        <small><small>
          <a href="http://www.last-bastion.net/Zpydoc"><strong>Zpydoc</strong></a> by 
              <a href="http://www.last-bastion.net">Last Bastion Network</a>
        </small></small>
     </div>

      <div metal:use-macro="context/document_actions/macros/document_actions">
           Document actions (print, sendto etc)
      </div>

  </metal:main>
 
</body>
</html>
