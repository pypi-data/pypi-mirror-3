<metal:main use-macro="load: layout.pt">
  <metal:content metal:fill-slot="content">
    <h1>Google Authenticator</h1>

    <form class="form-horizontal" method="POST">
      <fieldset>
        <legend>Use android app to authenticate...</legend>
        <div class="control-group" tal:define="error python: 'username' in form.form.errors"
            tal:attributes="class python: error and 'error control-group' or 'control-group'">
          <label class="control-label" for="username">Username</label>
          <div class="controls">
            ${form.text("username", size=30)}
            <span class="help-inline" tal:condition="error">
              ${form.errorlist("username")}
            </span>
            <p class="help-block">
              Username you've signed up with.
            </p>
          </div>
        </div>
        <div class="control-group" tal:define="error python: 'code' in form.form.errors"
            tal:attributes="class python: error and 'error control-group' or 'control-group'">
          <label class="control-label" for="code">Access Code</label>
          <div class="controls">
            ${form.password("code", size=10)}
            <span class="help-inline" tal:condition="error">
              ${form.errorlist("code")}
            </span>
            <p class="help-block">
              As generated with google authenticator.
            </p>
          </div>
        </div>
        <div class="form-actions">
          <button type="submit" class="btn btn-primary">Authenticate</button>
        </div>
      </fieldset>
    </form>
  </metal:content>
</metal:main