<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>dropcols -- Drop Columns from a Delimited Text File</title>
<style type="text/css">
html, body {
	padding: 0;
	margin: 0;
	font-family: Arial, Helvetica, sans-serif;
	color: black;
	/*background-color: #FFEBCD;*/
	background-color: rgb(242, 236, 209);
}
body {
   margin-bottom: 3em;
	}
div#topheader {
	position: absolute;
	top: 0; left: 10%; width: 65%;
	background-color: #FFE4B5;
	background-color: rgb(228, 215, 152);
	border-bottom: 4px solid #814324;
	border-left: 4px solid #814324;
	border-right: 4px solid #814324;
	height: 6em;
	}
div#title {
	position: relative;
	top: 0.5em; left: 5%; width: 75%;
	padding: 0.5em 3em 0.5em 0em;
	text-align: center;
	font-family: Arial, Helvetica, sans-serif;
	font-size: 1.5em;
	font-weight: bold;
	word-spacing: 0.05em;
	color: #814324;
	background-color: rgb(250, 250, 210);
	border: 1px solid #814324;
	filter: alpha(opacity=80);
	opacity: 0.8;
	}
div#subtitle {
	position: absolute;
	bottom: 0.5em; width: 100%;
	text-align: center;
	font-family: Arial, Helvetica, sans-serif;
	font-size: 0.8em;
	font-weight: bold;
	color: #814324;
	}
#content {
	margin: 5.5em 20px 0 20px;
	}
p {
	text-indent: 2em;
	margin: 0.2em; 0 0 0;
	word-spacing: 0.05em;
	max-width: 55em;
	}
p.initial {
	text-indent: 0;
	margin: 0 0;
	}
li {
	max-width: 50em;
	margin-top: 0.3em;
	}
table {
	margin: 1em 40px;
	}
td, th {
	padding: 0 10px;
	}
div.code {
	margin: 0.5em 2em;
	padding: 0.25em 0.25em;
	border: 1px dotted rgb(123, 108, 34);
	font-family: "Courier New", Courier, fixed;
	font-size: 0.9em;
	/*background-color: rgb(250, 250, 210);*/
	background-color: rgb(252, 252, 226);
	/*color: rgb(129, 113, 36);*/
	color: rgb(123, 108, 34);
	white-space: pre;
	}
span.code {
	font-family: "Courier New", Courier, fixed;
	}
</style>
</head>
<body>
<div id="topheader"><div id="subtitle">Drop columns from a delimited text file</div></div>
<div id="title">dropcols.py</div>
<div id="content">
	<p class="initial"><span class="code">dropcols.py</span> is a Python module and program that 
removes (or conversely, extracts) selected columns from a delimited text file, such as a
CSV file.  It is analogous to the *nix "cut" program, except that it works on CSV files and
allows columns to be selected by name (regular expressions) in addition to by number.  Either 
the columns to keep, or the columns to remove, or both, can be specified.</p>

<h2><a name="syntax">Syntax and Options</a></h2>
<div class="code">dropcols.py [options] &lt;input file&gt;

Arguments:
   input file
      The name of the input file from which to read data. This must be a
      comma-separated-value (csv) text file.  The first line of the file
      must contain column names.
Options:
   -d &lt;column_name_regex1&gt; [column_name_regex2 [...]]
      Regular expression(s) to match column names to drop.
   -k &lt;column_name1_regex1&gt; [column_name_regex2 [...]]
      Regular expression(s) to match column names to keep.
   -s Show the names of the columns that will be kept.
   -h,--help
      Print this help and exit.
   -v,--version
      Print the version number and exit.
</div>

<h2><a name="notes">Usage Notes</a></h2>

<ul><li>The first line of the file should contain the names of the columns.</li>

<li>Output is written to stdout.</li>

<li>Column numbers can be used instead of (or as well as) regular expressions
on the column names.  Ranges and comma-separated lists of column numbers
can be used.  The first column is number 1.</li>

<li>If only a 'drop' list is specified, all columns will be kept except those
on the 'drop' list.  If only a 'keep' list is specified, all columns will
be dropped except those on the 'keep' list.  If both lists are specified,
the 'keep' specifications will apply only to (and may thereby undo) the
columns dropped per the 'drop' list.</li>

<li>Column order in the output file will be the same as in the input
file, regardless of the order of items in the 'drop' and 'keep' lists.</li>

<li>The -s option allows verification that the correct columns will be selected
without requiring processing of the entire input file.</s>
</ul>

<h2><a name="examples">Examples</a></h2>

<p>To keep columns 2, 4, 5, and 6, plus a column headed "Status", any of the following
expressions can be used with the 'keep' option.</p>

<div class="code">-k 2 4 5 6 Status
</div>

<div class="code">-k 2 -k 4 -k 5 -k 6 -k Status
</div>

<div class="code">-k 2,4-6 Status
</div>

<div class="code">-k Status 4-6,2
</div>

<p>The range specification can even be reversed.</p>
<div class="code">-k 6-4,2 Status
</div>


<h2><a name="copyright">Copyright and License</a></h2>
<p class="initial">Copyright (c) 2007-2011, R.Dreas Nielsen</p>
<p>This program is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.
This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.
The GNU General Public License is available at 
<a href="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</a>.</p>
</ol>
</div>
</body>
</html>
