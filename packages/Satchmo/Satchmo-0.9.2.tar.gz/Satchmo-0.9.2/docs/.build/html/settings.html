

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Settings &mdash; Satchmo v0.9.2-development documentation</title>
    <link rel="stylesheet" href="_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.9.2-development',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="author" title="About these documents" href="about.html" />
    <link rel="top" title="Satchmo v0.9.2-development documentation" href="index.html" />
    <link rel="next" title="Basic Configuration" href="configuration.html" />
    <link rel="prev" title="Installation" href="new_installation.html" /> 
  </head>
  <body>

<div style="background-image: url(_static/satchmo-sliver.jpg); background-repeat: repeat-x; background-color: white; text-align: left;">
<img src="_static/satchmo-front.jpg">
</div>

    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="configuration.html" title="Basic Configuration"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="new_installation.html" title="Installation"
             accesskey="P">previous</a> |</li>
        <li><a href="http://www.satchmoproject.com">Satchmo home </a> |&nbsp;</li>
        
        <li><a href="index.html">Satchmo v0.9.2-development documentation</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Settings</a><ul>
<li><a class="reference internal" href="#customizing-the-settings">Customizing the settings</a></li>
<li><a class="reference internal" href="#configure-the-rest-of-the-required-files">Configure the rest of the required files</a></li>
<li><a class="reference internal" href="#test-and-install-the-data">Test and Install the Data</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="new_installation.html"
                        title="previous chapter">Installation</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="configuration.html"
                        title="next chapter">Basic Configuration</a></p>

<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" size="18" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
<p>Documentation Version:</p>
<ul>
    <li><a href="/docs/dev">Current development version</a></li>
    <li><a href="/docs/rel/latest">Latest Release version</a></li>
    <li><a href="http://bitbucket.org/chris1610/satchmo/downloads/Satchmo-0-9-1.pdf">PDF Documentation</a></li>
</ul>

        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="settings">
<h1>Settings<a class="headerlink" href="#settings" title="Permalink to this headline">¶</a></h1>
<p>The recommended way to get a working settings file and configure your first store is to use the <a class="reference internal" href="new_installation.html#clonesatchmo"><em>clonesatchmo</em></a> program.
However, if you would like to customize the settings by hand or dive into the details
of how Satchmo&#8217;s settings are used, this portion of the documentation will be useful.</p>
<div class="section" id="customizing-the-settings">
<h2>Customizing the settings<a class="headerlink" href="#customizing-the-settings" title="Permalink to this headline">¶</a></h2>
<p>Once Satchmo is installed on your PYTHONPATH, you will need to create a new project or integrate Satchmo
into an existing project. Before proceeding with the next steps, please familiarize yourself with the
sample projects, <a class="reference internal" href="directory_structure.html#satchmo-sample-projects"><em>see here for more</em></a>.</p>
<p>Each of these projects show examples of how to configure Satchmo and integrate it with other Django applications.
Once you are familiar with these examples, you can configure your project based on the notes below.</p>
<p>Additionally, there is a streamlined satchmo directory structure in the skel directory. You may use this as the
basis for your store.</p>
<p>You need to customize the settings.py file in mystore to include the relevant satchmo information. A sample file
called <tt class="file docutils literal"><span class="pre">settings.py</span></tt> is available in the projects/base directory to act as a template. You may
use this file as a template for <tt class="file docutils literal"><span class="pre">settings.py</span></tt> or use the notes below to configure your existing one.</p>
<p>Please remember to ensure that your Django database connections and settings are working properly before trying
to add any pieces of satchmo.</p>
<ol class="arabic">
<li><p class="first">Ensure that <tt class="file docutils literal"><span class="pre">/home/user/src/mystore/settings.py</span></tt> has the following satchmo-specific configurations
(in addition to the defaults and your other app needs):</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">os</span>
<span class="n">DIRNAME</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">__file__</span><span class="p">))</span>
<span class="n">LOCAL_DEV</span> <span class="o">=</span> <span class="bp">True</span>

<span class="n">MEDIA_ROOT</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">DIRNAME</span><span class="p">,</span> <span class="s">&#39;static/&#39;</span><span class="p">)</span>
<span class="n">MEDIA_URL</span> <span class="o">=</span> <span class="s">&#39;/static/&#39;</span>

<span class="n">MIDDLEWARE_CLASSES</span> <span class="o">=</span> <span class="p">(</span>
    <span class="s">&quot;django.middleware.common.CommonMiddleware&quot;</span><span class="p">,</span>
    <span class="s">&quot;django.contrib.sessions.middleware.SessionMiddleware&quot;</span><span class="p">,</span>
    <span class="s">&quot;django.middleware.locale.LocaleMiddleware&quot;</span><span class="p">,</span>
    <span class="s">&quot;django.contrib.auth.middleware.AuthenticationMiddleware&quot;</span><span class="p">,</span>
    <span class="s">&quot;django.middleware.doc.XViewMiddleware&quot;</span><span class="p">,</span>
    <span class="s">&quot;threaded_multihost.middleware.ThreadLocalMiddleware&quot;</span><span class="p">,</span>
    <span class="s">&quot;satchmo_store.shop.SSLMiddleware.SSLRedirect&quot;</span><span class="p">,</span>
    <span class="s">&quot;django.middleware.csrf.CsrfViewMiddleware&quot;</span><span class="p">,</span>
    <span class="s">&quot;django.contrib.messages.middleware.MessageMiddleware&quot;</span><span class="p">)</span>

<span class="n">TEMPLATE_DIRS</span> <span class="o">=</span> <span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">DIRNAME</span><span class="p">,</span> <span class="s">&quot;templates&quot;</span><span class="p">))</span>
<span class="n">TEMPLATE_CONTEXT_PROCESSORS</span> <span class="o">=</span>     <span class="p">(</span><span class="s">&#39;satchmo_store.shop.context_processors.settings&#39;</span><span class="p">,</span>
                                 <span class="s">&#39;django.core.context_processors.auth&#39;</span><span class="p">,</span>
                                 <span class="s">&#39;django.contrib.messages.context_processors.messages&#39;</span><span class="p">,</span>
                                 <span class="p">)</span>

<span class="n">INSTALLED_APPS</span> <span class="o">=</span> <span class="p">(</span>
        <span class="s">&#39;django.contrib.sites&#39;</span><span class="p">,</span>
        <span class="s">&#39;django.contrib.messages&#39;</span><span class="p">,</span>
        <span class="s">&#39;satchmo_store.shop&#39;</span><span class="p">,</span>
        <span class="s">&#39;django.contrib.admin&#39;</span><span class="p">,</span>
        <span class="s">&#39;django.contrib.auth&#39;</span><span class="p">,</span>
        <span class="s">&#39;django.contrib.admindocs&#39;</span><span class="p">,</span>
        <span class="s">&#39;django.contrib.contenttypes&#39;</span><span class="p">,</span>
        <span class="s">&#39;django.contrib.comments&#39;</span><span class="p">,</span>
        <span class="s">&#39;django.contrib.sessions&#39;</span><span class="p">,</span>
        <span class="s">&#39;django.contrib.sitemaps&#39;</span><span class="p">,</span>
        <span class="s">&#39;registration&#39;</span><span class="p">,</span>
        <span class="s">&#39;keyedcache&#39;</span><span class="p">,</span>
        <span class="s">&#39;livesettings&#39;</span><span class="p">,</span>
        <span class="s">&#39;l10n&#39;</span><span class="p">,</span>
        <span class="s">&#39;sorl.thumbnail&#39;</span><span class="p">,</span>
        <span class="s">&#39;satchmo_store.contact&#39;</span><span class="p">,</span>
        <span class="s">&#39;tax&#39;</span><span class="p">,</span>
        <span class="s">&#39;tax.modules.no&#39;</span><span class="p">,</span>
        <span class="s">&#39;tax.modules.area&#39;</span><span class="p">,</span>
        <span class="s">&#39;tax.modules.percent&#39;</span><span class="p">,</span>
        <span class="s">&#39;shipping&#39;</span><span class="p">,</span>
        <span class="s">&#39;product&#39;</span><span class="p">,</span>
        <span class="s">&#39;product.modules.configurable&#39;</span><span class="p">,</span>
        <span class="s">&#39;product.modules.custom&#39;</span><span class="p">,</span>
        <span class="s">&#39;product.modules.downloadable&#39;</span><span class="p">,</span>
        <span class="s">&#39;product.modules.subscription&#39;</span><span class="p">,</span>
        <span class="s">&#39;payment&#39;</span><span class="p">,</span>
        <span class="s">&#39;payment.modules.dummy&#39;</span><span class="p">,</span>
        <span class="s">&#39;payment.modules.giftcertificate&#39;</span><span class="p">,</span>
        <span class="s">&#39;satchmo_utils&#39;</span><span class="p">,</span>
        <span class="s">&#39;app_plugins&#39;</span><span class="p">,</span>
        <span class="p">)</span>

<span class="n">AUTHENTICATION_BACKENDS</span> <span class="o">=</span> <span class="p">(</span>
    <span class="s">&#39;satchmo_store.accounts.email-auth.EmailBackend&#39;</span><span class="p">,</span>
    <span class="s">&#39;django.contrib.auth.backends.ModelBackend&#39;</span>
    <span class="p">)</span>

<span class="c">#### Satchmo unique variables ####</span>
<span class="c">#from django.conf.urls.defaults import patterns, include</span>
<span class="n">SATCHMO_SETTINGS</span> <span class="o">=</span> <span class="p">{</span>
                    <span class="s">&#39;SHOP_BASE&#39;</span> <span class="p">:</span> <span class="s">&#39;&#39;</span><span class="p">,</span>
                    <span class="s">&#39;MULTISHOP&#39;</span> <span class="p">:</span> <span class="bp">False</span><span class="p">,</span>
                    <span class="s">&#39;SSL&#39;</span>       <span class="p">:</span> <span class="bp">False</span><span class="p">,</span>
                    <span class="c">#&#39;SHOP_URLS&#39; : patterns(&#39;satchmo_store.shop.views&#39;,)</span>
                    <span class="p">}</span>

<span class="c"># Load the local settings</span>
<span class="kn">from</span> <span class="nn">local_settings</span> <span class="kn">import</span> <span class="o">*</span>
</pre></div>
</div>
</li>
</ol>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">In order for the admin site to work properly, you must have satchmo_store.shop placed before django.contrib.admin</p>
</div>
<ol class="arabic" start="2">
<li><p class="first">Copy the <tt class="file docutils literal"><span class="pre">local_settings</span></tt> file to mystore:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">cp</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">user</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">satchmo</span><span class="o">-</span><span class="n">trunk</span><span class="o">/</span><span class="n">satchmo</span><span class="o">/</span><span class="n">projects</span><span class="o">/</span><span class="n">base</span><span class="o">/</span><span class="n">local_settings</span><span class="o">.</span><span class="n">py</span> \
    <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">user</span><span class="o">/</span><span class="n">src</span><span class="o">/</span><span class="n">mystore</span><span class="o">/</span><span class="n">local_settings</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
</li>
<li><p class="first">You will need to verify the values assigned to the following items in <tt class="file docutils literal"><span class="pre">local_settings.py</span></tt>:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">SITE_NAME</span>
<span class="n">CACHE_BACKEND</span>
<span class="n">CACHE_TIMEOUT</span>
<span class="n">SITE_DOMAIN</span>
<span class="n">LOGDIR</span>
<span class="n">LOGFILE</span>
</pre></div>
</div>
</li>
</ol>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Satchmo requires that your database be able to support utf-8 characters. This is
especially important for MySQL. If you are using MySQL, you may want to use the
following statement in your settings file to enforce utf-8 collation:</p>
<div class="last highlight-python"><div class="highlight"><pre><span class="n">DATABASES</span><span class="p">[</span><span class="s">&#39;default&#39;</span><span class="p">][</span><span class="s">&#39;OPTIONS&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s">&#39;init_command&#39;</span> <span class="p">:</span> <span class="s">&#39;SET NAMES &quot;utf8&quot;&#39;</span><span class="p">,</span>
   <span class="p">}</span>
</pre></div>
</div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>If you are using a Windows system, we recommend setting your MEDIA_ROOT using normalize_path as
shown below:</p>
<div class="last highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">satchmo_utils.thumbnail</span> <span class="kn">import</span> <span class="n">normalize_path</span>
<span class="n">MEDIA_ROOT</span> <span class="o">=</span> <span class="n">normalize_path</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">DIRNAME</span><span class="p">,</span> <span class="s">&#39;static/&#39;</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="configure-the-rest-of-the-required-files">
<h2>Configure the rest of the required files<a class="headerlink" href="#configure-the-rest-of-the-required-files" title="Permalink to this headline">¶</a></h2>
<ol class="arabic">
<li><p class="first">Next, you need to configure your <tt class="file docutils literal"><span class="pre">urls.py</span></tt> file. The most simple <tt class="file docutils literal"><span class="pre">urls.py</span></tt> file would look like this:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">django.conf.urls.defaults</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">satchmo_store.urls</span> <span class="kn">import</span> <span class="n">urlpatterns</span>
</pre></div>
</div>
</li>
<li><p class="first">If you have additional urls you would like to add to your project, it would look like this:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">django.conf.urls.defaults</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">satchmo_store.urls</span> <span class="kn">import</span> <span class="n">urlpatterns</span>

<span class="n">urlpatterns</span> <span class="o">+=</span> <span class="n">patterns</span><span class="p">(</span><span class="s">&#39;&#39;</span><span class="p">,</span>
    <span class="p">(</span><span class="s">r&#39;test/&#39;</span><span class="p">,</span> <span class="n">include</span><span class="p">(</span><span class="s">&#39;simple.localsite.urls&#39;</span><span class="p">))</span>
<span class="p">)</span>
</pre></div>
</div>
</li>
<li><p class="first">Copy over the static directory:</p>
<div class="highlight-python"><pre>python manage.py satchmo_copy_static</pre>
</div>
</li>
</ol>
<p>4. Ensure that you have a template directory setup. You only need to place templates in the directory if you are
overriding existing templates.</p>
<p>After you have installed everything, you should have a directory structure that looks similar to this:</p>
<div class="highlight-python"><pre>mystore
    |-- __init__.py
    |-- local_settings.py
    |-- manage.py
    |-- satchmo.log
    |-- settings.py
    |-- simple.db
    |-- static
    |   |-- css
    |   |   |-- blackbird.css
    |   |   |-- jquery.autocomplete.css
    |   |   `-- style.css
    |   |-- images
    |   |   |-- blackbird_icons.png
    |   |   |-- blackbird_panel.png
    |   |   |-- productimage-picture-default.jpg
    |   |   |-- productimage-picture-default_jpg_85x85_q85.jpg
    |   |   `-- sample-logo.bmp
    |   `-- js
    |       |-- blackbird.js
    |       |-- jquery.ajaxQueue.js
    |       |-- jquery.autocomplete.js
    |       |-- jquery.bgiframe.js
    |       |-- jquery.cookie.js
    |       |-- jquery.form.js
    |       |-- jquery.js
    |       |-- satchmo_checkout.js
    |       |-- satchmo_pay_ship.js
    |       |-- satchmo_product.js
    |       `-- satchmo_store.js
    |-- templates
    `-- urls.py</pre>
</div>
</div>
<div class="section" id="test-and-install-the-data">
<h2>Test and Install the Data<a class="headerlink" href="#test-and-install-the-data" title="Permalink to this headline">¶</a></h2>
<ol class="arabic">
<li><p class="first">Now, you should be ready to go. In order to test your Satchmo setup, execute the following command (from the mystore directory):</p>
<div class="highlight-python"><pre>python manage.py satchmo_check
Checking your satchmo configuration.
Your configuration has no errors.</pre>
</div>
</li>
<li><p class="first">If any errors are identified, resolve them based on the error description.</p>
</li>
<li><p class="first">Sync the new satchmo tables:</p>
<div class="highlight-python"><pre>python manage.py syncdb</pre>
</div>
</li>
<li><p class="first">Load the country data stored in the l10n application:</p>
<div class="highlight-python"><pre>python manage.py satchmo_load_l10n</pre>
</div>
</li>
<li><p class="first">(Optional) Load the demo store data:</p>
<div class="highlight-python"><pre>python manage.py satchmo_load_store</pre>
</div>
</li>
<li><p class="first">(Optional) Load the US tax table:</p>
<div class="highlight-python"><pre>python manage.py satchmo_load_us_tax</pre>
</div>
</li>
</ol>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="configuration.html" title="Basic Configuration"
             >next</a> |</li>
        <li class="right" >
          <a href="new_installation.html" title="Installation"
             >previous</a> |</li>
        <li><a href="http://www.satchmoproject.com">Satchmo home </a> |&nbsp;</li>
        
        <li><a href="index.html">Satchmo v0.9.2-development documentation</a> &raquo;</li> 
      </ul>
    </div>

    <div class="footer">
        &copy; Copyright 2010, Chris Moffitt.
      Last updated on Mar 10, 2012.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.0.5.
    </div>
<script src='http://www.google-analytics.com/ga.js' type='text/javascript'></script>
<script type="text/javascript">
var pageTracker = _gat._getTracker("UA-1711397-1");
pageTracker._initData();
pageTracker._trackPageview();
</script>
  </body>
</html>