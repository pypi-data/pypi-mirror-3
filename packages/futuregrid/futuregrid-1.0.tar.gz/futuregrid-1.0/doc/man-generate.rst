.. _man-generate:

Image Generation (fg-generate)
==============================

This service generates images with the requested OS and software stacks specification.

fg-generate
-----------

::

   usage: fg-generate [-h] -u USER [-d] -o OSName [-v OSversion] [-a arch]
                      [--baseimage | -s software] [--scratch] [-n givenname]
                      [-e description] [-g] [-z SIZE] [--nopasswd]
   
   Options between brackets are not required. Parenthesis means that you need to specify one of the options.
   

+------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| **Option**                         | **Description**                                                                                                                                                                        |
+------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| ``-h/--help``                      | Shows help information and exit.                                                                                                                                                       |
+------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| ``-u/--user <userName>``           | FutureGrid HPC user name, that is, the one used to login into the FG resources.                                                                                                        |
+------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| ``-o/--os <osName>``               | Specify the desired Operating System for the new image. Currently, CentOS and Ubuntu are supported                                                                                     |
+------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| ``-v/--version <osVersion>``       | Operating System version. In the case of Centos, it can be 5 or 6. In the case of Ubuntu, it can be karmic(9.10), lucid(10.04), maverick(10.10), natty (11.04)                         |
+------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| ``-a/--arch <arch>``               | Destination hardware architecture (x86_64 or i386)                                                                                                                                     |
+------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| ``--baseimage``                    | Generate a Base Image that will be used to generate other images. In this way, the image generation process will be faster.                                                            |
+------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| ``-s/--software <software>``       | List of software packages, separated by commas, that will be installed in the image.                                                                                                   |
+------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| ``--scratch``                      | Generate the image from scratch without using any Base Image from the repository.                                                                                                      |
+------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| ``-n/--name <givenname>``          | Desired recognizable name of the image.                                                                                                                                                |
+------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| ``-e/--description <description>`` | Short description of the image and its purpose.                                                                                                                                        |
+------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| ``-g/--getimg``                    | Retrieve the image instead of uploading to the image repository.                                                                                                                       |
+------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| ``-z/--size <SIZE>``               | Specify the size of the Image in GigaBytes. The size must be large enough to install all the software required. The default and minimum size is 1.5GB, which is enough for most cases. |
+------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| ``--nopasswd``                     | If this option is used, the password is not requested. This is intended for systems daemons like Inca.                                                                                 |
+------------------------------------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+


Examples
--------

* Generate a CentOS image
  
   ::
   
      $ fg-generate -o centos -v 5 -a x86_64 -s wget,emacs,python26 -u jdiaz      

* Generate an Ubuntu image

   ::
   
      $ fg-generate -o ubuntu -v 10.10 -a x86_64 -s wget,openmpi-bin -u jdiaz
      

   