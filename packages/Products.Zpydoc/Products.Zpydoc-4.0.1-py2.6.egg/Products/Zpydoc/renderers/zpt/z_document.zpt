<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN">
<html metal:use-macro="container/standard_template.pt/macros/page">
  <body metal:fill-slot="body"
        tal:define="info python: options['args'][2];
                    view request/form/view | string:default">

    <div tal:condition="python: view == 'default'">
     <table width="100%" cellspacing=0 cellpadding=2 border=0>
       <tr bgcolor="silver">
         <td valign=bottom>
           <small>&nbsp;<br></small>
           <font color="#ffffff" face="helvetica, arial">&nbsp;<br>
               <big><big><strong tal:content="info/title"/></big></big>
               <span tal:condition="info/version" 
                     tal:content="string:(Version ${info/version})"/>
           </font>
         </td>
         <td align=right valign=bottom>
            <font color="#ffffff" face="helvetica, arial">
               <a href=".">Index</a><br>
               <a href="" tal:condition="not: info/ispackage"
                          tal:attributes="href string:${info/title}?view=src">View Source</a>
            </font>
         </td>
       </tr>
      </table>

      <div tal:condition="info/doc">
         <p/>
         <small><tt tal:content="structure info/doc"/></small>
      </div>

      <p/>
      <div tal:omit-tag="" tal:define="bgcolor string:#aa55cc; pkgs info/packages" 
           tal:condition="info/ispackage">
        <table metal:use-macro="container/standard_template.pt/macros/box">
          <div metal:fill-slot="title">
             <font color="#ffffff" face="helvetica, arial">
                  <big><strong>Package Contents</strong></big>
             </font>
          </div>
          <div metal:fill-slot="body">
             <table width="100%">
               <tr>
                 <span tal:omit-tag="" tal:define="cols python: 4;
                                                   rows python: int( math.ceil(len(pkgs) / float(cols)) )">
                   <td width="25%" valign=top tal:repeat="col python:range(0, cols)">
                <span tal:repeat="row python: range(0, rows)" tal:omit-tag="">
                   <div tal:omit-tag="" tal:define="index python: rows * col + row"
                        tal:condition="python: len(pkgs) > index ">
                      <a href=""
                         tal:define="pkg python: pkgs[index]['name'];
                                     ispackage python: pkgs[index]['ispackage']"
                         tal:attributes="href python: '%s.%s.html' % (
                                 modules['Products.Zpydoc.utils'].pydoc_encode(info.id),pkg)">
                             <strong tal:condition="ispackage" tal:content="pkg"/>
                             <span tal:condition="not: ispackage" tal:content="pkg"/>
                             <span tal:condition="ispackage" tal:replace="string: (package)"/>
                      </a>
                      <br>
                   </div>
                </span>
                   </td>
                 </span>
               </tr>
             </table>
           </div>
        </table>
      </div>

      <p/>
      <div tal:omit-tag="" tal:define="bgcolor string:#aa55cc; mods info/modules" 
           tal:condition="info/ismodule">
        <table metal:use-macro="container/standard_template.pt/macros/box" tal:condition="mods">
          <div metal:fill-slot="title">
              <font color="#ffffff" face="helvetica, arial">
                  <big><strong>Modules</strong></big>
             </font>
          </div>
          <div metal:fill-slot="body">
             <table width="100%">
               <tr>
                 <span tal:omit-tag="" tal:define="cols python: 4;
                                                   rows python: int( math.ceil(len(mods) / float(cols)) )">
                   <td width="25%" valign=top tal:repeat="col python:range(0, cols)">
                      <span tal:repeat="row python: range(0, rows)" tal:omit-tag="">
                        <a href=""
                           tal:define="index python: rows * col + row;
                                       mod python: mods[index]"
                           tal:on-error="string:"
                           tal:attributes="href string:${mod/name}.html"
                           tal:content="mod/name"/><br>
                      </span>
                   </td>
                 </span>
               </tr>
             </table>
           </div>
        </table>
      </div>

      <p/>
      <div tal:omit-tag="" tal:define="bgcolor string:#ee77aa;
                                       classes info/classes"
           tal:condition="classes">
        <table metal:use-macro="container/standard_template.pt/macros/box">
          <div metal:fill-slot="title">
             <font color="#ffffff" face="helvetica, arial">
                  <big><strong>Classes</strong></big>
             </font>
          </div>
          <div metal:fill-slot="body">
              <dl tal:replace="structure info/classtree"/>
              <span tal:omit-tag="" tal:repeat="cls classes">
                 <div tal:omit-tag="" tal:define="bgcolor string:#ffc8d8">
                   <table metal:use-macro="container/standard_template.pt/macros/box">
                     <div metal:fill-slot="title">
                       <img src="" tal:condition="exists: cls/productinfo/iconpath"
                            tal:attributes="src string:${request/BASEPATH1}/${cls/productinfo/iconpath}"/>
                       &nbsp;&nbsp;
                       <font color="#000000" face="helvetica, arial">
                          <a name="" tal:attributes="name cls/id">class <strong tal:content="cls/id"/></a>
                          ( <span tal:omit-tag="" tal:repeat="parent cls/bases">
                              <a href="" tal:attributes="href string:${parent/module}.${parent/name}.html" 
                                         tal:content="string:${parent/module}.${parent/name}"/>
                              <span tal:condition="not: repeat/parent/end" tal:replace="string: ,"/>
                            </span> )
                       </font><br>
                       <dl tal:condition="cls/productinfo/interfaces | nothing">
                            <dd><span strong>Implements</span>
                                  <tt tal:repeat="intf cls/productinfo/interfaces">
                                     <a href="" tal:attributes="href string:./${intf/getsourcefile}.html#${intf/name}" 
                                                tal:content="intf/name"/>
                                </tt>
                            </dd>
                       </dl>
                       <dl tal:condition="cls/doc"><dd><small><tt tal:content="structure cls/doc"/></small></dd></dl>
                       <dl tal:condition="cls/productinfo/permission | nothing">
                          <dd><small>
                                <em>Add Permission: <span tal:replace="cls/productinfo/permission"/></em>
                              </small>
                          </dd>
                       </dl>
                     </div>
                     <div metal:fill-slot="body">
                        <dl tal:repeat="func cls/public_methods"><dt>
                            <a name="" tal:attributes="name string:-${func/id}">
                            <strong tal:content="func/id"/></a><span tal:replace="structure func/args"/>
                            <dd tal:condition="func/permission">
                               <small>
                                 <em>Permission: </em>&nbsp;&nbsp;<em tal:content="func/permission"/>
                               </small>
                            </dd>
                            <dd tal:condition="func/doc">
                               <small><tt tal:content="structure func/doc"/></small>
                            </dd>
                        </dl>
                        <dl tal:repeat="func cls/private_methods" tal:condition="here/show_private"><dt>
                            <a name="" tal:attributes="name string:-${func/id}">
                            <strong tal:content="func/id"/></a><span tal:replace="structure func/args"/>
                            <dd tal:condition="func/permission">
                               <small>
                                   <em>Permission: </em>&nbsp;&nbsp;<em tal:content="func/permission"/>
                               </small>
                            </dd>
                            <dd tal:condition="func/doc">
                               <small><tt tal:content="structure func/doc"/></small>
                            </dd>
                        </dl>
                     </div>
                   </table>
                 </div>
                 <p/>
             </span>
          </div>
        </table>
      </div>

      <p/>
      <div tal:omit-tag="" tal:define="bgcolor string:#eeaa77; funcs info/functions"
           tal:condition="funcs">
        <table metal:use-macro="container/standard_template.pt/macros/box">
          <div metal:fill-slot="title">
             <font color="#ffffff" face="helvetica, arial">
                  <big><strong>Functions</strong></big>
             </font>
          </div>
          <div metal:fill-slot="body">
              <dl tal:repeat="func funcs"><dt>
                <a name="" tal:attributes="name string:-${func/id}">
                  <strong tal:content="func/id"/></a><span tal:replace="structure func/args"/>
                <dd tal:condition="func/doc">
                   <small><tt tal:content="structure func/doc"/></small>
                </dd>
              </dl>
           </div>
        </table>
      </div>

     <p/>
      <div tal:omit-tag="" tal:define="bgcolor string:#55aa55; data info/data"
           tal:condition="data">
        <table metal:use-macro="container/standard_template.pt/macros/box">
          <div metal:fill-slot="title">
              <font color="#ffffff" face="helvetica, arial">
                  <big><strong>Data</strong></big>
             </font>
          </div>
          <div metal:fill-slot="body">
              <br/>
              <span tal:omit-tag="" tal:repeat="datum data">
                 <strong tal:content="python: datum[0]"/> = <span tal:replace="python: datum[1]"/><br/><br/>
              </span>
          </div>
        </table>
      </div>
    </div>

    <code tal:condition="python: view=='src'"
          tal:content="structure python: here.format( info['getsourcefile'] )"/>
    
  </body>
</html>
