{% extends "form_template.html" %}

{% block form_style %}delete_form_container{% endblock %}

{% block components %}

<div class="warning_row">
 Are you sure you want to delete the selected {{class_name}} '{{object}}' ?
 {% if depending_objects %}
 All of the following objects and its related items will be deleted :
 {% endif %}
</div> 

{% if depending_objects %} 
<div id="dependent_objects_row">
 <ul>	
  {% if depending_objects|length > 1 %}<li>delete all dependent objects<input type="checkbox" checked="checked" name="delete_all" value="true"></input></li>{% endif %}
  {% for class,object,is_required,level in depending_objects %} 
   <li style="margin-left:{{level}}px;padding-bottom:5px;">
   <span>delete {{class}} {{object}}</span>
   {% if is_required %}
   <img class="alert_icon" src="{{MEDIA_URL}}images/icon_alert.gif"></img>
   {% else %}
   <input type="checkbox" name="selected_objects" value="{{class}}.{{object.pk}}"></input>
   {% endif %}
  </li>	
   {% endfor %}
 </ul>
</div> 
{% endif %}

{% if m2m_links %}
<div class="warning_row">
 Some links will be broken after deletion
 <ul>
 {% for class,objects in m2m_links.items %}
 <li>{{class}}
  {% for object in objects %}
  <ul>
   <li>{{object}}</li>
  </ul>
  {% endfor %}
 </li>
 {% endfor %}
 </ul>
</div> 
{% endif %}

{% if depending_objects %}
<div id="log_row">
 <div class="note">
  <span><img src="{{MEDIA_URL}}images/icon_alert.gif"></img> : </span>Some checkboxes could be disabled because the object to delete is required by another object.
To avoid the automatic deletion of depending objects, link them to another one.
 </div>
</div>
{% endif %}

 {% include "form_submit_row.html" %}
 
{% endblock %}