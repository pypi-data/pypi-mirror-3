

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>List Commands &mdash; cliff 0.1 documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="cliff 0.1 documentation" href="index.html" />
    <link rel="next" title="Cliff Classes" href="classes.html" />
    <link rel="prev" title="Exploring the Demo App" href="demoapp.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="classes.html" title="Cliff Classes"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="demoapp.html" title="Exploring the Demo App"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">cliff 0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="list-commands">
<h1>List Commands<a class="headerlink" href="#list-commands" title="Permalink to this headline">¶</a></h1>
<p>One of the most common patterns with command line programs is the need
to print lists of data. cliff provides a base class for commands of
this type so that they only need to prepare the data, and the user can
choose from one of several output formatter plugins to see the list of
data in their preferred format.</p>
<div class="section" id="lister">
<h2>Lister<a class="headerlink" href="#lister" title="Permalink to this headline">¶</a></h2>
<p>The <a class="reference internal" href="classes.html#cliff.lister.Lister" title="cliff.lister.Lister"><tt class="xref py py-class docutils literal"><span class="pre">cliff.lister.Lister</span></tt></a> base class API extends
<tt class="xref py py-class docutils literal"><span class="pre">Command</span></tt> to add a <tt class="xref py py-func docutils literal"><span class="pre">get_data()</span></tt> method. Subclasses should
provide a <tt class="xref py py-func docutils literal"><span class="pre">get_data()</span></tt> implementation that returns a two member
tuple containing a tuple with the names of the columns in the dataset
and an iterable that will yield the data to be output. See the
description of <a class="reference internal" href="demoapp.html#demoapp-list"><em>the files command in the demoapp</em></a>
for details.</p>
</div>
<div class="section" id="list-output-formatters">
<h2>List Output Formatters<a class="headerlink" href="#list-output-formatters" title="Permalink to this headline">¶</a></h2>
<p>cliff is delivered with two output formatters for list
commands. <tt class="xref py py-class docutils literal"><span class="pre">Lister</span></tt> adds a command line switch to let the user
specify the formatter they want, so you don&#8217;t have to do any extra
work in your application.</p>
<div class="section" id="csv">
<h3>csv<a class="headerlink" href="#csv" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">csv</span></tt> formatter produces a comma-separated-values document as
output. CSV data can be imported into a database or spreadsheet for
further manipulation.</p>
<div class="highlight-python"><pre>(.venv)$ cliffdemo files -f csv
"Name","Size"
"build",136
"cliffdemo.log",2690
"Makefile",5569
"source",408</pre>
</div>
</div>
<div class="section" id="prettytable">
<h3>PrettyTable<a class="headerlink" href="#prettytable" title="Permalink to this headline">¶</a></h3>
<p>The <tt class="docutils literal"><span class="pre">PrettyTable</span></tt> formatter uses <a class="reference external" href="http://code.google.com/p/prettytable/">PrettyTable</a> to produce output
formatted for human consumption.</p>
<div class="highlight-python"><pre>(.venv)$ cliffdemo files
+---------------+------+
|      Name     | Size |
+---------------+------+
| build         |  136 |
| cliffdemo.log | 2546 |
| Makefile      | 5569 |
| source        |  408 |
+---------------+------+</pre>
</div>
</div>
<div class="section" id="creating-your-own-formatter">
<h3>Creating Your Own Formatter<a class="headerlink" href="#creating-your-own-formatter" title="Permalink to this headline">¶</a></h3>
<p>If the standard formatters do not meet your needs, you can bundle
another formatter with your program by subclassing from
<a class="reference internal" href="classes.html#cliff.formatters.base.ListFormatter" title="cliff.formatters.base.ListFormatter"><tt class="xref py py-class docutils literal"><span class="pre">cliff.formatters.base.ListFormatter</span></tt></a> and registering the
plugin in the <tt class="docutils literal"><span class="pre">cliff.formatter.list</span></tt> namespace.</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">List Commands</a><ul>
<li><a class="reference internal" href="#lister">Lister</a></li>
<li><a class="reference internal" href="#list-output-formatters">List Output Formatters</a><ul>
<li><a class="reference internal" href="#csv">csv</a></li>
<li><a class="reference internal" href="#prettytable">PrettyTable</a></li>
<li><a class="reference internal" href="#creating-your-own-formatter">Creating Your Own Formatter</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="demoapp.html"
                        title="previous chapter">Exploring the Demo App</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="classes.html"
                        title="next chapter">Cliff Classes</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/list_commands.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="classes.html" title="Cliff Classes"
             >next</a> |</li>
        <li class="right" >
          <a href="demoapp.html" title="Exploring the Demo App"
             >previous</a> |</li>
        <li><a href="index.html">cliff 0.1 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2012, Doug Hellmann.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>