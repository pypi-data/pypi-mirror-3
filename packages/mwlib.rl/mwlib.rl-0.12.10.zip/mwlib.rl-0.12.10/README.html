<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.8.1: http://docutils.sourceforge.net/" />
<title>mwlib.rl - reportlab pdf writer</title>
<style type="text/css">

/*
:Author: David Goodger (goodger@python.org)
:Id: $Id: html4css1.css 7056 2011-06-17 10:50:48Z milde $
:Copyright: This stylesheet has been placed in the public domain.

Default cascading style sheet for the HTML output of Docutils.

See http://docutils.sf.net/docs/howto/html-stylesheets.html for how to
customize this style sheet.
*/

/* used to remove borders from tables and images */
.borderless, table.borderless td, table.borderless th {
  border: 0 }

table.borderless td, table.borderless th {
  /* Override padding for "table.docutils td" with "! important".
     The right padding separates the table cells. */
  padding: 0 0.5em 0 0 ! important }

.first {
  /* Override more specific margin styles with "! important". */
  margin-top: 0 ! important }

.last, .with-subtitle {
  margin-bottom: 0 ! important }

.hidden {
  display: none }

a.toc-backref {
  text-decoration: none ;
  color: black }

blockquote.epigraph {
  margin: 2em 5em ; }

dl.docutils dd {
  margin-bottom: 0.5em }

object[type="image/svg+xml"], object[type="application/x-shockwave-flash"] {
  overflow: hidden;
}

/* Uncomment (and remove this text!) to get bold-faced definition list terms
dl.docutils dt {
  font-weight: bold }
*/

div.abstract {
  margin: 2em 5em }

div.abstract p.topic-title {
  font-weight: bold ;
  text-align: center }

div.admonition, div.attention, div.caution, div.danger, div.error,
div.hint, div.important, div.note, div.tip, div.warning {
  margin: 2em ;
  border: medium outset ;
  padding: 1em }

div.admonition p.admonition-title, div.hint p.admonition-title,
div.important p.admonition-title, div.note p.admonition-title,
div.tip p.admonition-title {
  font-weight: bold ;
  font-family: sans-serif }

div.attention p.admonition-title, div.caution p.admonition-title,
div.danger p.admonition-title, div.error p.admonition-title,
div.warning p.admonition-title {
  color: red ;
  font-weight: bold ;
  font-family: sans-serif }

/* Uncomment (and remove this text!) to get reduced vertical space in
   compound paragraphs.
div.compound .compound-first, div.compound .compound-middle {
  margin-bottom: 0.5em }

div.compound .compound-last, div.compound .compound-middle {
  margin-top: 0.5em }
*/

div.dedication {
  margin: 2em 5em ;
  text-align: center ;
  font-style: italic }

div.dedication p.topic-title {
  font-weight: bold ;
  font-style: normal }

div.figure {
  margin-left: 2em ;
  margin-right: 2em }

div.footer, div.header {
  clear: both;
  font-size: smaller }

div.line-block {
  display: block ;
  margin-top: 1em ;
  margin-bottom: 1em }

div.line-block div.line-block {
  margin-top: 0 ;
  margin-bottom: 0 ;
  margin-left: 1.5em }

div.sidebar {
  margin: 0 0 0.5em 1em ;
  border: medium outset ;
  padding: 1em ;
  background-color: #ffffee ;
  width: 40% ;
  float: right ;
  clear: right }

div.sidebar p.rubric {
  font-family: sans-serif ;
  font-size: medium }

div.system-messages {
  margin: 5em }

div.system-messages h1 {
  color: red }

div.system-message {
  border: medium outset ;
  padding: 1em }

div.system-message p.system-message-title {
  color: red ;
  font-weight: bold }

div.topic {
  margin: 2em }

h1.section-subtitle, h2.section-subtitle, h3.section-subtitle,
h4.section-subtitle, h5.section-subtitle, h6.section-subtitle {
  margin-top: 0.4em }

h1.title {
  text-align: center }

h2.subtitle {
  text-align: center }

hr.docutils {
  width: 75% }

img.align-left, .figure.align-left, object.align-left {
  clear: left ;
  float: left ;
  margin-right: 1em }

img.align-right, .figure.align-right, object.align-right {
  clear: right ;
  float: right ;
  margin-left: 1em }

img.align-center, .figure.align-center, object.align-center {
  display: block;
  margin-left: auto;
  margin-right: auto;
}

.align-left {
  text-align: left }

.align-center {
  clear: both ;
  text-align: center }

.align-right {
  text-align: right }

/* reset inner alignment in figures */
div.align-right {
  text-align: inherit }

/* div.align-center * { */
/*   text-align: left } */

ol.simple, ul.simple {
  margin-bottom: 1em }

ol.arabic {
  list-style: decimal }

ol.loweralpha {
  list-style: lower-alpha }

ol.upperalpha {
  list-style: upper-alpha }

ol.lowerroman {
  list-style: lower-roman }

ol.upperroman {
  list-style: upper-roman }

p.attribution {
  text-align: right ;
  margin-left: 50% }

p.caption {
  font-style: italic }

p.credits {
  font-style: italic ;
  font-size: smaller }

p.label {
  white-space: nowrap }

p.rubric {
  font-weight: bold ;
  font-size: larger ;
  color: maroon ;
  text-align: center }

p.sidebar-title {
  font-family: sans-serif ;
  font-weight: bold ;
  font-size: larger }

p.sidebar-subtitle {
  font-family: sans-serif ;
  font-weight: bold }

p.topic-title {
  font-weight: bold }

pre.address {
  margin-bottom: 0 ;
  margin-top: 0 ;
  font: inherit }

pre.literal-block, pre.doctest-block, pre.math {
  margin-left: 2em ;
  margin-right: 2em }

span.classifier {
  font-family: sans-serif ;
  font-style: oblique }

span.classifier-delimiter {
  font-family: sans-serif ;
  font-weight: bold }

span.interpreted {
  font-family: sans-serif }

span.option {
  white-space: nowrap }

span.pre {
  white-space: pre }

span.problematic {
  color: red }

span.section-subtitle {
  /* font-size relative to parent (h1..h6 element) */
  font-size: 80% }

table.citation {
  border-left: solid 1px gray;
  margin-left: 1px }

table.docinfo {
  margin: 2em 4em }

table.docutils {
  margin-top: 0.5em ;
  margin-bottom: 0.5em }

table.footnote {
  border-left: solid 1px black;
  margin-left: 1px }

table.docutils td, table.docutils th,
table.docinfo td, table.docinfo th {
  padding-left: 0.5em ;
  padding-right: 0.5em ;
  vertical-align: top }

table.docutils th.field-name, table.docinfo th.docinfo-name {
  font-weight: bold ;
  text-align: left ;
  white-space: nowrap ;
  padding-left: 0 }

h1 tt.docutils, h2 tt.docutils, h3 tt.docutils,
h4 tt.docutils, h5 tt.docutils, h6 tt.docutils {
  font-size: 100% }

ul.auto-toc {
  list-style-type: none }

</style>
</head>
<body>
<div class="document" id="mwlib-rl-reportlab-pdf-writer">
<h1 class="title">mwlib.rl - reportlab pdf writer</h1>

<!-- -*- mode: rst; coding: utf-8 -*- -->
<div class="section" id="overview">
<h1>Overview</h1>
<p>mwlib.rl provides a library for writing pdf documents from <a class="reference external" href="http://www.mediawiki.org">mediawiki</a>
articles which were parsed by the mwlib library.</p>
</div>
<div class="section" id="installation">
<h1>Installation</h1>
<p>Please read <a class="reference external" href="http://mwlib.readthedocs.org/en/latest/installation.html">http://mwlib.readthedocs.org/en/latest/installation.html</a>
for installation instructions.</p>
</div>
<div class="section" id="pdf-customization">
<h1>PDF Customization</h1>
<p>Customizing the resulting PDFs is possible by adding a custom configuration file.
The file needs to be named customconfig.py and should be located in your PYTHONPATH.
Basically you can override anything in the pdfstyles.py file with your custom configuration.
Any changes need to be done with care in order not to break things!
Check the pdfstyles.py file for more information.</p>
<p>Also check the customnodetransformer.py file for more options for customization.</p>
<div class="section" id="font-configuration">
<h2>Font configuration:</h2>
<p>The font configuration can be changed in fontconfig.py. For the default configuration to
work properly it is necessary to install a couple of fonts. If these fonts are not installed
built-in Adobe fonts are used where necessary.</p>
<p>The following fonts need to be installed:
AR PL UMing HK, Ezra SIL, Nazli, UnBatang, Arundina Serif, Lohit Telugu, Sarai, Lohit Punjabi,
Lohit Oriya, AnjaliOldLipi, Kedage, LikhanNormal, Lohit Tamil, Linux Libertine</p>
<p>These fonts are contained in the following debian (meta-)packages:
ttf-indic-fonts, ttf-unfonts, ttf-farsiweb, ttf-arphic-uming, ttf-sil-ezra, ttf-thai-arundina,
linux-libertine</p>
<p>After the font installation a directory &quot;mwlibfonts&quot; needs to be created in the home directory.
All fonts need to be symlinked to the appropriate directories (see fontconfig.py).</p>
</div>
</div>
<div class="section" id="contact-further-information">
<h1>Contact/Further Information</h1>
<p>For further information please visit our trac instance running at
<a class="reference external" href="http://code.pediapress.com">http://code.pediapress.com</a>
The current development version can also be found there.</p>
</div>
<div class="section" id="changelog">
<h1>ChangeLog</h1>
<div class="section" id="release-0-12-10">
<h2>2011-12-13 release 0.12.10</h2>
<ul class="simple">
<li>allow scaling of floating math formulas</li>
<li>allow floating of longer math formulas</li>
<li>remove space after reference</li>
<li>correct article ID: fixes printing problems on adobe reader</li>
<li>use image blacklisting for non-strict servers instead of &quot;nofilter&quot;</li>
</ul>
</div>
<div class="section" id="release-0-12-9">
<h2>2011-11-16 release 0.12.9</h2>
<ul class="simple">
<li>add rtl support</li>
<li>fix for <a class="reference external" href="https://bugzilla.wikimedia.org/show_bug.cgi?id=30548">https://bugzilla.wikimedia.org/show_bug.cgi?id=30548</a></li>
<li>fix for <a class="reference external" href="https://bugzilla.wikimedia.org/show_bug.cgi?id=30515">https://bugzilla.wikimedia.org/show_bug.cgi?id=30515</a></li>
<li>fix fail_safe_rendering for complex article titles (<a class="reference external" href="https://bugzilla.wikimedia.org/show_bug.cgi?id=30515">https://bugzilla.wikimedia.org/show_bug.cgi?id=30515</a>)</li>
</ul>
</div>
<div class="section" id="release-0-12-8">
<h2>2011-03-16 release 0.12.8</h2>
<ul class="simple">
<li>fix for multiple table captions</li>
<li>use lvl 1 headings in PDF bookmarks</li>
<li>fix: use correct pagesize for TOC</li>
<li>make chapter rule color configurable</li>
<li>fix: use correct page template</li>
<li>fix page header (#704)</li>
<li>scale oversized math formulas</li>
<li>fix translations</li>
<li>add config option to suppress URL-&gt;reference section in tables</li>
<li>handle Abbreviation node</li>
<li>make math formula size limits configurable</li>
</ul>
</div>
<div class="section" id="release-0-12-7">
<h2>2010-10-29 release 0.12.7</h2>
<ul class="simple">
<li>setup.py: require mwlib 0.12.14.</li>
<li>add localisation needed to fix #905</li>
<li>fix for 901 / transparent image bug in adobe reader</li>
<li>manually fetch hu translations from translatewiki</li>
<li>fix for #903</li>
<li>correct fontswitchter import</li>
<li>add url blacklist</li>
</ul>
</div>
<div class="section" id="release-0-12-6">
<h2>2010-10-11 release 0.12.6</h2>
<ul class="simple">
<li>fix for image positioning: align=none -&gt; non-inline</li>
<li>change hungarian localisation string</li>
<li>customflowables: fix resizeInlineImage method.</li>
<li>Localisation updates from translatewiki.net</li>
<li>fix for table cell dims (#842)</li>
<li>fix for #850</li>
<li>dont inherit color for table/row/cell</li>
<li>add spanish translations</li>
<li>make figure border color customizable</li>
<li>fix for reference handling</li>
<li>fix for TOC</li>
<li>fix typo</li>
<li>formulas resulting in huge image are skipped. avoid problems with old latex installs</li>
<li>use text color for inline nodes</li>
<li>fix for #844: dont float source code and preformatted nodes.</li>
<li>switch to ez_setup.py from setuptools-0.6c11</li>
<li>fix for #861</li>
<li>fix for table header cell content is now correctly aligned and bold</li>
<li>scale Source nodes</li>
<li>added more translations thanks to John West</li>
<li>add arabic translation thanks to John West</li>
</ul>
</div>
<div class="section" id="release-0-12-5">
<h2>2010-7-16  release 0.12.5</h2>
<ul class="simple">
<li>Localisation updates from Translatewiki.net</li>
<li>make horizontal rule below article title configurable</li>
<li>add gettext requirement to README. thanks to Daniel Weuthen</li>
<li>fix for 704</li>
<li>allow custom list item symbol</li>
<li>add translateable strings</li>
<li>use correct font for sections</li>
<li>fix for tables</li>
<li>add translatable string &quot;Index&quot;</li>
<li>scale down preformatted nodes if they exceed the page width</li>
<li>added Greek l10n for &quot;Appendix&quot;, corrected the one for &quot;Skipping Articles!&quot;</li>
<li>add update target</li>
<li>stretch tables with: width=100%</li>
<li>fix img alignment</li>
<li>updates for fontconfig</li>
<li>fix for #809</li>
<li>translate Contents in hu</li>
<li>fix flipped page_margins. fix for custom pagesizes</li>
<li>use vertical alignment of table cells</li>
<li>add test for fake hypenation</li>
<li>fix fake hyphenation (#781)</li>
<li>fix wording</li>
<li>more L10N fixes</li>
<li>fix po file for language id</li>
<li>use text color</li>
<li>fix handling of colspan</li>
<li>handle abbr tag</li>
<li>fix for galleries: #270</li>
<li>move tests into top-level directory. py.test 1.1 is otherwise confused</li>
<li>improve image alignment</li>
<li>use render_caption property. small refactoring of getTableSize</li>
<li>ignore hiero tags</li>
<li>use refactored style handling</li>
<li>support html attrs for list styles</li>
<li>support roman and alpha ordered list styles</li>
<li>remove inter-pdf link arrows</li>
<li>make compatible with old imagemagick versions.</li>
<li>allow custom title page images</li>
</ul>
</div>
<div class="section" id="release-0-12-4">
<h2>2009-10-20 release 0.12.4</h2>
<ul class="simple">
<li>no escaping in titlepage footer</li>
<li>no escaping for pagefooter</li>
<li>define treecleaner skip methods in pdfstyles to allow customization.</li>
<li>allow higher resolution math images by setting environment variable MATH_RESOLUTION</li>
<li>localize license title</li>
<li>fix for #696</li>
<li>fix for #699</li>
<li>the code tag is now correctly handled as an inline element</li>
<li>fix unicode decode error when using fribidi</li>
<li>fix problem with pyfribidi</li>
<li>fix for invalid values of the gallery perrow attribute</li>
<li>no pagebreaks in nested tables</li>
<li>ensure pagebreaks before tables if space is sparse</li>
<li>use FreeSerif for Cyrillic and Greek</li>
<li>fix for sections inside tables. add cjk handling to zh languages</li>
<li>switch from DejaVu to FreeFont</li>
<li>fix span checking for tables</li>
</ul>
</div>
<div class="section" id="release-0-12-3">
<h2>2009-08-25 release 0.12.3</h2>
<ul class="simple">
<li>rewrite table rendering code</li>
<li>make it compatible with latest mwlib.ext</li>
</ul>
</div>
<div class="section" id="release-0-12-1">
<h2>2009-08-17 release 0.12.1</h2>
<ul class="simple">
<li>fixes</li>
<li>add Table of Contents</li>
<li>improve support for CJK languages</li>
<li>fix printing problems</li>
<li>use formatter class to style text</li>
<li>add CustomNodeTransformer</li>
</ul>
</div>
<div class="section" id="release-0-11-3">
<h2>2009-05-06 release 0.11.3</h2>
<ul class="simple">
<li>fix</li>
</ul>
</div>
<div class="section" id="release-0-11-2">
<h2>2009-05-06 release 0.11.2</h2>
<ul class="simple">
<li>fixes</li>
</ul>
</div>
<div class="section" id="release-0-11-1">
<h2>2009-05-05 release 0.11.1</h2>
<ul class="simple">
<li>add image license and contributors section to the end of the PDF</li>
<li>fixes</li>
</ul>
</div>
<div class="section" id="release-0-10-2">
<h2>2009-04-17 release 0.10.2</h2>
<ul class="simple">
<li>show pdf creation date on title page</li>
<li>fixes</li>
</ul>
</div>
<div class="section" id="release-0-10-1">
<h2>2009-04-09 release 0.10.1</h2>
<ul class="simple">
<li>move contributors and article source to the end of the pdf</li>
<li>basic support for timelines</li>
<li>use mwlib &gt; 0.10</li>
<li>other fixes</li>
</ul>
</div>
<div class="section" id="release-0-9-10">
<h2>2009-03-05 release 0.9.10</h2>
<ul class="simple">
<li>insert conditional pagebreaks before articles</li>
<li>minor fixes</li>
</ul>
</div>
<div class="section" id="release-0-9-9">
<h2>2009-03-02 release 0.9.9</h2>
<ul class="simple">
<li>minor fixes</li>
</ul>
</div>
<div class="section" id="release-0-9-8">
<h2>2009-02-19 release 0.9.8</h2>
<ul class="simple">
<li>xmlescape title and subtitle</li>
</ul>
</div>
<div class="section" id="release-0-9-7">
<h2>2009-02-18 release 0.9.7</h2>
<ul class="simple">
<li>add translations</li>
<li>improve styling</li>
</ul>
</div>
<div class="section" id="release-0-9-4">
<h2>2009-02-03 release 0.9.4</h2>
<ul class="simple">
<li>improve rendering of galleries</li>
<li>improve page breaks</li>
<li>use new image scaling method from mwlib</li>
</ul>
</div>
<div class="section" id="release-0-9-3">
<h2>2009-02-03 release 0.9.3</h2>
<ul class="simple">
<li>use correct alignment and background color for table cells</li>
<li>text alignment is now justified by default</li>
<li>workaround for greyscale images with alphachannel (#429)</li>
</ul>
</div>
</div>
<div class="section" id="license">
<h1>License</h1>
<p>Copyright (c) 2007, 2008 PediaPress GmbH</p>
<p>All rights reserved.</p>
<p>Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are
met:</p>
<ul class="simple">
<li>Redistributions of source code must retain the above copyright
notice, this list of conditions and the following disclaimer.</li>
<li>Redistributions in binary form must reproduce the above
copyright notice, this list of conditions and the following
disclaimer in the documentation and/or other materials provided
with the distribution.</li>
<li>Neither the name of PediaPress GmbH nor the names of its
contributors may be used to endorse or promote products derived
from this software without specific prior written permission.</li>
</ul>
<p>THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
&quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR
CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</p>
</div>
</div>
</body>
</html>
