<?xml version="1.0" encoding="utf-8"?>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:tal="http://xml.zope.org/namespaces/tal"
      xmlns:metal="http://xml.zope.org/namespaces/metal"
      metal:use-macro="base">
<head><title></title></head>
<body>
<div id="mainPanel" metal:fill-slot="main">
  ${form.begin()}
  <!-- ............................... Buttons ............................ -->
  <div id="buttons">
    <div class="first">
      ${request.breadcrumbs.back_button()}
    </div>
    <div class="last">
      ${form.button(route('pack_edit', project_id=pack.project_id, pack_id=pack.pack_id), _('Edit'), class_='buttonMain')}
      ${form.button(route('project_dashboard', project_id=project['project_id']), _('View dashboard'))}
    </div>
    <hr class="hidden"/>
  </div>
  <div id="main">
    <h2 id="subtitle" class="pack" title="${_('Pack')}">
      ${project['label']}  <em>${pack.label}</em>
    </h2>
    <!-- ................................ Tabs ............................ -->
    <div id="tabSet" tal:define="file_types ('file', 'resource', 'template')">
      ${tab_set.toc('tabPack')}
      <!-- ...... Decription ...... -->
      ${tab_set.tab_begin(0, 'd')}
      ${form.grid_item(None, _('Pack:'), pack.label, class_='')}
      ${form.grid_item(None, _('Description:'), pack.description, class_='')}
      <div class="formItem" tal:condition="pack.recursive">
        <label for="recursive"><em>${_('Recursive:')}</em></label>
        <div id="recursive"><img src="/Static/Images/check.png" alt="X"/></div>
      </div>
      ${tab_set.tab_end()}
      <!-- ......... Files ........ -->
      ${tab_set.tab_begin(1, 'f')}
      <div tal:define="files_view load: files_view.macro.pt" metal:use-macro="files_view"/>
      ${tab_set.tab_end()}
    </div>
    <!-- .......................... Processing ............................ -->
    <div class="formItem" tal:condition="project['processing_labels']">
      <label for="processing"><em>${_('Processing:')}</em></label>
      <div id="processing">
        ${form.select('processing_id', None, project['processing_labels'])}
        ${form.submit_image('bld!', _('Execute processing'),
          '/Static/Images/action_build.png', class_="slow")}
      </div>
    </div>
  </div>
  ${form.end()}
</div>
</body>
</html>